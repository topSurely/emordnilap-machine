var ox=Object.defineProperty;var ax=(i,e,t)=>e in i?ox(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var lx=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var pn=(i,e,t)=>ax(i,typeof e!="symbol"?e+"":e,t);var rC=lx((sC,Ac)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sf(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function t1(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var s=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return i[r]}})}),t}var Sp={exports:{}},ac={},bp={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function ux(){if(Iy)return ht;Iy=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function S(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function A(I,L,W){this.props=I,this.context=L,this.refs=R,this.updater=W||b}A.prototype.isReactComponent={},A.prototype.setState=function(I,L){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,L,"setState")},A.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function k(){}k.prototype=A.prototype;function U(I,L,W){this.props=I,this.context=L,this.refs=R,this.updater=W||b}var D=U.prototype=new k;D.constructor=U,C(D,A.prototype),D.isPureReactComponent=!0;var $=Array.isArray,O=Object.prototype.hasOwnProperty,K={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function te(I,L,W){var J,he={},me=null,ge=null;if(L!=null)for(J in L.ref!==void 0&&(ge=L.ref),L.key!==void 0&&(me=""+L.key),L)O.call(L,J)&&!z.hasOwnProperty(J)&&(he[J]=L[J]);var be=arguments.length-2;if(be===1)he.children=W;else if(1<be){for(var Me=Array(be),Pe=0;Pe<be;Pe++)Me[Pe]=arguments[Pe+2];he.children=Me}if(I&&I.defaultProps)for(J in be=I.defaultProps,be)he[J]===void 0&&(he[J]=be[J]);return{$$typeof:i,type:I,key:me,ref:ge,props:he,_owner:K.current}}function ce(I,L){return{$$typeof:i,type:I.type,key:L,ref:I.ref,props:I.props,_owner:I._owner}}function le(I){return typeof I=="object"&&I!==null&&I.$$typeof===i}function xe(I){var L={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(W){return L[W]})}var Y=/\/+/g;function Z(I,L){return typeof I=="object"&&I!==null&&I.key!=null?xe(""+I.key):L.toString(36)}function ue(I,L,W,J,he){var me=typeof I;(me==="undefined"||me==="boolean")&&(I=null);var ge=!1;if(I===null)ge=!0;else switch(me){case"string":case"number":ge=!0;break;case"object":switch(I.$$typeof){case i:case e:ge=!0}}if(ge)return ge=I,he=he(ge),I=J===""?"."+Z(ge,0):J,$(he)?(W="",I!=null&&(W=I.replace(Y,"$&/")+"/"),ue(he,L,W,"",function(Pe){return Pe})):he!=null&&(le(he)&&(he=ce(he,W+(!he.key||ge&&ge.key===he.key?"":(""+he.key).replace(Y,"$&/")+"/")+I)),L.push(he)),1;if(ge=0,J=J===""?".":J+":",$(I))for(var be=0;be<I.length;be++){me=I[be];var Me=J+Z(me,be);ge+=ue(me,L,W,Me,he)}else if(Me=S(I),typeof Me=="function")for(I=Me.call(I),be=0;!(me=I.next()).done;)me=me.value,Me=J+Z(me,be++),ge+=ue(me,L,W,Me,he);else if(me==="object")throw L=String(I),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ge}function _e(I,L,W){if(I==null)return I;var J=[],he=0;return ue(I,J,"","",function(me){return L.call(W,me,he++)}),J}function B(I){if(I._status===-1){var L=I._result;L=L(),L.then(function(W){(I._status===0||I._status===-1)&&(I._status=1,I._result=W)},function(W){(I._status===0||I._status===-1)&&(I._status=2,I._result=W)}),I._status===-1&&(I._status=0,I._result=L)}if(I._status===1)return I._result.default;throw I._result}var G={current:null},P={transition:null},j={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:P,ReactCurrentOwner:K};function N(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:_e,forEach:function(I,L,W){_e(I,function(){L.apply(this,arguments)},W)},count:function(I){var L=0;return _e(I,function(){L++}),L},toArray:function(I){return _e(I,function(L){return L})||[]},only:function(I){if(!le(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ht.Component=A,ht.Fragment=t,ht.Profiler=s,ht.PureComponent=U,ht.StrictMode=r,ht.Suspense=p,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,ht.act=N,ht.cloneElement=function(I,L,W){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var J=C({},I.props),he=I.key,me=I.ref,ge=I._owner;if(L!=null){if(L.ref!==void 0&&(me=L.ref,ge=K.current),L.key!==void 0&&(he=""+L.key),I.type&&I.type.defaultProps)var be=I.type.defaultProps;for(Me in L)O.call(L,Me)&&!z.hasOwnProperty(Me)&&(J[Me]=L[Me]===void 0&&be!==void 0?be[Me]:L[Me])}var Me=arguments.length-2;if(Me===1)J.children=W;else if(1<Me){be=Array(Me);for(var Pe=0;Pe<Me;Pe++)be[Pe]=arguments[Pe+2];J.children=be}return{$$typeof:i,type:I.type,key:he,ref:me,props:J,_owner:ge}},ht.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:a,_context:I},I.Consumer=I},ht.createElement=te,ht.createFactory=function(I){var L=te.bind(null,I);return L.type=I,L},ht.createRef=function(){return{current:null}},ht.forwardRef=function(I){return{$$typeof:d,render:I}},ht.isValidElement=le,ht.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:B}},ht.memo=function(I,L){return{$$typeof:g,type:I,compare:L===void 0?null:L}},ht.startTransition=function(I){var L=P.transition;P.transition={};try{I()}finally{P.transition=L}},ht.unstable_act=N,ht.useCallback=function(I,L){return G.current.useCallback(I,L)},ht.useContext=function(I){return G.current.useContext(I)},ht.useDebugValue=function(){},ht.useDeferredValue=function(I){return G.current.useDeferredValue(I)},ht.useEffect=function(I,L){return G.current.useEffect(I,L)},ht.useId=function(){return G.current.useId()},ht.useImperativeHandle=function(I,L,W){return G.current.useImperativeHandle(I,L,W)},ht.useInsertionEffect=function(I,L){return G.current.useInsertionEffect(I,L)},ht.useLayoutEffect=function(I,L){return G.current.useLayoutEffect(I,L)},ht.useMemo=function(I,L){return G.current.useMemo(I,L)},ht.useReducer=function(I,L,W){return G.current.useReducer(I,L,W)},ht.useRef=function(I){return G.current.useRef(I)},ht.useState=function(I){return G.current.useState(I)},ht.useSyncExternalStore=function(I,L,W){return G.current.useSyncExternalStore(I,L,W)},ht.useTransition=function(){return G.current.useTransition()},ht.version="18.3.1",ht}var Ry;function Og(){return Ry||(Ry=1,bp.exports=ux()),bp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function hx(){if(My)return ac;My=1;var i=Og(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,g){var _,w={},S=null,b=null;g!==void 0&&(S=""+g),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(b=p.ref);for(_ in p)r.call(p,_)&&!a.hasOwnProperty(_)&&(w[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:d,key:S,ref:b,props:w,_owner:s.current}}return ac.Fragment=t,ac.jsx=c,ac.jsxs=c,ac}var ky;function cx(){return ky||(ky=1,Sp.exports=hx()),Sp.exports}var Sr=cx(),Vt=Og();const wo=Sf(Vt);var bd={},Tp={exports:{}},Bn={},Ap={exports:{}},Cp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function dx(){return Ny||(Ny=1,function(i){function e(P,j){var N=P.length;P.push(j);e:for(;0<N;){var I=N-1>>>1,L=P[I];if(0<s(L,j))P[I]=j,P[N]=L,N=I;else break e}}function t(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var j=P[0],N=P.pop();if(N!==j){P[0]=N;e:for(var I=0,L=P.length,W=L>>>1;I<W;){var J=2*(I+1)-1,he=P[J],me=J+1,ge=P[me];if(0>s(he,N))me<L&&0>s(ge,he)?(P[I]=ge,P[me]=N,I=me):(P[I]=he,P[J]=N,I=J);else if(me<L&&0>s(ge,N))P[I]=ge,P[me]=N,I=me;else break e}}return j}function s(P,j){var N=P.sortIndex-j.sortIndex;return N!==0?N:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,w=null,S=3,b=!1,C=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(P){for(var j=t(g);j!==null;){if(j.callback===null)r(g);else if(j.startTime<=P)r(g),j.sortIndex=j.expirationTime,e(p,j);else break;j=t(g)}}function $(P){if(R=!1,D(P),!C)if(t(p)!==null)C=!0,B(O);else{var j=t(g);j!==null&&G($,j.startTime-P)}}function O(P,j){C=!1,R&&(R=!1,k(te),te=-1),b=!0;var N=S;try{for(D(j),w=t(p);w!==null&&(!(w.expirationTime>j)||P&&!xe());){var I=w.callback;if(typeof I=="function"){w.callback=null,S=w.priorityLevel;var L=I(w.expirationTime<=j);j=i.unstable_now(),typeof L=="function"?w.callback=L:w===t(p)&&r(p),D(j)}else r(p);w=t(p)}if(w!==null)var W=!0;else{var J=t(g);J!==null&&G($,J.startTime-j),W=!1}return W}finally{w=null,S=N,b=!1}}var K=!1,z=null,te=-1,ce=5,le=-1;function xe(){return!(i.unstable_now()-le<ce)}function Y(){if(z!==null){var P=i.unstable_now();le=P;var j=!0;try{j=z(!0,P)}finally{j?Z():(K=!1,z=null)}}else K=!1}var Z;if(typeof U=="function")Z=function(){U(Y)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,_e=ue.port2;ue.port1.onmessage=Y,Z=function(){_e.postMessage(null)}}else Z=function(){A(Y,0)};function B(P){z=P,K||(K=!0,Z())}function G(P,j){te=A(function(){P(i.unstable_now())},j)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_continueExecution=function(){C||b||(C=!0,B(O))},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(P){switch(S){case 1:case 2:case 3:var j=3;break;default:j=S}var N=S;S=j;try{return P()}finally{S=N}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var N=S;S=P;try{return j()}finally{S=N}},i.unstable_scheduleCallback=function(P,j,N){var I=i.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?I+N:I):N=I,P){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=N+L,P={id:_++,callback:j,priorityLevel:P,startTime:N,expirationTime:L,sortIndex:-1},N>I?(P.sortIndex=N,e(g,P),t(p)===null&&P===t(g)&&(R?(k(te),te=-1):R=!0,G($,N-I))):(P.sortIndex=L,e(p,P),C||b||(C=!0,B(O))),P},i.unstable_shouldYield=xe,i.unstable_wrapCallback=function(P){var j=S;return function(){var N=S;S=j;try{return P.apply(this,arguments)}finally{S=N}}}}(Cp)),Cp}var Dy;function fx(){return Dy||(Dy=1,Ap.exports=dx()),Ap.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function px(){if(Oy)return Bn;Oy=1;var i=Og(),e=fx();function t(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,h=1;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(n,o){c(n,o),c(n+"Capture",o)}function c(n,o){for(s[n]=o,n=0;n<o.length;n++)r.add(o[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function S(n){return p.call(w,n)?!0:p.call(_,n)?!1:g.test(n)?w[n]=!0:(_[n]=!0,!1)}function b(n,o,h,f){if(h!==null&&h.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:h!==null?!h.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function C(n,o,h,f){if(o===null||typeof o>"u"||b(n,o,h,f))return!0;if(f)return!1;if(h!==null)switch(h.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(n,o,h,f,y,E,M){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=n,this.type=o,this.sanitizeURL=E,this.removeEmptyString=M}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){A[n]=new R(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];A[o]=new R(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){A[n]=new R(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){A[n]=new R(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){A[n]=new R(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){A[n]=new R(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){A[n]=new R(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){A[n]=new R(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){A[n]=new R(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function U(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(k,U);A[o]=new R(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(k,U);A[o]=new R(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(k,U);A[o]=new R(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){A[n]=new R(n,1,!1,n.toLowerCase(),null,!1,!1)}),A.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){A[n]=new R(n,1,!1,n.toLowerCase(),null,!0,!0)});function D(n,o,h,f){var y=A.hasOwnProperty(o)?A[o]:null;(y!==null?y.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,h,y,f)&&(h=null),f||y===null?S(o)&&(h===null?n.removeAttribute(o):n.setAttribute(o,""+h)):y.mustUseProperty?n[y.propertyName]=h===null?y.type===3?!1:"":h:(o=y.attributeName,f=y.attributeNamespace,h===null?n.removeAttribute(o):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,f?n.setAttributeNS(f,o,h):n.setAttribute(o,h))))}var $=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),K=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),xe=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),P=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var N=Object.assign,I;function L(n){if(I===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);I=o&&o[1]||""}return`
`+I+n}var W=!1;function J(n,o){if(!n||W)return"";W=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(oe){var f=oe}Reflect.construct(n,[],o)}else{try{o.call()}catch(oe){f=oe}n.call(o.prototype)}else{try{throw Error()}catch(oe){f=oe}n()}}catch(oe){if(oe&&f&&typeof oe.stack=="string"){for(var y=oe.stack.split(`
`),E=f.stack.split(`
`),M=y.length-1,H=E.length-1;1<=M&&0<=H&&y[M]!==E[H];)H--;for(;1<=M&&0<=H;M--,H--)if(y[M]!==E[H]){if(M!==1||H!==1)do if(M--,H--,0>H||y[M]!==E[H]){var V=`
`+y[M].replace(" at new "," at ");return n.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",n.displayName)),V}while(1<=M&&0<=H);break}}}finally{W=!1,Error.prepareStackTrace=h}return(n=n?n.displayName||n.name:"")?L(n):""}function he(n){switch(n.tag){case 5:return L(n.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return n=J(n.type,!1),n;case 11:return n=J(n.type.render,!1),n;case 1:return n=J(n.type,!0),n;default:return""}}function me(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case z:return"Fragment";case K:return"Portal";case ce:return"Profiler";case te:return"StrictMode";case Z:return"Suspense";case ue:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case xe:return(n.displayName||"Context")+".Consumer";case le:return(n._context.displayName||"Context")+".Provider";case Y:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _e:return o=n.displayName||null,o!==null?o:me(n.type)||"Memo";case B:o=n._payload,n=n._init;try{return me(n(o))}catch{}}return null}function ge(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(o);case 8:return o===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function be(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Me(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Pe(n){var o=Me(n)?"checked":"value",h=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),f=""+n[o];if(!n.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,E=h.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return y.call(this)},set:function(M){f=""+M,E.call(this,M)}}),Object.defineProperty(n,o,{enumerable:h.enumerable}),{getValue:function(){return f},setValue:function(M){f=""+M},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Ue(n){n._valueTracker||(n._valueTracker=Pe(n))}function Ze(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var h=o.getValue(),f="";return n&&(f=Me(n)?n.checked?"true":"false":n.value),n=f,n!==h?(o.setValue(n),!0):!1}function Je(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function pt(n,o){var h=o.checked;return N({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??n._wrapperState.initialChecked})}function We(n,o){var h=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;h=be(o.value!=null?o.value:h),n._wrapperState={initialChecked:f,initialValue:h,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ke(n,o){o=o.checked,o!=null&&D(n,"checked",o,!1)}function or(n,o){Ke(n,o);var h=be(o.value),f=o.type;if(h!=null)f==="number"?(h===0&&n.value===""||n.value!=h)&&(n.value=""+h):n.value!==""+h&&(n.value=""+h);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?Ao(n,o.type,h):o.hasOwnProperty("defaultValue")&&Ao(n,o.type,be(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function zn(n,o,h){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,h||o===n.value||(n.value=o),n.defaultValue=o}h=n.name,h!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,h!==""&&(n.name=h)}function Ao(n,o,h){(o!=="number"||Je(n.ownerDocument)!==n)&&(h==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+h&&(n.defaultValue=""+h))}var Gn=Array.isArray;function Zi(n,o,h,f){if(n=n.options,o){o={};for(var y=0;y<h.length;y++)o["$"+h[y]]=!0;for(h=0;h<n.length;h++)y=o.hasOwnProperty("$"+n[h].value),n[h].selected!==y&&(n[h].selected=y),y&&f&&(n[h].defaultSelected=!0)}else{for(h=""+be(h),o=null,y=0;y<n.length;y++){if(n[y].value===h){n[y].selected=!0,f&&(n[y].defaultSelected=!0);return}o!==null||n[y].disabled||(o=n[y])}o!==null&&(o.selected=!0)}}function Ma(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return N({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Xl(n,o){var h=o.value;if(h==null){if(h=o.children,o=o.defaultValue,h!=null){if(o!=null)throw Error(t(92));if(Gn(h)){if(1<h.length)throw Error(t(93));h=h[0]}o=h}o==null&&(o=""),h=o}n._wrapperState={initialValue:be(h)}}function Ji(n,o){var h=be(o.value),f=be(o.defaultValue);h!=null&&(h=""+h,h!==n.value&&(n.value=h),o.defaultValue==null&&n.defaultValue!==h&&(n.defaultValue=h)),f!=null&&(n.defaultValue=""+f)}function Yl(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function ka(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Na(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?ka(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ri,Co=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,h,f,y){MSApp.execUnsafeLocalFunction(function(){return n(o,h,f,y)})}:n}(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(ri=ri||document.createElement("div"),ri.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ri.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function es(n,o){if(o){var h=n.firstChild;if(h&&h===n.lastChild&&h.nodeType===3){h.nodeValue=o;return}}n.textContent=o}var Fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lh=["Webkit","ms","Moz","O"];Object.keys(Fs).forEach(function(n){lh.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),Fs[o]=Fs[n]})});function Po(n,o,h){return o==null||typeof o=="boolean"||o===""?"":h||typeof o!="number"||o===0||Fs.hasOwnProperty(n)&&Fs[n]?(""+o).trim():o+"px"}function Bs(n,o){n=n.style;for(var h in o)if(o.hasOwnProperty(h)){var f=h.indexOf("--")===0,y=Po(h,o[h],f);h==="float"&&(h="cssFloat"),f?n.setProperty(h,y):n[h]=y}}var ne=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function se(n,o){if(o){if(ne[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ut(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function bt(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var it=null,Fr=null,$r=null;function br(n){if(n=Jo(n)){if(typeof it!="function")throw Error(t(280));var o=n.stateNode;o&&(o=ea(o),it(n.stateNode,n.type,o))}}function yn(n){Fr?$r?$r.push(n):$r=[n]:Fr=n}function Ls(){if(Fr){var n=Fr,o=$r;if($r=Fr=null,br(n),o)for(n=0;n<o.length;n++)br(o[n])}}function vi(n,o){return n(o)}function Tr(){}var Us=!1;function Io(n,o,h){if(Us)return n(o,h);Us=!0;try{return vi(n,o,h)}finally{Us=!1,(Fr!==null||$r!==null)&&(Tr(),Ls())}}function ts(n,o){var h=n.stateNode;if(h===null)return null;var f=ea(h);if(f===null)return null;h=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(h&&typeof h!="function")throw Error(t(231,o,typeof h));return h}var _i=!1;if(d)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){_i=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{_i=!1}function zs(n,o,h,f,y,E,M,H,V){var oe=Array.prototype.slice.call(arguments,3);try{o.apply(h,oe)}catch(Ee){this.onError(Ee)}}var Hn=!1,rs=null,Gs=!1,wi=null,Da={onError:function(n){Hn=!0,rs=n}};function ql(n,o,h,f,y,E,M,H,V){Hn=!1,rs=null,zs.apply(Da,arguments)}function Oa(n,o,h,f,y,E,M,H,V){if(ql.apply(this,arguments),Hn){if(Hn){var oe=rs;Hn=!1,rs=null}else throw Error(t(198));Gs||(Gs=!0,wi=oe)}}function ni(n){var o=n,h=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,o.flags&4098&&(h=o.return),n=o.return;while(n)}return o.tag===3?h:null}function Ql(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function Ro(n){if(ni(n)!==n)throw Error(t(188))}function ns(n){var o=n.alternate;if(!o){if(o=ni(n),o===null)throw Error(t(188));return o!==n?null:n}for(var h=n,f=o;;){var y=h.return;if(y===null)break;var E=y.alternate;if(E===null){if(f=y.return,f!==null){h=f;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===h)return Ro(y),n;if(E===f)return Ro(y),o;E=E.sibling}throw Error(t(188))}if(h.return!==f.return)h=y,f=E;else{for(var M=!1,H=y.child;H;){if(H===h){M=!0,h=y,f=E;break}if(H===f){M=!0,f=y,h=E;break}H=H.sibling}if(!M){for(H=E.child;H;){if(H===h){M=!0,h=E,f=y;break}if(H===f){M=!0,f=E,h=y;break}H=H.sibling}if(!M)throw Error(t(189))}}if(h.alternate!==f)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?n:o}function Hs(n){return n=ns(n),n!==null?Kl(n):null}function Kl(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=Kl(n);if(o!==null)return o;n=n.sibling}return null}var Fa=e.unstable_scheduleCallback,Bc=e.unstable_cancelCallback,Uf=e.unstable_shouldYield,zf=e.unstable_requestPaint,Yt=e.unstable_now,Ba=e.unstable_getCurrentPriorityLevel,La=e.unstable_ImmediatePriority,Zl=e.unstable_UserBlockingPriority,Jl=e.unstable_NormalPriority,uh=e.unstable_LowPriority,js=e.unstable_IdlePriority,jn=null,mt=null;function It(n){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:$s,Ar=Math.log,Wr=Math.LN2;function $s(n){return n>>>=0,n===0?32:31-(Ar(n)/Wr|0)|0}var Ei=64,Cr=4194304;function Ws(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ua(n,o){var h=n.pendingLanes;if(h===0)return 0;var f=0,y=n.suspendedLanes,E=n.pingedLanes,M=h&268435455;if(M!==0){var H=M&~y;H!==0?f=Ws(H):(E&=M,E!==0&&(f=Ws(E)))}else M=h&~y,M!==0?f=Ws(M):E!==0&&(f=Ws(E));if(f===0)return 0;if(o!==0&&o!==f&&!(o&y)&&(y=f&-f,E=o&-o,y>=E||y===16&&(E&4194240)!==0))return o;if(f&4&&(f|=h&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=f;0<o;)h=31-pr(o),y=1<<h,f|=n[h],o&=~y;return f}function Lc(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(n,o){for(var h=n.suspendedLanes,f=n.pingedLanes,y=n.expirationTimes,E=n.pendingLanes;0<E;){var M=31-pr(E),H=1<<M,V=y[M];V===-1?(!(H&h)||H&f)&&(y[M]=Lc(H,o)):V<=o&&(n.expiredLanes|=H),E&=~H}}function tu(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function vn(){var n=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),n}function hh(n){for(var o=[],h=0;31>h;h++)o.push(n);return o}function za(n,o,h){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-pr(o),n[o]=h}function ch(n,o){var h=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<h;){var y=31-pr(h),E=1<<y;o[y]=0,f[y]=-1,n[y]=-1,h&=~E}}function Ga(n,o){var h=n.entangledLanes|=o;for(n=n.entanglements;h;){var f=31-pr(h),y=1<<f;y&o|n[f]&o&&(n[f]|=o),h&=~y}}var gt=0;function Ha(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Uc,ja,dh,ru,Mo,$a=!1,ct=[],Si=null,ii=null,bi=null,Wa=new Map,Va=new Map,Dt=[],fh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zc(n,o){switch(n){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Wa.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Va.delete(o.pointerId)}}function ko(n,o,h,f,y,E){return n===null||n.nativeEvent!==E?(n={blockedOn:o,domEventName:h,eventSystemFlags:f,nativeEvent:E,targetContainers:[y]},o!==null&&(o=Jo(o),o!==null&&ja(o)),n):(n.eventSystemFlags|=f,o=n.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),n)}function Gf(n,o,h,f,y){switch(o){case"focusin":return Si=ko(Si,n,o,h,f,y),!0;case"dragenter":return ii=ko(ii,n,o,h,f,y),!0;case"mouseover":return bi=ko(bi,n,o,h,f,y),!0;case"pointerover":var E=y.pointerId;return Wa.set(E,ko(Wa.get(E)||null,n,o,h,f,y)),!0;case"gotpointercapture":return E=y.pointerId,Va.set(E,ko(Va.get(E)||null,n,o,h,f,y)),!0}return!1}function Xa(n){var o=fs(n.target);if(o!==null){var h=ni(o);if(h!==null){if(o=h.tag,o===13){if(o=Ql(h),o!==null){n.blockedOn=o,Mo(n.priority,function(){dh(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){n.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nn(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var h=Vr(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(h===null){h=n.nativeEvent;var f=new h.constructor(h.type,h);wt=f,h.target.dispatchEvent(f),wt=null}else return o=Jo(h),o!==null&&ja(o),n.blockedOn=h,!1;o.shift()}return!0}function _n(n,o,h){nn(n)&&h.delete(o)}function Ti(){$a=!1,Si!==null&&nn(Si)&&(Si=null),ii!==null&&nn(ii)&&(ii=null),bi!==null&&nn(bi)&&(bi=null),Wa.forEach(_n),Va.forEach(_n)}function is(n,o){n.blockedOn===o&&(n.blockedOn=null,$a||($a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ti)))}function Vs(n){function o(y){return is(y,n)}if(0<ct.length){is(ct[0],n);for(var h=1;h<ct.length;h++){var f=ct[h];f.blockedOn===n&&(f.blockedOn=null)}}for(Si!==null&&is(Si,n),ii!==null&&is(ii,n),bi!==null&&is(bi,n),Wa.forEach(o),Va.forEach(o),h=0;h<Dt.length;h++)f=Dt[h],f.blockedOn===n&&(f.blockedOn=null);for(;0<Dt.length&&(h=Dt[0],h.blockedOn===null);)Xa(h),h.blockedOn===null&&Dt.shift()}var Xs=$.ReactCurrentBatchConfig,sn=!0;function No(n,o,h,f){var y=gt,E=Xs.transition;Xs.transition=null;try{gt=1,Oo(n,o,h,f)}finally{gt=y,Xs.transition=E}}function Do(n,o,h,f){var y=gt,E=Xs.transition;Xs.transition=null;try{gt=4,Oo(n,o,h,f)}finally{gt=y,Xs.transition=E}}function Oo(n,o,h,f){if(sn){var y=Vr(n,o,h,f);if(y===null)Eu(n,o,f,Ys,h),zc(n,f);else if(Gf(y,n,o,h,f))f.stopPropagation();else if(zc(n,f),o&4&&-1<fh.indexOf(n)){for(;y!==null;){var E=Jo(y);if(E!==null&&Uc(E),E=Vr(n,o,h,f),E===null&&Eu(n,o,f,Ys,h),E===y)break;y=E}y!==null&&f.stopPropagation()}else Eu(n,o,f,null,h)}}var Ys=null;function Vr(n,o,h,f){if(Ys=null,n=bt(f),n=fs(n),n!==null)if(o=ni(n),o===null)n=null;else if(h=o.tag,h===13){if(n=Ql(o),n!==null)return n;n=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return Ys=n,null}function on(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ba()){case La:return 1;case Zl:return 4;case Jl:case uh:return 16;case js:return 536870912;default:return 16}default:return 16}}var Xr=null,xn=null,wn=null;function ss(){if(wn)return wn;var n,o=xn,h=o.length,f,y="value"in Xr?Xr.value:Xr.textContent,E=y.length;for(n=0;n<h&&o[n]===y[n];n++);var M=h-n;for(f=1;f<=M&&o[h-f]===y[E-f];f++);return wn=y.slice(n,1<f?1-f:void 0)}function Ya(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function Fo(){return!0}function nu(){return!1}function Ot(n){function o(h,f,y,E,M){this._reactName=h,this._targetInst=y,this.type=f,this.nativeEvent=E,this.target=M,this.currentTarget=null;for(var H in n)n.hasOwnProperty(H)&&(h=n[H],this[H]=h?h(E):E[H]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Fo:nu,this.isPropagationStopped=nu,this}return N(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),o}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rt=Ot(yr),Ai=N({},yr,{view:0,detail:0}),$n=Ot(Ai),iu,su,qs,Bo=N({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qs&&(qs&&n.type==="mousemove"?(iu=n.screenX-qs.screenX,su=n.screenY-qs.screenY):su=iu=0,qs=n),iu)},movementY:function(n){return"movementY"in n?n.movementY:su}}),ph=Ot(Bo),ou=N({},Bo,{dataTransfer:0}),Gc=Ot(ou),Lo=N({},Ai,{relatedTarget:0}),qa=Ot(Lo),Hf=N({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),au=Ot(Hf),jf=N({},yr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Wn=Ot(jf),lu=N({},yr,{data:0}),Qa=Ot(lu),Uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hc(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=gh[n])?!!o[n]:!1}function Ka(){return Hc}var yh=N({},Ai,{key:function(n){if(n.key){var o=Uo[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=Ya(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(n){return n.type==="keypress"?Ya(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ya(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),zo=Ot(yh),En=N({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=Ot(En),vh=N({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),jc=Ot(vh),si=N({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),as=Ot(si),_h=N({},Bo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$c=Ot(_h),Ci=[9,13,27,32],oi=d&&"CompositionEvent"in window,ls=null;d&&"documentMode"in document&&(ls=document.documentMode);var Wc=d&&"TextEvent"in window&&!ls,Za=d&&(!oi||ls&&8<ls&&11>=ls),xh=" ",wh=!1;function uu(n,o){switch(n){case"keyup":return Ci.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qs=!1;function Vc(n,o){switch(n){case"compositionend":return Ja(o);case"keypress":return o.which!==32?null:(wh=!0,xh);case"textInput":return n=o.data,n===xh&&wh?null:n;default:return null}}function Xc(n,o){if(Qs)return n==="compositionend"||!oi&&uu(n,o)?(n=ss(),wn=xn=Xr=null,Qs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Za&&o.locale!=="ko"?null:o.data;default:return null}}var Eh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Go(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!Eh[n.type]:o==="textarea"}function el(n,o,h,f){yn(f),o=al(o,"onChange"),0<o.length&&(h=new Rt("onChange","change",null,h,f),n.push({event:h,listeners:o}))}var Ho=null,jo=null;function $o(n){_u(n,0)}function tl(n){var o=eo(n);if(Ze(o))return n}function rl(n,o){if(n==="change")return o}var an=!1;if(d){var Ks;if(d){var us="oninput"in document;if(!us){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),us=typeof Vn.oninput=="function"}Ks=us}else Ks=!1;an=Ks&&(!document.documentMode||9<document.documentMode)}function hu(){Ho&&(Ho.detachEvent("onpropertychange",Zs),jo=Ho=null)}function Zs(n){if(n.propertyName==="value"&&tl(jo)){var o=[];el(o,jo,n,bt(n)),Io($o,o)}}function Yc(n,o,h){n==="focusin"?(hu(),Ho=o,jo=h,Ho.attachEvent("onpropertychange",Zs)):n==="focusout"&&hu()}function Sh(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tl(jo)}function jt(n,o){if(n==="click")return tl(o)}function cu(n,o){if(n==="input"||n==="change")return tl(o)}function bh(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var ln=typeof Object.is=="function"?Object.is:bh;function hs(n,o){if(ln(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var h=Object.keys(n),f=Object.keys(o);if(h.length!==f.length)return!1;for(f=0;f<h.length;f++){var y=h[f];if(!p.call(o,y)||!ln(n[y],o[y]))return!1}return!0}function du(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function cs(n,o){var h=du(n);n=0;for(var f;h;){if(h.nodeType===3){if(f=n+h.textContent.length,n<=o&&f>=o)return{node:h,offset:o-n};n=f}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=du(h)}}function Ut(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Ut(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function ar(){for(var n=window,o=Je();o instanceof n.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)n=o.contentWindow;else break;o=Je(n.document)}return o}function Zt(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function fu(n){var o=ar(),h=n.focusedElem,f=n.selectionRange;if(o!==h&&h&&h.ownerDocument&&Ut(h.ownerDocument.documentElement,h)){if(f!==null&&Zt(h)){if(o=f.start,n=f.end,n===void 0&&(n=o),"selectionStart"in h)h.selectionStart=o,h.selectionEnd=Math.min(n,h.value.length);else if(n=(o=h.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var y=h.textContent.length,E=Math.min(f.start,y);f=f.end===void 0?E:Math.min(f.end,y),!n.extend&&E>f&&(y=f,f=E,E=y),y=cs(h,E);var M=cs(h,f);y&&M&&(n.rangeCount!==1||n.anchorNode!==y.node||n.anchorOffset!==y.offset||n.focusNode!==M.node||n.focusOffset!==M.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),n.removeAllRanges(),E>f?(n.addRange(o),n.extend(M.node,M.offset)):(o.setEnd(M.node,M.offset),n.addRange(o)))}}for(o=[],n=h;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<o.length;h++)n=o[h],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nl=d&&"documentMode"in document&&11>=document.documentMode,ai=null,Th=null,Jt=null,il=!1;function pu(n,o,h){var f=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;il||ai==null||ai!==Je(f)||(f=ai,"selectionStart"in f&&Zt(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Jt&&hs(Jt,f)||(Jt=f,f=al(Th,"onSelect"),0<f.length&&(o=new Rt("onSelect","select",null,o,h),n.push({event:o,listeners:f}),o.target=ai)))}function Wo(n,o){var h={};return h[n.toLowerCase()]=o.toLowerCase(),h["Webkit"+n]="webkit"+o,h["Moz"+n]="moz"+o,h}var Br={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionend:Wo("Transition","TransitionEnd")},Yr={},Vo={};d&&(Vo=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Xo(n){if(Yr[n])return Yr[n];if(!Br[n])return n;var o=Br[n],h;for(h in o)if(o.hasOwnProperty(h)&&h in Vo)return Yr[n]=o[h];return n}var mu=Xo("animationend"),Ah=Xo("animationiteration"),Ch=Xo("animationstart"),Ph=Xo("transitionend"),Ih=new Map,Rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(n,o){Ih.set(n,o),a(o,[n])}for(var gu=0;gu<Rh.length;gu++){var yu=Rh[gu],sl=yu.toLowerCase(),qc=yu[0].toUpperCase()+yu.slice(1);Pi(sl,"on"+qc)}Pi(mu,"onAnimationEnd"),Pi(Ah,"onAnimationIteration"),Pi(Ch,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Ph,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vu=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function Mh(n,o,h){var f=n.type||"unknown-event";n.currentTarget=h,Oa(f,o,void 0,n),n.currentTarget=null}function _u(n,o){o=(o&4)!==0;for(var h=0;h<n.length;h++){var f=n[h],y=f.event;f=f.listeners;e:{var E=void 0;if(o)for(var M=f.length-1;0<=M;M--){var H=f[M],V=H.instance,oe=H.currentTarget;if(H=H.listener,V!==E&&y.isPropagationStopped())break e;Mh(y,H,oe),E=V}else for(M=0;M<f.length;M++){if(H=f[M],V=H.instance,oe=H.currentTarget,H=H.listener,V!==E&&y.isPropagationStopped())break e;Mh(y,H,oe),E=V}}}if(Gs)throw n=wi,Gs=!1,wi=null,n}function Mt(n,o){var h=o[Pr];h===void 0&&(h=o[Pr]=new Set);var f=n+"__bubble";h.has(f)||(wu(o,n,2,!1),h.add(f))}function xu(n,o,h){var f=0;o&&(f|=4),wu(h,n,f,o)}var ol="_reactListening"+Math.random().toString(36).slice(2);function Yo(n){if(!n[ol]){n[ol]=!0,r.forEach(function(h){h!=="selectionchange"&&(vu.has(h)||xu(h,!1,n),xu(h,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[ol]||(o[ol]=!0,xu("selectionchange",!1,o))}}function wu(n,o,h,f){switch(on(o)){case 1:var y=No;break;case 4:y=Do;break;default:y=Oo}h=y.bind(null,o,h,n),y=void 0,!_i||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?n.addEventListener(o,h,{capture:!0,passive:y}):n.addEventListener(o,h,!0):y!==void 0?n.addEventListener(o,h,{passive:y}):n.addEventListener(o,h,!1)}function Eu(n,o,h,f,y){var E=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var M=f.tag;if(M===3||M===4){var H=f.stateNode.containerInfo;if(H===y||H.nodeType===8&&H.parentNode===y)break;if(M===4)for(M=f.return;M!==null;){var V=M.tag;if((V===3||V===4)&&(V=M.stateNode.containerInfo,V===y||V.nodeType===8&&V.parentNode===y))return;M=M.return}for(;H!==null;){if(M=fs(H),M===null)return;if(V=M.tag,V===5||V===6){f=E=M;continue e}H=H.parentNode}}f=f.return}Io(function(){var oe=E,Ee=bt(h),Te=[];e:{var we=Ih.get(n);if(we!==void 0){var Oe=Rt,He=n;switch(n){case"keypress":if(Ya(h)===0)break e;case"keydown":case"keyup":Oe=zo;break;case"focusin":He="focus",Oe=qa;break;case"focusout":He="blur",Oe=qa;break;case"beforeblur":case"afterblur":Oe=qa;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=jc;break;case mu:case Ah:case Ch:Oe=au;break;case Ph:Oe=as;break;case"scroll":Oe=$n;break;case"wheel":Oe=$c;break;case"copy":case"cut":case"paste":Oe=Wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=os}var $e=(o&4)!==0,cr=!$e&&n==="scroll",ee=$e?we!==null?we+"Capture":null:we;$e=[];for(var q=oe,ie;q!==null;){ie=q;var Ie=ie.stateNode;if(ie.tag===5&&Ie!==null&&(ie=Ie,ee!==null&&(Ie=ts(q,ee),Ie!=null&&$e.push(qo(q,Ie,ie)))),cr)break;q=q.return}0<$e.length&&(we=new Oe(we,He,null,h,Ee),Te.push({event:we,listeners:$e}))}}if(!(o&7)){e:{if(we=n==="mouseover"||n==="pointerover",Oe=n==="mouseout"||n==="pointerout",we&&h!==wt&&(He=h.relatedTarget||h.fromElement)&&(fs(He)||He[$t]))break e;if((Oe||we)&&(we=Ee.window===Ee?Ee:(we=Ee.ownerDocument)?we.defaultView||we.parentWindow:window,Oe?(He=h.relatedTarget||h.toElement,Oe=oe,He=He?fs(He):null,He!==null&&(cr=ni(He),He!==cr||He.tag!==5&&He.tag!==6)&&(He=null)):(Oe=null,He=oe),Oe!==He)){if($e=ph,Ie="onMouseLeave",ee="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&($e=os,Ie="onPointerLeave",ee="onPointerEnter",q="pointer"),cr=Oe==null?we:eo(Oe),ie=He==null?we:eo(He),we=new $e(Ie,q+"leave",Oe,h,Ee),we.target=cr,we.relatedTarget=ie,Ie=null,fs(Ee)===oe&&($e=new $e(ee,q+"enter",He,h,Ee),$e.target=ie,$e.relatedTarget=cr,Ie=$e),cr=Ie,Oe&&He)t:{for($e=Oe,ee=He,q=0,ie=$e;ie;ie=Qo(ie))q++;for(ie=0,Ie=ee;Ie;Ie=Qo(Ie))ie++;for(;0<q-ie;)$e=Qo($e),q--;for(;0<ie-q;)ee=Qo(ee),ie--;for(;q--;){if($e===ee||ee!==null&&$e===ee.alternate)break t;$e=Qo($e),ee=Qo(ee)}$e=null}else $e=null;Oe!==null&&kh(Te,we,Oe,$e,!1),He!==null&&cr!==null&&kh(Te,cr,He,$e,!0)}}e:{if(we=oe?eo(oe):window,Oe=we.nodeName&&we.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&we.type==="file")var Xe=rl;else if(Go(we))if(an)Xe=cu;else{Xe=Sh;var et=Yc}else(Oe=we.nodeName)&&Oe.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Xe=jt);if(Xe&&(Xe=Xe(n,oe))){el(Te,Xe,h,Ee);break e}et&&et(n,we,oe),n==="focusout"&&(et=we._wrapperState)&&et.controlled&&we.type==="number"&&Ao(we,"number",we.value)}switch(et=oe?eo(oe):window,n){case"focusin":(Go(et)||et.contentEditable==="true")&&(ai=et,Th=oe,Jt=null);break;case"focusout":Jt=Th=ai=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,pu(Te,h,Ee);break;case"selectionchange":if(nl)break;case"keydown":case"keyup":pu(Te,h,Ee)}var tt;if(oi)e:{switch(n){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Qs?uu(n,h)&&(nt="onCompositionEnd"):n==="keydown"&&h.keyCode===229&&(nt="onCompositionStart");nt&&(Za&&h.locale!=="ko"&&(Qs||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Qs&&(tt=ss()):(Xr=Ee,xn="value"in Xr?Xr.value:Xr.textContent,Qs=!0)),et=al(oe,nt),0<et.length&&(nt=new Qa(nt,n,null,h,Ee),Te.push({event:nt,listeners:et}),tt?nt.data=tt:(tt=Ja(h),tt!==null&&(nt.data=tt)))),(tt=Wc?Vc(n,h):Xc(n,h))&&(oe=al(oe,"onBeforeInput"),0<oe.length&&(Ee=new Qa("onBeforeInput","beforeinput",null,h,Ee),Te.push({event:Ee,listeners:oe}),Ee.data=tt))}_u(Te,o)})}function qo(n,o,h){return{instance:n,listener:o,currentTarget:h}}function al(n,o){for(var h=o+"Capture",f=[];n!==null;){var y=n,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=ts(n,h),E!=null&&f.unshift(qo(n,E,y)),E=ts(n,o),E!=null&&f.push(qo(n,E,y))),n=n.return}return f}function Qo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function kh(n,o,h,f,y){for(var E=o._reactName,M=[];h!==null&&h!==f;){var H=h,V=H.alternate,oe=H.stateNode;if(V!==null&&V===f)break;H.tag===5&&oe!==null&&(H=oe,y?(V=ts(h,E),V!=null&&M.unshift(qo(h,V,H))):y||(V=ts(h,E),V!=null&&M.push(qo(h,V,H)))),h=h.return}M.length!==0&&n.push({event:o,listeners:M})}var $f=/\r\n?/g,Wf=/\u0000|\uFFFD/g;function Nh(n){return(typeof n=="string"?n:""+n).replace($f,`
`).replace(Wf,"")}function ll(n,o,h){if(o=Nh(o),Nh(n)!==o&&h)throw Error(t(425))}function ul(){}var Ko=null,Dh=null;function Oh(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Fh=typeof setTimeout=="function"?setTimeout:void 0,Zo=typeof clearTimeout=="function"?clearTimeout:void 0,Su=typeof Promise=="function"?Promise:void 0,Bh=typeof queueMicrotask=="function"?queueMicrotask:typeof Su<"u"?function(n){return Su.resolve(null).then(n).catch(Vf)}:Fh;function Vf(n){setTimeout(function(){throw n})}function bu(n,o){var h=o,f=0;do{var y=h.nextSibling;if(n.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(f===0){n.removeChild(y),Vs(o);return}f--}else h!=="$"&&h!=="$?"&&h!=="$!"||f++;h=y}while(h);Vs(o)}function Ii(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function Lh(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var h=n.data;if(h==="$"||h==="$!"||h==="$?"){if(o===0)return n;o--}else h==="/$"&&o++}n=n.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Js,hl="__reactProps$"+Js,$t="__reactContainer$"+Js,Pr="__reactEvents$"+Js,Qc="__reactListeners$"+Js,Kc="__reactHandles$"+Js;function fs(n){var o=n[Xn];if(o)return o;for(var h=n.parentNode;h;){if(o=h[$t]||h[Xn]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(n=Lh(n);n!==null;){if(h=n[Xn])return h;n=Lh(n)}return o}n=h,h=n.parentNode}return null}function Jo(n){return n=n[Xn]||n[$t],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function eo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function ea(n){return n[hl]||null}var Tu=[],ps=-1;function Ri(n){return{current:n}}function kt(n){0>ps||(n.current=Tu[ps],Tu[ps]=null,ps--)}function Et(n,o){ps++,Tu[ps]=n.current,n.current=o}var Sn={},lr=Ri(Sn),vr=Ri(!1),Mi=Sn;function ms(n,o){var h=n.type.contextTypes;if(!h)return Sn;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in h)y[E]=o[E];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=y),y}function Lr(n){return n=n.childContextTypes,n!=null}function ta(){kt(vr),kt(lr)}function cl(n,o,h){if(lr.current!==Sn)throw Error(t(168));Et(lr,o),Et(vr,h)}function Uh(n,o,h){var f=n.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return h;f=f.getChildContext();for(var y in f)if(!(y in o))throw Error(t(108,ge(n)||"Unknown",y));return N({},h,f)}function ra(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Sn,Mi=lr.current,Et(lr,n),Et(vr,vr.current),!0}function zh(n,o,h){var f=n.stateNode;if(!f)throw Error(t(169));h?(n=Uh(n,o,Mi),f.__reactInternalMemoizedMergedChildContext=n,kt(vr),kt(lr),Et(lr,n)):kt(vr),Et(vr,h)}var bn=null,Tn=!1,An=!1;function Gh(n){bn===null?bn=[n]:bn.push(n)}function Zc(n){Tn=!0,Gh(n)}function Cn(){if(!An&&bn!==null){An=!0;var n=0,o=gt;try{var h=bn;for(gt=1;n<h.length;n++){var f=h[n];do f=f(!0);while(f!==null)}bn=null,Tn=!1}catch(y){throw bn!==null&&(bn=bn.slice(n+1)),Fa(La,Cn),y}finally{gt=o,An=!1}}return null}var er=[],na=0,Au=null,to=0,Ct=[],Pn=0,De=null,qr=1,li="";function gs(n,o){er[na++]=to,er[na++]=Au,Au=n,to=o}function ia(n,o,h){Ct[Pn++]=qr,Ct[Pn++]=li,Ct[Pn++]=De,De=n;var f=qr;n=li;var y=32-pr(f)-1;f&=~(1<<y),h+=1;var E=32-pr(o)+y;if(30<E){var M=y-y%5;E=(f&(1<<M)-1).toString(32),f>>=M,y-=M,qr=1<<32-pr(o)+y|h<<y|f,li=E+n}else qr=1<<E|h<<y|f,li=n}function sa(n){n.return!==null&&(gs(n,1),ia(n,1,0))}function dl(n){for(;n===Au;)Au=er[--na],er[na]=null,to=er[--na],er[na]=null;for(;n===De;)De=Ct[--Pn],Ct[Pn]=null,li=Ct[--Pn],Ct[Pn]=null,qr=Ct[--Pn],Ct[Pn]=null}var Qr=null,Kr=null,Ft=!1,un=null;function Cu(n,o){var h=fi(5,null,null,0);h.elementType="DELETED",h.stateNode=o,h.return=n,o=n.deletions,o===null?(n.deletions=[h],n.flags|=16):o.push(h)}function Ir(n,o){switch(n.tag){case 5:var h=n.type;return o=o.nodeType!==1||h.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,Qr=n,Kr=Ii(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,Qr=n,Kr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(h=De!==null?{id:qr,overflow:li}:null,n.memoizedState={dehydrated:o,treeContext:h,retryLane:1073741824},h=fi(18,null,null,0),h.stateNode=o,h.return=n,n.child=h,Qr=n,Kr=null,!0):!1;default:return!1}}function In(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Rn(n){if(Ft){var o=Kr;if(o){var h=o;if(!Ir(n,o)){if(In(n))throw Error(t(418));o=Ii(h.nextSibling);var f=Qr;o&&Ir(n,o)?Cu(f,h):(n.flags=n.flags&-4097|2,Ft=!1,Qr=n)}}else{if(In(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ft=!1,Qr=n}}}function Pu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Qr=n}function fl(n){if(n!==Qr)return!1;if(!Ft)return Pu(n),Ft=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!Oh(n.type,n.memoizedProps)),o&&(o=Kr)){if(In(n))throw Mn(),Error(t(418));for(;o;)Cu(n,o),o=Ii(o.nextSibling)}if(Pu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var h=n.data;if(h==="/$"){if(o===0){Kr=Ii(n.nextSibling);break e}o--}else h!=="$"&&h!=="$!"&&h!=="$?"||o++}n=n.nextSibling}Kr=null}}else Kr=Qr?Ii(n.stateNode.nextSibling):null;return!0}function Mn(){for(var n=Kr;n;)n=Ii(n.nextSibling)}function ro(){Kr=Qr=null,Ft=!1}function kn(n){un===null?un=[n]:un.push(n)}var Xf=$.ReactCurrentBatchConfig;function oa(n,o,h){if(n=h.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var f=h.stateNode}if(!f)throw Error(t(147,n));var y=f,E=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===E?o.ref:(o=function(M){var H=y.refs;M===null?delete H[E]:H[E]=M},o._stringRef=E,o)}if(typeof n!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,n))}return n}function pl(n,o){throw n=Object.prototype.toString.call(o),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function Hh(n){var o=n._init;return o(n._payload)}function jh(n){function o(ee,q){if(n){var ie=ee.deletions;ie===null?(ee.deletions=[q],ee.flags|=16):ie.push(q)}}function h(ee,q){if(!n)return null;for(;q!==null;)o(ee,q),q=q.sibling;return null}function f(ee,q){for(ee=new Map;q!==null;)q.key!==null?ee.set(q.key,q):ee.set(q.index,q),q=q.sibling;return ee}function y(ee,q){return ee=ga(ee,q),ee.index=0,ee.sibling=null,ee}function E(ee,q,ie){return ee.index=ie,n?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<q?(ee.flags|=2,q):ie):(ee.flags|=2,q)):(ee.flags|=1048576,q)}function M(ee){return n&&ee.alternate===null&&(ee.flags|=2),ee}function H(ee,q,ie,Ie){return q===null||q.tag!==6?(q=yp(ie,ee.mode,Ie),q.return=ee,q):(q=y(q,ie),q.return=ee,q)}function V(ee,q,ie,Ie){var Xe=ie.type;return Xe===z?Ee(ee,q,ie.props.children,Ie,ie.key):q!==null&&(q.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===B&&Hh(Xe)===q.type)?(Ie=y(q,ie.props),Ie.ref=oa(ee,q,ie),Ie.return=ee,Ie):(Ie=gd(ie.type,ie.key,ie.props,null,ee.mode,Ie),Ie.ref=oa(ee,q,ie),Ie.return=ee,Ie)}function oe(ee,q,ie,Ie){return q===null||q.tag!==4||q.stateNode.containerInfo!==ie.containerInfo||q.stateNode.implementation!==ie.implementation?(q=vp(ie,ee.mode,Ie),q.return=ee,q):(q=y(q,ie.children||[]),q.return=ee,q)}function Ee(ee,q,ie,Ie,Xe){return q===null||q.tag!==7?(q=Rl(ie,ee.mode,Ie,Xe),q.return=ee,q):(q=y(q,ie),q.return=ee,q)}function Te(ee,q,ie){if(typeof q=="string"&&q!==""||typeof q=="number")return q=yp(""+q,ee.mode,ie),q.return=ee,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return ie=gd(q.type,q.key,q.props,null,ee.mode,ie),ie.ref=oa(ee,null,q),ie.return=ee,ie;case K:return q=vp(q,ee.mode,ie),q.return=ee,q;case B:var Ie=q._init;return Te(ee,Ie(q._payload),ie)}if(Gn(q)||j(q))return q=Rl(q,ee.mode,ie,null),q.return=ee,q;pl(ee,q)}return null}function we(ee,q,ie,Ie){var Xe=q!==null?q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Xe!==null?null:H(ee,q,""+ie,Ie);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:return ie.key===Xe?V(ee,q,ie,Ie):null;case K:return ie.key===Xe?oe(ee,q,ie,Ie):null;case B:return Xe=ie._init,we(ee,q,Xe(ie._payload),Ie)}if(Gn(ie)||j(ie))return Xe!==null?null:Ee(ee,q,ie,Ie,null);pl(ee,ie)}return null}function Oe(ee,q,ie,Ie,Xe){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return ee=ee.get(ie)||null,H(q,ee,""+Ie,Xe);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case O:return ee=ee.get(Ie.key===null?ie:Ie.key)||null,V(q,ee,Ie,Xe);case K:return ee=ee.get(Ie.key===null?ie:Ie.key)||null,oe(q,ee,Ie,Xe);case B:var et=Ie._init;return Oe(ee,q,ie,et(Ie._payload),Xe)}if(Gn(Ie)||j(Ie))return ee=ee.get(ie)||null,Ee(q,ee,Ie,Xe,null);pl(q,Ie)}return null}function He(ee,q,ie,Ie){for(var Xe=null,et=null,tt=q,nt=q=0,kr=null;tt!==null&&nt<ie.length;nt++){tt.index>nt?(kr=tt,tt=null):kr=tt.sibling;var St=we(ee,tt,ie[nt],Ie);if(St===null){tt===null&&(tt=kr);break}n&&tt&&St.alternate===null&&o(ee,tt),q=E(St,q,nt),et===null?Xe=St:et.sibling=St,et=St,tt=kr}if(nt===ie.length)return h(ee,tt),Ft&&gs(ee,nt),Xe;if(tt===null){for(;nt<ie.length;nt++)tt=Te(ee,ie[nt],Ie),tt!==null&&(q=E(tt,q,nt),et===null?Xe=tt:et.sibling=tt,et=tt);return Ft&&gs(ee,nt),Xe}for(tt=f(ee,tt);nt<ie.length;nt++)kr=Oe(tt,ee,nt,ie[nt],Ie),kr!==null&&(n&&kr.alternate!==null&&tt.delete(kr.key===null?nt:kr.key),q=E(kr,q,nt),et===null?Xe=kr:et.sibling=kr,et=kr);return n&&tt.forEach(function(ya){return o(ee,ya)}),Ft&&gs(ee,nt),Xe}function $e(ee,q,ie,Ie){var Xe=j(ie);if(typeof Xe!="function")throw Error(t(150));if(ie=Xe.call(ie),ie==null)throw Error(t(151));for(var et=Xe=null,tt=q,nt=q=0,kr=null,St=ie.next();tt!==null&&!St.done;nt++,St=ie.next()){tt.index>nt?(kr=tt,tt=null):kr=tt.sibling;var ya=we(ee,tt,St.value,Ie);if(ya===null){tt===null&&(tt=kr);break}n&&tt&&ya.alternate===null&&o(ee,tt),q=E(ya,q,nt),et===null?Xe=ya:et.sibling=ya,et=ya,tt=kr}if(St.done)return h(ee,tt),Ft&&gs(ee,nt),Xe;if(tt===null){for(;!St.done;nt++,St=ie.next())St=Te(ee,St.value,Ie),St!==null&&(q=E(St,q,nt),et===null?Xe=St:et.sibling=St,et=St);return Ft&&gs(ee,nt),Xe}for(tt=f(ee,tt);!St.done;nt++,St=ie.next())St=Oe(tt,ee,nt,St.value,Ie),St!==null&&(n&&St.alternate!==null&&tt.delete(St.key===null?nt:St.key),q=E(St,q,nt),et===null?Xe=St:et.sibling=St,et=St);return n&&tt.forEach(function(sx){return o(ee,sx)}),Ft&&gs(ee,nt),Xe}function cr(ee,q,ie,Ie){if(typeof ie=="object"&&ie!==null&&ie.type===z&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:e:{for(var Xe=ie.key,et=q;et!==null;){if(et.key===Xe){if(Xe=ie.type,Xe===z){if(et.tag===7){h(ee,et.sibling),q=y(et,ie.props.children),q.return=ee,ee=q;break e}}else if(et.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===B&&Hh(Xe)===et.type){h(ee,et.sibling),q=y(et,ie.props),q.ref=oa(ee,et,ie),q.return=ee,ee=q;break e}h(ee,et);break}else o(ee,et);et=et.sibling}ie.type===z?(q=Rl(ie.props.children,ee.mode,Ie,ie.key),q.return=ee,ee=q):(Ie=gd(ie.type,ie.key,ie.props,null,ee.mode,Ie),Ie.ref=oa(ee,q,ie),Ie.return=ee,ee=Ie)}return M(ee);case K:e:{for(et=ie.key;q!==null;){if(q.key===et)if(q.tag===4&&q.stateNode.containerInfo===ie.containerInfo&&q.stateNode.implementation===ie.implementation){h(ee,q.sibling),q=y(q,ie.children||[]),q.return=ee,ee=q;break e}else{h(ee,q);break}else o(ee,q);q=q.sibling}q=vp(ie,ee.mode,Ie),q.return=ee,ee=q}return M(ee);case B:return et=ie._init,cr(ee,q,et(ie._payload),Ie)}if(Gn(ie))return He(ee,q,ie,Ie);if(j(ie))return $e(ee,q,ie,Ie);pl(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,q!==null&&q.tag===6?(h(ee,q.sibling),q=y(q,ie),q.return=ee,ee=q):(h(ee,q),q=yp(ie,ee.mode,Ie),q.return=ee,ee=q),M(ee)):h(ee,q)}return cr}var ki=jh(!0),ml=jh(!1),no=Ri(null),io=null,Ni=null,so=null;function gl(){so=Ni=io=null}function yl(n){var o=no.current;kt(no),n._currentValue=o}function vl(n,o,h){for(;n!==null;){var f=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),n===h)break;n=n.return}}function oo(n,o){io=n,so=Ni=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&o&&(Q=!0),n.firstContext=null)}function Zr(n){var o=n._currentValue;if(so!==n)if(n={context:n,memoizedValue:o,next:null},Ni===null){if(io===null)throw Error(t(308));Ni=n,io.dependencies={lanes:0,firstContext:n}}else Ni=Ni.next=n;return o}var ao=null;function aa(n){ao===null?ao=[n]:ao.push(n)}function Iu(n,o,h,f){var y=o.interleaved;return y===null?(h.next=h,aa(o)):(h.next=y.next,y.next=h),o.interleaved=h,Tt(n,f)}function Tt(n,o){n.lanes|=o;var h=n.alternate;for(h!==null&&(h.lanes|=o),h=n,n=n.return;n!==null;)n.childLanes|=o,h=n.alternate,h!==null&&(h.childLanes|=o),h=n,n=n.return;return h.tag===3?h.stateNode:null}var st=!1;function tr(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qt(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Bt(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function rr(n,o,h){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,xt&2){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,Tt(n,h)}return y=f.interleaved,y===null?(o.next=o,aa(f)):(o.next=y.next,y.next=o),f.interleaved=o,Tt(n,h)}function Di(n,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194240)!==0)){var f=o.lanes;f&=n.pendingLanes,h|=f,o.lanes=h,Ga(n,h)}}function nr(n,o){var h=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,h===f)){var y=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var M={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?y=E=M:E=E.next=M,h=h.next}while(h!==null);E===null?y=E=o:E=E.next=o}else y=E=o;h={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:f.shared,effects:f.effects},n.updateQueue=h;return}n=h.lastBaseUpdate,n===null?h.firstBaseUpdate=o:n.next=o,h.lastBaseUpdate=o}function ys(n,o,h,f){var y=n.updateQueue;st=!1;var E=y.firstBaseUpdate,M=y.lastBaseUpdate,H=y.shared.pending;if(H!==null){y.shared.pending=null;var V=H,oe=V.next;V.next=null,M===null?E=oe:M.next=oe,M=V;var Ee=n.alternate;Ee!==null&&(Ee=Ee.updateQueue,H=Ee.lastBaseUpdate,H!==M&&(H===null?Ee.firstBaseUpdate=oe:H.next=oe,Ee.lastBaseUpdate=V))}if(E!==null){var Te=y.baseState;M=0,Ee=oe=V=null,H=E;do{var we=H.lane,Oe=H.eventTime;if((f&we)===we){Ee!==null&&(Ee=Ee.next={eventTime:Oe,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var He=n,$e=H;switch(we=o,Oe=h,$e.tag){case 1:if(He=$e.payload,typeof He=="function"){Te=He.call(Oe,Te,we);break e}Te=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=$e.payload,we=typeof He=="function"?He.call(Oe,Te,we):He,we==null)break e;Te=N({},Te,we);break e;case 2:st=!0}}H.callback!==null&&H.lane!==0&&(n.flags|=64,we=y.effects,we===null?y.effects=[H]:we.push(H))}else Oe={eventTime:Oe,lane:we,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Ee===null?(oe=Ee=Oe,V=Te):Ee=Ee.next=Oe,M|=we;if(H=H.next,H===null){if(H=y.shared.pending,H===null)break;we=H,H=we.next,we.next=null,y.lastBaseUpdate=we,y.shared.pending=null}}while(!0);if(Ee===null&&(V=Te),y.baseState=V,y.firstBaseUpdate=oe,y.lastBaseUpdate=Ee,o=y.shared.interleaved,o!==null){y=o;do M|=y.lane,y=y.next;while(y!==o)}else E===null&&(y.shared.lanes=0);Al|=M,n.lanes=M,n.memoizedState=Te}}function vs(n,o,h){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var f=n[o],y=f.callback;if(y!==null){if(f.callback=null,f=h,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var _s={},Nn=Ri(_s),Oi=Ri(_s),_r=Ri(_s);function Fi(n){if(n===_s)throw Error(t(174));return n}function _l(n,o){switch(Et(_r,o),Et(Oi,n),Et(Nn,_s),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Na(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=Na(o,n)}kt(Nn),Et(Nn,o)}function hn(){kt(Nn),kt(Oi),kt(_r)}function lo(n){Fi(_r.current);var o=Fi(Nn.current),h=Na(o,n.type);o!==h&&(Et(Oi,n),Et(Nn,h))}function Ru(n){Oi.current===n&&(kt(Nn),kt(Oi))}var Nt=Ri(0);function la(n){for(var o=n;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ui=[];function ua(){for(var n=0;n<ui.length;n++)ui[n]._workInProgressVersionPrimary=null;ui.length=0}var Yn=$.ReactCurrentDispatcher,ha=$.ReactCurrentBatchConfig,qn=0,Lt=null,Wt=null,Qt=null,ur=!1,Dn=!1,Rr=0,Jr=0;function xr(){throw Error(t(321))}function xl(n,o){if(o===null)return!1;for(var h=0;h<o.length&&h<n.length;h++)if(!ln(n[h],o[h]))return!1;return!0}function wl(n,o,h,f,y,E){if(qn=E,Lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Yn.current=n===null||n.memoizedState===null?Fu:qf,n=h(f,y),Dn){E=0;do{if(Dn=!1,Rr=0,25<=E)throw Error(t(301));E+=1,Qt=Wt=null,o.updateQueue=null,Yn.current=Qf,n=h(f,y)}while(Dn)}if(Yn.current=Tl,o=Wt!==null&&Wt.next!==null,qn=0,Qt=Wt=Lt=null,ur=!1,o)throw Error(t(300));return n}function hi(){var n=Rr!==0;return Rr=0,n}function Qn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Lt.memoizedState=Qt=n:Qt=Qt.next=n,Qt}function cn(){if(Wt===null){var n=Lt.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var o=Qt===null?Lt.memoizedState:Qt.next;if(o!==null)Qt=o,Wt=n;else{if(n===null)throw Error(t(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Qt===null?Lt.memoizedState=Qt=n:Qt=Qt.next=n}return Qt}function uo(n,o){return typeof o=="function"?o(n):o}function Bi(n){var o=cn(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=n;var f=Wt,y=f.baseQueue,E=h.pending;if(E!==null){if(y!==null){var M=y.next;y.next=E.next,E.next=M}f.baseQueue=y=E,h.pending=null}if(y!==null){E=y.next,f=f.baseState;var H=M=null,V=null,oe=E;do{var Ee=oe.lane;if((qn&Ee)===Ee)V!==null&&(V=V.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),f=oe.hasEagerState?oe.eagerState:n(f,oe.action);else{var Te={lane:Ee,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};V===null?(H=V=Te,M=f):V=V.next=Te,Lt.lanes|=Ee,Al|=Ee}oe=oe.next}while(oe!==null&&oe!==E);V===null?M=f:V.next=H,ln(f,o.memoizedState)||(Q=!0),o.memoizedState=f,o.baseState=M,o.baseQueue=V,h.lastRenderedState=f}if(n=h.interleaved,n!==null){y=n;do E=y.lane,Lt.lanes|=E,Al|=E,y=y.next;while(y!==n)}else y===null&&(h.lanes=0);return[o.memoizedState,h.dispatch]}function Mu(n){var o=cn(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=n;var f=h.dispatch,y=h.pending,E=o.memoizedState;if(y!==null){h.pending=null;var M=y=y.next;do E=n(E,M.action),M=M.next;while(M!==y);ln(E,o.memoizedState)||(Q=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),h.lastRenderedState=E}return[E,f]}function $h(){}function ku(n,o){var h=Lt,f=cn(),y=o(),E=!ln(f.memoizedState,y);if(E&&(f.memoizedState=y,Q=!0),f=f.queue,qh(ed.bind(null,h,f,n),[n]),f.getSnapshot!==o||E||Qt!==null&&Qt.memoizedState.tag&1){if(h.flags|=2048,Kn(9,Jc.bind(null,h,f,y,o),void 0,null),Mr===null)throw Error(t(349));qn&30||El(h,o,y)}return y}function El(n,o,h){n.flags|=16384,n={getSnapshot:o,value:h},o=Lt.updateQueue,o===null?(o={lastEffect:null,stores:null},Lt.updateQueue=o,o.stores=[n]):(h=o.stores,h===null?o.stores=[n]:h.push(n))}function Jc(n,o,h,f){o.value=h,o.getSnapshot=f,Wh(o)&&Vh(n)}function ed(n,o,h){return h(function(){Wh(o)&&Vh(n)})}function Wh(n){var o=n.getSnapshot;n=n.value;try{var h=o();return!ln(n,h)}catch{return!0}}function Vh(n){var o=Tt(n,1);o!==null&&Gi(o,n,1,-1)}function ho(n){var o=Qn();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:n},o.queue=n,n=n.dispatch=Yf.bind(null,Lt,n),[o.memoizedState,n]}function Kn(n,o,h,f){return n={tag:n,create:o,destroy:h,deps:f,next:null},o=Lt.updateQueue,o===null?(o={lastEffect:null,stores:null},Lt.updateQueue=o,o.lastEffect=n.next=n):(h=o.lastEffect,h===null?o.lastEffect=n.next=n:(f=h.next,h.next=n,n.next=f,o.lastEffect=n)),n}function Xh(){return cn().memoizedState}function Pt(n,o,h,f){var y=Qn();Lt.flags|=n,y.memoizedState=Kn(1|o,h,void 0,f===void 0?null:f)}function Nu(n,o,h,f){var y=cn();f=f===void 0?null:f;var E=void 0;if(Wt!==null){var M=Wt.memoizedState;if(E=M.destroy,f!==null&&xl(f,M.deps)){y.memoizedState=Kn(o,h,E,f);return}}Lt.flags|=n,y.memoizedState=Kn(1|o,h,E,f)}function Yh(n,o){return Pt(8390656,8,n,o)}function qh(n,o){return Nu(2048,8,n,o)}function td(n,o){return Nu(4,2,n,o)}function Qh(n,o){return Nu(4,4,n,o)}function rd(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function dn(n,o,h){return h=h!=null?h.concat([n]):null,Nu(4,4,rd.bind(null,o,n),h)}function Sl(){}function Li(n,o){var h=cn();o=o===void 0?null:o;var f=h.memoizedState;return f!==null&&o!==null&&xl(o,f[1])?f[0]:(h.memoizedState=[n,o],n)}function bl(n,o){var h=cn();o=o===void 0?null:o;var f=h.memoizedState;return f!==null&&o!==null&&xl(o,f[1])?f[0]:(n=n(),h.memoizedState=[n,o],n)}function xs(n,o,h){return qn&21?(ln(h,o)||(h=vn(),Lt.lanes|=h,Al|=h,n.baseState=!0),o):(n.baseState&&(n.baseState=!1,Q=!0),n.memoizedState=h)}function Du(n,o){var h=gt;gt=h!==0&&4>h?h:4,n(!0);var f=ha.transition;ha.transition={};try{n(!1),o()}finally{gt=h,ha.transition=f}}function Ou(){return cn().memoizedState}function Kh(n,o,h){var f=pa(n);if(h={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null},Zh(n))Jh(o,h);else if(h=Iu(n,o,h,f),h!==null){var y=fn();Gi(h,n,f,y),ec(h,o,f)}}function Yf(n,o,h){var f=pa(n),y={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null};if(Zh(n))Jh(o,y);else{var E=n.alternate;if(n.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var M=o.lastRenderedState,H=E(M,h);if(y.hasEagerState=!0,y.eagerState=H,ln(H,M)){var V=o.interleaved;V===null?(y.next=y,aa(o)):(y.next=V.next,V.next=y),o.interleaved=y;return}}catch{}finally{}h=Iu(n,o,y,f),h!==null&&(y=fn(),Gi(h,n,f,y),ec(h,o,f))}}function Zh(n){var o=n.alternate;return n===Lt||o!==null&&o===Lt}function Jh(n,o){Dn=ur=!0;var h=n.pending;h===null?o.next=o:(o.next=h.next,h.next=o),n.pending=o}function ec(n,o,h){if(h&4194240){var f=o.lanes;f&=n.pendingLanes,h|=f,o.lanes=h,Ga(n,h)}}var Tl={readContext:Zr,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},Fu={readContext:Zr,useCallback:function(n,o){return Qn().memoizedState=[n,o===void 0?null:o],n},useContext:Zr,useEffect:Yh,useImperativeHandle:function(n,o,h){return h=h!=null?h.concat([n]):null,Pt(4194308,4,rd.bind(null,o,n),h)},useLayoutEffect:function(n,o){return Pt(4194308,4,n,o)},useInsertionEffect:function(n,o){return Pt(4,2,n,o)},useMemo:function(n,o){var h=Qn();return o=o===void 0?null:o,n=n(),h.memoizedState=[n,o],n},useReducer:function(n,o,h){var f=Qn();return o=h!==void 0?h(o):o,f.memoizedState=f.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},f.queue=n,n=n.dispatch=Kh.bind(null,Lt,n),[f.memoizedState,n]},useRef:function(n){var o=Qn();return n={current:n},o.memoizedState=n},useState:ho,useDebugValue:Sl,useDeferredValue:function(n){return Qn().memoizedState=n},useTransition:function(){var n=ho(!1),o=n[0];return n=Du.bind(null,n[1]),Qn().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,h){var f=Lt,y=Qn();if(Ft){if(h===void 0)throw Error(t(407));h=h()}else{if(h=o(),Mr===null)throw Error(t(349));qn&30||El(f,o,h)}y.memoizedState=h;var E={value:h,getSnapshot:o};return y.queue=E,Yh(ed.bind(null,f,E,n),[n]),f.flags|=2048,Kn(9,Jc.bind(null,f,E,h,o),void 0,null),h},useId:function(){var n=Qn(),o=Mr.identifierPrefix;if(Ft){var h=li,f=qr;h=(f&~(1<<32-pr(f)-1)).toString(32)+h,o=":"+o+"R"+h,h=Rr++,0<h&&(o+="H"+h.toString(32)),o+=":"}else h=Jr++,o=":"+o+"r"+h.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},qf={readContext:Zr,useCallback:Li,useContext:Zr,useEffect:qh,useImperativeHandle:dn,useInsertionEffect:td,useLayoutEffect:Qh,useMemo:bl,useReducer:Bi,useRef:Xh,useState:function(){return Bi(uo)},useDebugValue:Sl,useDeferredValue:function(n){var o=cn();return xs(o,Wt.memoizedState,n)},useTransition:function(){var n=Bi(uo)[0],o=cn().memoizedState;return[n,o]},useMutableSource:$h,useSyncExternalStore:ku,useId:Ou,unstable_isNewReconciler:!1},Qf={readContext:Zr,useCallback:Li,useContext:Zr,useEffect:qh,useImperativeHandle:dn,useInsertionEffect:td,useLayoutEffect:Qh,useMemo:bl,useReducer:Mu,useRef:Xh,useState:function(){return Mu(uo)},useDebugValue:Sl,useDeferredValue:function(n){var o=cn();return Wt===null?o.memoizedState=n:xs(o,Wt.memoizedState,n)},useTransition:function(){var n=Mu(uo)[0],o=cn().memoizedState;return[n,o]},useMutableSource:$h,useSyncExternalStore:ku,useId:Ou,unstable_isNewReconciler:!1};function l(n,o){if(n&&n.defaultProps){o=N({},o),n=n.defaultProps;for(var h in n)o[h]===void 0&&(o[h]=n[h]);return o}return o}function u(n,o,h,f){o=n.memoizedState,h=h(f,o),h=h==null?o:N({},o,h),n.memoizedState=h,n.lanes===0&&(n.updateQueue.baseState=h)}var m={isMounted:function(n){return(n=n._reactInternals)?ni(n)===n:!1},enqueueSetState:function(n,o,h){n=n._reactInternals;var f=fn(),y=pa(n),E=Bt(f,y);E.payload=o,h!=null&&(E.callback=h),o=rr(n,E,y),o!==null&&(Gi(o,n,y,f),Di(o,n,y))},enqueueReplaceState:function(n,o,h){n=n._reactInternals;var f=fn(),y=pa(n),E=Bt(f,y);E.tag=1,E.payload=o,h!=null&&(E.callback=h),o=rr(n,E,y),o!==null&&(Gi(o,n,y,f),Di(o,n,y))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var h=fn(),f=pa(n),y=Bt(h,f);y.tag=2,o!=null&&(y.callback=o),o=rr(n,y,f),o!==null&&(Gi(o,n,f,h),Di(o,n,f))}};function v(n,o,h,f,y,E,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,E,M):o.prototype&&o.prototype.isPureReactComponent?!hs(h,f)||!hs(y,E):!0}function x(n,o,h){var f=!1,y=Sn,E=o.contextType;return typeof E=="object"&&E!==null?E=Zr(E):(y=Lr(o)?Mi:lr.current,f=o.contextTypes,E=(f=f!=null)?ms(n,y):Sn),o=new o(h,E),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=m,n.stateNode=o,o._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=y,n.__reactInternalMemoizedMaskedChildContext=E),o}function T(n,o,h,f){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,f),o.state!==n&&m.enqueueReplaceState(o,o.state,null)}function F(n,o,h,f){var y=n.stateNode;y.props=h,y.state=n.memoizedState,y.refs={},tr(n);var E=o.contextType;typeof E=="object"&&E!==null?y.context=Zr(E):(E=Lr(o)?Mi:lr.current,y.context=ms(n,E)),y.state=n.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(u(n,o,E,h),y.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&m.enqueueReplaceState(y,y.state,null),ys(n,h,y,f),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308)}function X(n,o){try{var h="",f=o;do h+=he(f),f=f.return;while(f);var y=h}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:n,source:o,stack:y,digest:null}}function re(n,o,h){return{value:n,source:null,stack:h??null,digest:o??null}}function de(n,o){try{console.error(o.value)}catch(h){setTimeout(function(){throw h})}}var ye=typeof WeakMap=="function"?WeakMap:Map;function Re(n,o,h){h=Bt(-1,h),h.tag=3,h.payload={element:null};var f=o.value;return h.callback=function(){hd||(hd=!0,up=f),de(n,o)},h}function fe(n,o,h){h=Bt(-1,h),h.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var y=o.value;h.payload=function(){return f(y)},h.callback=function(){de(n,o)}}var E=n.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){de(n,o),typeof f!="function"&&(da===null?da=new Set([this]):da.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})}),h}function Ae(n,o,h){var f=n.pingCache;if(f===null){f=n.pingCache=new ye;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(h)||(y.add(h),n=Y_.bind(null,n,o,h),o.then(n,n))}function Ge(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function at(n,o,h,f,y){return n.mode&1?(n.flags|=65536,n.lanes=y,n):(n===o?n.flags|=65536:(n.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(o=Bt(-1,1),o.tag=2,rr(h,o,1))),h.lanes|=1),n)}var ve=$.ReactCurrentOwner,Q=!1;function ae(n,o,h,f){o.child=n===null?ml(o,null,h,f):ki(o,n.child,h,f)}function Se(n,o,h,f,y){h=h.render;var E=o.ref;return oo(o,y),f=wl(n,o,h,f,E,y),h=hi(),n!==null&&!Q?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~y,co(n,o,y)):(Ft&&h&&sa(o),o.flags|=1,ae(n,o,f,y),o.child)}function qe(n,o,h,f,y){if(n===null){var E=h.type;return typeof E=="function"&&!gp(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(o.tag=15,o.type=E,vt(n,o,E,f,y)):(n=gd(h.type,null,f,o,o.mode,y),n.ref=o.ref,n.return=o,o.child=n)}if(E=n.child,!(n.lanes&y)){var M=E.memoizedProps;if(h=h.compare,h=h!==null?h:hs,h(M,f)&&n.ref===o.ref)return co(n,o,y)}return o.flags|=1,n=ga(E,f),n.ref=o.ref,n.return=o,o.child=n}function vt(n,o,h,f,y){if(n!==null){var E=n.memoizedProps;if(hs(E,f)&&n.ref===o.ref)if(Q=!1,o.pendingProps=f=E,(n.lanes&y)!==0)n.flags&131072&&(Q=!0);else return o.lanes=n.lanes,co(n,o,y)}return hr(n,o,h,f,y)}function je(n,o,h){var f=o.pendingProps,y=f.children,E=n!==null?n.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Lu,Zn),Zn|=h;else{if(!(h&1073741824))return n=E!==null?E.baseLanes|h:h,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,Et(Lu,Zn),Zn|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=E!==null?E.baseLanes:h,Et(Lu,Zn),Zn|=f}else E!==null?(f=E.baseLanes|h,o.memoizedState=null):f=h,Et(Lu,Zn),Zn|=f;return ae(n,o,y,h),o.child}function yt(n,o){var h=o.ref;(n===null&&h!==null||n!==null&&n.ref!==h)&&(o.flags|=512,o.flags|=2097152)}function hr(n,o,h,f,y){var E=Lr(h)?Mi:lr.current;return E=ms(o,E),oo(o,y),h=wl(n,o,h,f,E,y),f=hi(),n!==null&&!Q?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~y,co(n,o,y)):(Ft&&f&&sa(o),o.flags|=1,ae(n,o,h,y),o.child)}function _t(n,o,h,f,y){if(Lr(h)){var E=!0;ra(o)}else E=!1;if(oo(o,y),o.stateNode===null)sd(n,o),x(o,h,f),F(o,h,f,y),f=!0;else if(n===null){var M=o.stateNode,H=o.memoizedProps;M.props=H;var V=M.context,oe=h.contextType;typeof oe=="object"&&oe!==null?oe=Zr(oe):(oe=Lr(h)?Mi:lr.current,oe=ms(o,oe));var Ee=h.getDerivedStateFromProps,Te=typeof Ee=="function"||typeof M.getSnapshotBeforeUpdate=="function";Te||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==f||V!==oe)&&T(o,M,f,oe),st=!1;var we=o.memoizedState;M.state=we,ys(o,f,M,y),V=o.memoizedState,H!==f||we!==V||vr.current||st?(typeof Ee=="function"&&(u(o,h,Ee,f),V=o.memoizedState),(H=st||v(o,h,H,f,we,V,oe))?(Te||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(o.flags|=4194308)):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=V),M.props=f,M.state=V,M.context=oe,f=H):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{M=o.stateNode,qt(n,o),H=o.memoizedProps,oe=o.type===o.elementType?H:l(o.type,H),M.props=oe,Te=o.pendingProps,we=M.context,V=h.contextType,typeof V=="object"&&V!==null?V=Zr(V):(V=Lr(h)?Mi:lr.current,V=ms(o,V));var Oe=h.getDerivedStateFromProps;(Ee=typeof Oe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==Te||we!==V)&&T(o,M,f,V),st=!1,we=o.memoizedState,M.state=we,ys(o,f,M,y);var He=o.memoizedState;H!==Te||we!==He||vr.current||st?(typeof Oe=="function"&&(u(o,h,Oe,f),He=o.memoizedState),(oe=st||v(o,h,oe,f,we,He,V)||!1)?(Ee||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(f,He,V),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(f,He,V)),typeof M.componentDidUpdate=="function"&&(o.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof M.componentDidUpdate!="function"||H===n.memoizedProps&&we===n.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===n.memoizedProps&&we===n.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=He),M.props=f,M.state=He,M.context=V,f=oe):(typeof M.componentDidUpdate!="function"||H===n.memoizedProps&&we===n.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===n.memoizedProps&&we===n.memoizedState||(o.flags|=1024),f=!1)}return ci(n,o,h,f,E,y)}function ci(n,o,h,f,y,E){yt(n,o);var M=(o.flags&128)!==0;if(!f&&!M)return y&&zh(o,h,!1),co(n,o,E);f=o.stateNode,ve.current=o;var H=M&&typeof h.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,n!==null&&M?(o.child=ki(o,n.child,null,E),o.child=ki(o,null,H,E)):ae(n,o,H,E),o.memoizedState=f.state,y&&zh(o,h,!0),o.child}function nd(n){var o=n.stateNode;o.pendingContext?cl(n,o.pendingContext,o.pendingContext!==o.context):o.context&&cl(n,o.context,!1),_l(n,o.containerInfo)}function Qg(n,o,h,f,y){return ro(),kn(y),o.flags|=256,ae(n,o,h,f),o.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Zf(n){return{baseLanes:n,cachePool:null,transitions:null}}function Kg(n,o,h){var f=o.pendingProps,y=Nt.current,E=!1,M=(o.flags&128)!==0,H;if((H=M)||(H=n!==null&&n.memoizedState===null?!1:(y&2)!==0),H?(E=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(y|=1),Et(Nt,y&1),n===null)return Rn(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(o.mode&1?n.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(M=f.children,n=f.fallback,E?(f=o.mode,E=o.child,M={mode:"hidden",children:M},!(f&1)&&E!==null?(E.childLanes=0,E.pendingProps=M):E=yd(M,f,0,null),n=Rl(n,f,h,null),E.return=o,n.return=o,E.sibling=n,o.child=E,o.child.memoizedState=Zf(h),o.memoizedState=Kf,n):Jf(o,M));if(y=n.memoizedState,y!==null&&(H=y.dehydrated,H!==null))return F_(n,o,M,f,H,y,h);if(E){E=f.fallback,M=o.mode,y=n.child,H=y.sibling;var V={mode:"hidden",children:f.children};return!(M&1)&&o.child!==y?(f=o.child,f.childLanes=0,f.pendingProps=V,o.deletions=null):(f=ga(y,V),f.subtreeFlags=y.subtreeFlags&14680064),H!==null?E=ga(H,E):(E=Rl(E,M,h,null),E.flags|=2),E.return=o,f.return=o,f.sibling=E,o.child=f,f=E,E=o.child,M=n.child.memoizedState,M=M===null?Zf(h):{baseLanes:M.baseLanes|h,cachePool:null,transitions:M.transitions},E.memoizedState=M,E.childLanes=n.childLanes&~h,o.memoizedState=Kf,f}return E=n.child,n=E.sibling,f=ga(E,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=h),f.return=o,f.sibling=null,n!==null&&(h=o.deletions,h===null?(o.deletions=[n],o.flags|=16):h.push(n)),o.child=f,o.memoizedState=null,f}function Jf(n,o){return o=yd({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function id(n,o,h,f){return f!==null&&kn(f),ki(o,n.child,null,h),n=Jf(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function F_(n,o,h,f,y,E,M){if(h)return o.flags&256?(o.flags&=-257,f=re(Error(t(422))),id(n,o,M,f)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(E=f.fallback,y=o.mode,f=yd({mode:"visible",children:f.children},y,0,null),E=Rl(E,y,M,null),E.flags|=2,f.return=o,E.return=o,f.sibling=E,o.child=f,o.mode&1&&ki(o,n.child,null,M),o.child.memoizedState=Zf(M),o.memoizedState=Kf,E);if(!(o.mode&1))return id(n,o,M,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var H=f.dgst;return f=H,E=Error(t(419)),f=re(E,f,void 0),id(n,o,M,f)}if(H=(M&n.childLanes)!==0,Q||H){if(f=Mr,f!==null){switch(M&-M){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(f.suspendedLanes|M)?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,Tt(n,y),Gi(f,n,y,-1))}return mp(),f=re(Error(t(421))),id(n,o,M,f)}return y.data==="$?"?(o.flags|=128,o.child=n.child,o=q_.bind(null,n),y._reactRetry=o,null):(n=E.treeContext,Kr=Ii(y.nextSibling),Qr=o,Ft=!0,un=null,n!==null&&(Ct[Pn++]=qr,Ct[Pn++]=li,Ct[Pn++]=De,qr=n.id,li=n.overflow,De=o),o=Jf(o,f.children),o.flags|=4096,o)}function Zg(n,o,h){n.lanes|=o;var f=n.alternate;f!==null&&(f.lanes|=o),vl(n.return,o,h)}function ep(n,o,h,f,y){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:h,tailMode:y}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=h,E.tailMode=y)}function Jg(n,o,h){var f=o.pendingProps,y=f.revealOrder,E=f.tail;if(ae(n,o,f.children,h),f=Nt.current,f&2)f=f&1|2,o.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Zg(n,h,o);else if(n.tag===19)Zg(n,h,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if(Et(Nt,f),!(o.mode&1))o.memoizedState=null;else switch(y){case"forwards":for(h=o.child,y=null;h!==null;)n=h.alternate,n!==null&&la(n)===null&&(y=h),h=h.sibling;h=y,h===null?(y=o.child,o.child=null):(y=h.sibling,h.sibling=null),ep(o,!1,y,h,E);break;case"backwards":for(h=null,y=o.child,o.child=null;y!==null;){if(n=y.alternate,n!==null&&la(n)===null){o.child=y;break}n=y.sibling,y.sibling=h,h=y,y=n}ep(o,!0,h,null,E);break;case"together":ep(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function sd(n,o){!(o.mode&1)&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function co(n,o,h){if(n!==null&&(o.dependencies=n.dependencies),Al|=o.lanes,!(h&o.childLanes))return null;if(n!==null&&o.child!==n.child)throw Error(t(153));if(o.child!==null){for(n=o.child,h=ga(n,n.pendingProps),o.child=h,h.return=o;n.sibling!==null;)n=n.sibling,h=h.sibling=ga(n,n.pendingProps),h.return=o;h.sibling=null}return o.child}function B_(n,o,h){switch(o.tag){case 3:nd(o),ro();break;case 5:lo(o);break;case 1:Lr(o.type)&&ra(o);break;case 4:_l(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,y=o.memoizedProps.value;Et(no,f._currentValue),f._currentValue=y;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Et(Nt,Nt.current&1),o.flags|=128,null):h&o.child.childLanes?Kg(n,o,h):(Et(Nt,Nt.current&1),n=co(n,o,h),n!==null?n.sibling:null);Et(Nt,Nt.current&1);break;case 19:if(f=(h&o.childLanes)!==0,n.flags&128){if(f)return Jg(n,o,h);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Et(Nt,Nt.current),f)break;return null;case 22:case 23:return o.lanes=0,je(n,o,h)}return co(n,o,h)}var ey,tp,ty,ry;ey=function(n,o){for(var h=o.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},tp=function(){},ty=function(n,o,h,f){var y=n.memoizedProps;if(y!==f){n=o.stateNode,Fi(Nn.current);var E=null;switch(h){case"input":y=pt(n,y),f=pt(n,f),E=[];break;case"select":y=N({},y,{value:void 0}),f=N({},f,{value:void 0}),E=[];break;case"textarea":y=Ma(n,y),f=Ma(n,f),E=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=ul)}se(h,f);var M;h=null;for(oe in y)if(!f.hasOwnProperty(oe)&&y.hasOwnProperty(oe)&&y[oe]!=null)if(oe==="style"){var H=y[oe];for(M in H)H.hasOwnProperty(M)&&(h||(h={}),h[M]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(s.hasOwnProperty(oe)?E||(E=[]):(E=E||[]).push(oe,null));for(oe in f){var V=f[oe];if(H=y!=null?y[oe]:void 0,f.hasOwnProperty(oe)&&V!==H&&(V!=null||H!=null))if(oe==="style")if(H){for(M in H)!H.hasOwnProperty(M)||V&&V.hasOwnProperty(M)||(h||(h={}),h[M]="");for(M in V)V.hasOwnProperty(M)&&H[M]!==V[M]&&(h||(h={}),h[M]=V[M])}else h||(E||(E=[]),E.push(oe,h)),h=V;else oe==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,H=H?H.__html:void 0,V!=null&&H!==V&&(E=E||[]).push(oe,V)):oe==="children"?typeof V!="string"&&typeof V!="number"||(E=E||[]).push(oe,""+V):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(s.hasOwnProperty(oe)?(V!=null&&oe==="onScroll"&&Mt("scroll",n),E||H===V||(E=[])):(E=E||[]).push(oe,V))}h&&(E=E||[]).push("style",h);var oe=E;(o.updateQueue=oe)&&(o.flags|=4)}},ry=function(n,o,h,f){h!==f&&(o.flags|=4)};function tc(n,o){if(!Ft)switch(n.tailMode){case"hidden":o=n.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?n.tail=null:h.sibling=null;break;case"collapsed":h=n.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function en(n){var o=n.alternate!==null&&n.alternate.child===n.child,h=0,f=0;if(o)for(var y=n.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=f,n.childLanes=h,o}function L_(n,o,h){var f=o.pendingProps;switch(dl(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(o),null;case 1:return Lr(o.type)&&ta(),en(o),null;case 3:return f=o.stateNode,hn(),kt(vr),kt(lr),ua(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(fl(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,un!==null&&(dp(un),un=null))),tp(n,o),en(o),null;case 5:Ru(o);var y=Fi(_r.current);if(h=o.type,n!==null&&o.stateNode!=null)ty(n,o,h,f,y),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return en(o),null}if(n=Fi(Nn.current),fl(o)){f=o.stateNode,h=o.type;var E=o.memoizedProps;switch(f[Xn]=o,f[hl]=E,n=(o.mode&1)!==0,h){case"dialog":Mt("cancel",f),Mt("close",f);break;case"iframe":case"object":case"embed":Mt("load",f);break;case"video":case"audio":for(y=0;y<ds.length;y++)Mt(ds[y],f);break;case"source":Mt("error",f);break;case"img":case"image":case"link":Mt("error",f),Mt("load",f);break;case"details":Mt("toggle",f);break;case"input":We(f,E),Mt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!E.multiple},Mt("invalid",f);break;case"textarea":Xl(f,E),Mt("invalid",f)}se(h,E),y=null;for(var M in E)if(E.hasOwnProperty(M)){var H=E[M];M==="children"?typeof H=="string"?f.textContent!==H&&(E.suppressHydrationWarning!==!0&&ll(f.textContent,H,n),y=["children",H]):typeof H=="number"&&f.textContent!==""+H&&(E.suppressHydrationWarning!==!0&&ll(f.textContent,H,n),y=["children",""+H]):s.hasOwnProperty(M)&&H!=null&&M==="onScroll"&&Mt("scroll",f)}switch(h){case"input":Ue(f),zn(f,E,!0);break;case"textarea":Ue(f),Yl(f);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(f.onclick=ul)}f=y,o.updateQueue=f,f!==null&&(o.flags|=4)}else{M=y.nodeType===9?y:y.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ka(h)),n==="http://www.w3.org/1999/xhtml"?h==="script"?(n=M.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=M.createElement(h,{is:f.is}):(n=M.createElement(h),h==="select"&&(M=n,f.multiple?M.multiple=!0:f.size&&(M.size=f.size))):n=M.createElementNS(n,h),n[Xn]=o,n[hl]=f,ey(n,o,!1,!1),o.stateNode=n;e:{switch(M=ut(h,f),h){case"dialog":Mt("cancel",n),Mt("close",n),y=f;break;case"iframe":case"object":case"embed":Mt("load",n),y=f;break;case"video":case"audio":for(y=0;y<ds.length;y++)Mt(ds[y],n);y=f;break;case"source":Mt("error",n),y=f;break;case"img":case"image":case"link":Mt("error",n),Mt("load",n),y=f;break;case"details":Mt("toggle",n),y=f;break;case"input":We(n,f),y=pt(n,f),Mt("invalid",n);break;case"option":y=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},y=N({},f,{value:void 0}),Mt("invalid",n);break;case"textarea":Xl(n,f),y=Ma(n,f),Mt("invalid",n);break;default:y=f}se(h,y),H=y;for(E in H)if(H.hasOwnProperty(E)){var V=H[E];E==="style"?Bs(n,V):E==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Co(n,V)):E==="children"?typeof V=="string"?(h!=="textarea"||V!=="")&&es(n,V):typeof V=="number"&&es(n,""+V):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?V!=null&&E==="onScroll"&&Mt("scroll",n):V!=null&&D(n,E,V,M))}switch(h){case"input":Ue(n),zn(n,f,!1);break;case"textarea":Ue(n),Yl(n);break;case"option":f.value!=null&&n.setAttribute("value",""+be(f.value));break;case"select":n.multiple=!!f.multiple,E=f.value,E!=null?Zi(n,!!f.multiple,E,!1):f.defaultValue!=null&&Zi(n,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(n.onclick=ul)}switch(h){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return en(o),null;case 6:if(n&&o.stateNode!=null)ry(n,o,n.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(h=Fi(_r.current),Fi(Nn.current),fl(o)){if(f=o.stateNode,h=o.memoizedProps,f[Xn]=o,(E=f.nodeValue!==h)&&(n=Qr,n!==null))switch(n.tag){case 3:ll(f.nodeValue,h,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ll(f.nodeValue,h,(n.mode&1)!==0)}E&&(o.flags|=4)}else f=(h.nodeType===9?h:h.ownerDocument).createTextNode(f),f[Xn]=o,o.stateNode=f}return en(o),null;case 13:if(kt(Nt),f=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ft&&Kr!==null&&o.mode&1&&!(o.flags&128))Mn(),ro(),o.flags|=98560,E=!1;else if(E=fl(o),f!==null&&f.dehydrated!==null){if(n===null){if(!E)throw Error(t(318));if(E=o.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Xn]=o}else ro(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;en(o),E=!1}else un!==null&&(dp(un),un=null),E=!0;if(!E)return o.flags&65536?o:null}return o.flags&128?(o.lanes=h,o):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(n===null||Nt.current&1?wr===0&&(wr=3):mp())),o.updateQueue!==null&&(o.flags|=4),en(o),null);case 4:return hn(),tp(n,o),n===null&&Yo(o.stateNode.containerInfo),en(o),null;case 10:return yl(o.type._context),en(o),null;case 17:return Lr(o.type)&&ta(),en(o),null;case 19:if(kt(Nt),E=o.memoizedState,E===null)return en(o),null;if(f=(o.flags&128)!==0,M=E.rendering,M===null)if(f)tc(E,!1);else{if(wr!==0||n!==null&&n.flags&128)for(n=o.child;n!==null;){if(M=la(n),M!==null){for(o.flags|=128,tc(E,!1),f=M.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=h,h=o.child;h!==null;)E=h,n=f,E.flags&=14680066,M=E.alternate,M===null?(E.childLanes=0,E.lanes=n,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=M.childLanes,E.lanes=M.lanes,E.child=M.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=M.memoizedProps,E.memoizedState=M.memoizedState,E.updateQueue=M.updateQueue,E.type=M.type,n=M.dependencies,E.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),h=h.sibling;return Et(Nt,Nt.current&1|2),o.child}n=n.sibling}E.tail!==null&&Yt()>Uu&&(o.flags|=128,f=!0,tc(E,!1),o.lanes=4194304)}else{if(!f)if(n=la(M),n!==null){if(o.flags|=128,f=!0,h=n.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),tc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!M.alternate&&!Ft)return en(o),null}else 2*Yt()-E.renderingStartTime>Uu&&h!==1073741824&&(o.flags|=128,f=!0,tc(E,!1),o.lanes=4194304);E.isBackwards?(M.sibling=o.child,o.child=M):(h=E.last,h!==null?h.sibling=M:o.child=M,E.last=M)}return E.tail!==null?(o=E.tail,E.rendering=o,E.tail=o.sibling,E.renderingStartTime=Yt(),o.sibling=null,h=Nt.current,Et(Nt,f?h&1|2:h&1),o):(en(o),null);case 22:case 23:return pp(),f=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?Zn&1073741824&&(en(o),o.subtreeFlags&6&&(o.flags|=8192)):en(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function U_(n,o){switch(dl(o),o.tag){case 1:return Lr(o.type)&&ta(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return hn(),kt(vr),kt(lr),ua(),n=o.flags,n&65536&&!(n&128)?(o.flags=n&-65537|128,o):null;case 5:return Ru(o),null;case 13:if(kt(Nt),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ro()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return kt(Nt),null;case 4:return hn(),null;case 10:return yl(o.type._context),null;case 22:case 23:return pp(),null;case 24:return null;default:return null}}var od=!1,tn=!1,z_=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Bu(n,o){var h=n.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(f){ir(n,o,f)}else h.current=null}function rp(n,o,h){try{h()}catch(f){ir(n,o,f)}}var ny=!1;function G_(n,o){if(Ko=sn,n=ar(),Zt(n)){if("selectionStart"in n)var h={start:n.selectionStart,end:n.selectionEnd};else e:{h=(h=n.ownerDocument)&&h.defaultView||window;var f=h.getSelection&&h.getSelection();if(f&&f.rangeCount!==0){h=f.anchorNode;var y=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var M=0,H=-1,V=-1,oe=0,Ee=0,Te=n,we=null;t:for(;;){for(var Oe;Te!==h||y!==0&&Te.nodeType!==3||(H=M+y),Te!==E||f!==0&&Te.nodeType!==3||(V=M+f),Te.nodeType===3&&(M+=Te.nodeValue.length),(Oe=Te.firstChild)!==null;)we=Te,Te=Oe;for(;;){if(Te===n)break t;if(we===h&&++oe===y&&(H=M),we===E&&++Ee===f&&(V=M),(Oe=Te.nextSibling)!==null)break;Te=we,we=Te.parentNode}Te=Oe}h=H===-1||V===-1?null:{start:H,end:V}}else h=null}h=h||{start:0,end:0}}else h=null;for(Dh={focusedElem:n,selectionRange:h},sn=!1,ze=o;ze!==null;)if(o=ze,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,ze=n;else for(;ze!==null;){o=ze;try{var He=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var $e=He.memoizedProps,cr=He.memoizedState,ee=o.stateNode,q=ee.getSnapshotBeforeUpdate(o.elementType===o.type?$e:l(o.type,$e),cr);ee.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var ie=o.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ie){ir(o,o.return,Ie)}if(n=o.sibling,n!==null){n.return=o.return,ze=n;break}ze=o.return}return He=ny,ny=!1,He}function rc(n,o,h){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&n)===n){var E=y.destroy;y.destroy=void 0,E!==void 0&&rp(o,h,E)}y=y.next}while(y!==f)}}function ad(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&n)===n){var f=h.create;h.destroy=f()}h=h.next}while(h!==o)}}function np(n){var o=n.ref;if(o!==null){var h=n.stateNode;switch(n.tag){case 5:n=h;break;default:n=h}typeof o=="function"?o(n):o.current=n}}function iy(n){var o=n.alternate;o!==null&&(n.alternate=null,iy(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[Xn],delete o[hl],delete o[Pr],delete o[Qc],delete o[Kc])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function sy(n){return n.tag===5||n.tag===3||n.tag===4}function oy(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||sy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ip(n,o,h){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?h.nodeType===8?h.parentNode.insertBefore(n,o):h.insertBefore(n,o):(h.nodeType===8?(o=h.parentNode,o.insertBefore(n,h)):(o=h,o.appendChild(n)),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=ul));else if(f!==4&&(n=n.child,n!==null))for(ip(n,o,h),n=n.sibling;n!==null;)ip(n,o,h),n=n.sibling}function sp(n,o,h){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?h.insertBefore(n,o):h.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for(sp(n,o,h),n=n.sibling;n!==null;)sp(n,o,h),n=n.sibling}var Ur=null,Ui=!1;function ca(n,o,h){for(h=h.child;h!==null;)ay(n,o,h),h=h.sibling}function ay(n,o,h){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(jn,h)}catch{}switch(h.tag){case 5:tn||Bu(h,o);case 6:var f=Ur,y=Ui;Ur=null,ca(n,o,h),Ur=f,Ui=y,Ur!==null&&(Ui?(n=Ur,h=h.stateNode,n.nodeType===8?n.parentNode.removeChild(h):n.removeChild(h)):Ur.removeChild(h.stateNode));break;case 18:Ur!==null&&(Ui?(n=Ur,h=h.stateNode,n.nodeType===8?bu(n.parentNode,h):n.nodeType===1&&bu(n,h),Vs(n)):bu(Ur,h.stateNode));break;case 4:f=Ur,y=Ui,Ur=h.stateNode.containerInfo,Ui=!0,ca(n,o,h),Ur=f,Ui=y;break;case 0:case 11:case 14:case 15:if(!tn&&(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var E=y,M=E.destroy;E=E.tag,M!==void 0&&(E&2||E&4)&&rp(h,o,M),y=y.next}while(y!==f)}ca(n,o,h);break;case 1:if(!tn&&(Bu(h,o),f=h.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(H){ir(h,o,H)}ca(n,o,h);break;case 21:ca(n,o,h);break;case 22:h.mode&1?(tn=(f=tn)||h.memoizedState!==null,ca(n,o,h),tn=f):ca(n,o,h);break;default:ca(n,o,h)}}function ly(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var h=n.stateNode;h===null&&(h=n.stateNode=new z_),o.forEach(function(f){var y=Q_.bind(null,n,f);h.has(f)||(h.add(f),f.then(y,y))})}}function zi(n,o){var h=o.deletions;if(h!==null)for(var f=0;f<h.length;f++){var y=h[f];try{var E=n,M=o,H=M;e:for(;H!==null;){switch(H.tag){case 5:Ur=H.stateNode,Ui=!1;break e;case 3:Ur=H.stateNode.containerInfo,Ui=!0;break e;case 4:Ur=H.stateNode.containerInfo,Ui=!0;break e}H=H.return}if(Ur===null)throw Error(t(160));ay(E,M,y),Ur=null,Ui=!1;var V=y.alternate;V!==null&&(V.return=null),y.return=null}catch(oe){ir(y,o,oe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)uy(o,n),o=o.sibling}function uy(n,o){var h=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(zi(o,n),ws(n),f&4){try{rc(3,n,n.return),ad(3,n)}catch($e){ir(n,n.return,$e)}try{rc(5,n,n.return)}catch($e){ir(n,n.return,$e)}}break;case 1:zi(o,n),ws(n),f&512&&h!==null&&Bu(h,h.return);break;case 5:if(zi(o,n),ws(n),f&512&&h!==null&&Bu(h,h.return),n.flags&32){var y=n.stateNode;try{es(y,"")}catch($e){ir(n,n.return,$e)}}if(f&4&&(y=n.stateNode,y!=null)){var E=n.memoizedProps,M=h!==null?h.memoizedProps:E,H=n.type,V=n.updateQueue;if(n.updateQueue=null,V!==null)try{H==="input"&&E.type==="radio"&&E.name!=null&&Ke(y,E),ut(H,M);var oe=ut(H,E);for(M=0;M<V.length;M+=2){var Ee=V[M],Te=V[M+1];Ee==="style"?Bs(y,Te):Ee==="dangerouslySetInnerHTML"?Co(y,Te):Ee==="children"?es(y,Te):D(y,Ee,Te,oe)}switch(H){case"input":or(y,E);break;case"textarea":Ji(y,E);break;case"select":var we=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Oe=E.value;Oe!=null?Zi(y,!!E.multiple,Oe,!1):we!==!!E.multiple&&(E.defaultValue!=null?Zi(y,!!E.multiple,E.defaultValue,!0):Zi(y,!!E.multiple,E.multiple?[]:"",!1))}y[hl]=E}catch($e){ir(n,n.return,$e)}}break;case 6:if(zi(o,n),ws(n),f&4){if(n.stateNode===null)throw Error(t(162));y=n.stateNode,E=n.memoizedProps;try{y.nodeValue=E}catch($e){ir(n,n.return,$e)}}break;case 3:if(zi(o,n),ws(n),f&4&&h!==null&&h.memoizedState.isDehydrated)try{Vs(o.containerInfo)}catch($e){ir(n,n.return,$e)}break;case 4:zi(o,n),ws(n);break;case 13:zi(o,n),ws(n),y=n.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(lp=Yt())),f&4&&ly(n);break;case 22:if(Ee=h!==null&&h.memoizedState!==null,n.mode&1?(tn=(oe=tn)||Ee,zi(o,n),tn=oe):zi(o,n),ws(n),f&8192){if(oe=n.memoizedState!==null,(n.stateNode.isHidden=oe)&&!Ee&&n.mode&1)for(ze=n,Ee=n.child;Ee!==null;){for(Te=ze=Ee;ze!==null;){switch(we=ze,Oe=we.child,we.tag){case 0:case 11:case 14:case 15:rc(4,we,we.return);break;case 1:Bu(we,we.return);var He=we.stateNode;if(typeof He.componentWillUnmount=="function"){f=we,h=we.return;try{o=f,He.props=o.memoizedProps,He.state=o.memoizedState,He.componentWillUnmount()}catch($e){ir(f,h,$e)}}break;case 5:Bu(we,we.return);break;case 22:if(we.memoizedState!==null){dy(Te);continue}}Oe!==null?(Oe.return=we,ze=Oe):dy(Te)}Ee=Ee.sibling}e:for(Ee=null,Te=n;;){if(Te.tag===5){if(Ee===null){Ee=Te;try{y=Te.stateNode,oe?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(H=Te.stateNode,V=Te.memoizedProps.style,M=V!=null&&V.hasOwnProperty("display")?V.display:null,H.style.display=Po("display",M))}catch($e){ir(n,n.return,$e)}}}else if(Te.tag===6){if(Ee===null)try{Te.stateNode.nodeValue=oe?"":Te.memoizedProps}catch($e){ir(n,n.return,$e)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===n)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===n)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===n)break e;Ee===Te&&(Ee=null),Te=Te.return}Ee===Te&&(Ee=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:zi(o,n),ws(n),f&4&&ly(n);break;case 21:break;default:zi(o,n),ws(n)}}function ws(n){var o=n.flags;if(o&2){try{e:{for(var h=n.return;h!==null;){if(sy(h)){var f=h;break e}h=h.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(es(y,""),f.flags&=-33);var E=oy(n);sp(n,E,y);break;case 3:case 4:var M=f.stateNode.containerInfo,H=oy(n);ip(n,H,M);break;default:throw Error(t(161))}}catch(V){ir(n,n.return,V)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function H_(n,o,h){ze=n,hy(n)}function hy(n,o,h){for(var f=(n.mode&1)!==0;ze!==null;){var y=ze,E=y.child;if(y.tag===22&&f){var M=y.memoizedState!==null||od;if(!M){var H=y.alternate,V=H!==null&&H.memoizedState!==null||tn;H=od;var oe=tn;if(od=M,(tn=V)&&!oe)for(ze=y;ze!==null;)M=ze,V=M.child,M.tag===22&&M.memoizedState!==null?fy(y):V!==null?(V.return=M,ze=V):fy(y);for(;E!==null;)ze=E,hy(E),E=E.sibling;ze=y,od=H,tn=oe}cy(n)}else y.subtreeFlags&8772&&E!==null?(E.return=y,ze=E):cy(n)}}function cy(n){for(;ze!==null;){var o=ze;if(o.flags&8772){var h=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:tn||ad(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!tn)if(h===null)f.componentDidMount();else{var y=o.elementType===o.type?h.memoizedProps:l(o.type,h.memoizedProps);f.componentDidUpdate(y,h.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var E=o.updateQueue;E!==null&&vs(o,E,f);break;case 3:var M=o.updateQueue;if(M!==null){if(h=null,o.child!==null)switch(o.child.tag){case 5:h=o.child.stateNode;break;case 1:h=o.child.stateNode}vs(o,M,h)}break;case 5:var H=o.stateNode;if(h===null&&o.flags&4){h=H;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&h.focus();break;case"img":V.src&&(h.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var oe=o.alternate;if(oe!==null){var Ee=oe.memoizedState;if(Ee!==null){var Te=Ee.dehydrated;Te!==null&&Vs(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}tn||o.flags&512&&np(o)}catch(we){ir(o,o.return,we)}}if(o===n){ze=null;break}if(h=o.sibling,h!==null){h.return=o.return,ze=h;break}ze=o.return}}function dy(n){for(;ze!==null;){var o=ze;if(o===n){ze=null;break}var h=o.sibling;if(h!==null){h.return=o.return,ze=h;break}ze=o.return}}function fy(n){for(;ze!==null;){var o=ze;try{switch(o.tag){case 0:case 11:case 15:var h=o.return;try{ad(4,o)}catch(V){ir(o,h,V)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var y=o.return;try{f.componentDidMount()}catch(V){ir(o,y,V)}}var E=o.return;try{np(o)}catch(V){ir(o,E,V)}break;case 5:var M=o.return;try{np(o)}catch(V){ir(o,M,V)}}}catch(V){ir(o,o.return,V)}if(o===n){ze=null;break}var H=o.sibling;if(H!==null){H.return=o.return,ze=H;break}ze=o.return}}var j_=Math.ceil,ld=$.ReactCurrentDispatcher,op=$.ReactCurrentOwner,di=$.ReactCurrentBatchConfig,xt=0,Mr=null,mr=null,zr=0,Zn=0,Lu=Ri(0),wr=0,nc=null,Al=0,ud=0,ap=0,ic=null,On=null,lp=0,Uu=1/0,fo=null,hd=!1,up=null,da=null,cd=!1,fa=null,dd=0,sc=0,hp=null,fd=-1,pd=0;function fn(){return xt&6?Yt():fd!==-1?fd:fd=Yt()}function pa(n){return n.mode&1?xt&2&&zr!==0?zr&-zr:Xf.transition!==null?(pd===0&&(pd=vn()),pd):(n=gt,n!==0||(n=window.event,n=n===void 0?16:on(n.type)),n):1}function Gi(n,o,h,f){if(50<sc)throw sc=0,hp=null,Error(t(185));za(n,h,f),(!(xt&2)||n!==Mr)&&(n===Mr&&(!(xt&2)&&(ud|=h),wr===4&&ma(n,zr)),Fn(n,f),h===1&&xt===0&&!(o.mode&1)&&(Uu=Yt()+500,Tn&&Cn()))}function Fn(n,o){var h=n.callbackNode;eu(n,o);var f=Ua(n,n===Mr?zr:0);if(f===0)h!==null&&Bc(h),n.callbackNode=null,n.callbackPriority=0;else if(o=f&-f,n.callbackPriority!==o){if(h!=null&&Bc(h),o===1)n.tag===0?Zc(my.bind(null,n)):Gh(my.bind(null,n)),Bh(function(){!(xt&6)&&Cn()}),h=null;else{switch(Ha(f)){case 1:h=La;break;case 4:h=Zl;break;case 16:h=Jl;break;case 536870912:h=js;break;default:h=Jl}h=Sy(h,py.bind(null,n))}n.callbackPriority=o,n.callbackNode=h}}function py(n,o){if(fd=-1,pd=0,xt&6)throw Error(t(327));var h=n.callbackNode;if(zu()&&n.callbackNode!==h)return null;var f=Ua(n,n===Mr?zr:0);if(f===0)return null;if(f&30||f&n.expiredLanes||o)o=md(n,f);else{o=f;var y=xt;xt|=2;var E=yy();(Mr!==n||zr!==o)&&(fo=null,Uu=Yt()+500,Pl(n,o));do try{V_();break}catch(H){gy(n,H)}while(!0);gl(),ld.current=E,xt=y,mr!==null?o=0:(Mr=null,zr=0,o=wr)}if(o!==0){if(o===2&&(y=tu(n),y!==0&&(f=y,o=cp(n,y))),o===1)throw h=nc,Pl(n,0),ma(n,f),Fn(n,Yt()),h;if(o===6)ma(n,f);else{if(y=n.current.alternate,!(f&30)&&!$_(y)&&(o=md(n,f),o===2&&(E=tu(n),E!==0&&(f=E,o=cp(n,E))),o===1))throw h=nc,Pl(n,0),ma(n,f),Fn(n,Yt()),h;switch(n.finishedWork=y,n.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Il(n,On,fo);break;case 3:if(ma(n,f),(f&130023424)===f&&(o=lp+500-Yt(),10<o)){if(Ua(n,0)!==0)break;if(y=n.suspendedLanes,(y&f)!==f){fn(),n.pingedLanes|=n.suspendedLanes&y;break}n.timeoutHandle=Fh(Il.bind(null,n,On,fo),o);break}Il(n,On,fo);break;case 4:if(ma(n,f),(f&4194240)===f)break;for(o=n.eventTimes,y=-1;0<f;){var M=31-pr(f);E=1<<M,M=o[M],M>y&&(y=M),f&=~E}if(f=y,f=Yt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*j_(f/1960))-f,10<f){n.timeoutHandle=Fh(Il.bind(null,n,On,fo),f);break}Il(n,On,fo);break;case 5:Il(n,On,fo);break;default:throw Error(t(329))}}}return Fn(n,Yt()),n.callbackNode===h?py.bind(null,n):null}function cp(n,o){var h=ic;return n.current.memoizedState.isDehydrated&&(Pl(n,o).flags|=256),n=md(n,o),n!==2&&(o=On,On=h,o!==null&&dp(o)),n}function dp(n){On===null?On=n:On.push.apply(On,n)}function $_(n){for(var o=n;;){if(o.flags&16384){var h=o.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var f=0;f<h.length;f++){var y=h[f],E=y.getSnapshot;y=y.value;try{if(!ln(E(),y))return!1}catch{return!1}}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ma(n,o){for(o&=~ap,o&=~ud,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var h=31-pr(o),f=1<<h;n[h]=-1,o&=~f}}function my(n){if(xt&6)throw Error(t(327));zu();var o=Ua(n,0);if(!(o&1))return Fn(n,Yt()),null;var h=md(n,o);if(n.tag!==0&&h===2){var f=tu(n);f!==0&&(o=f,h=cp(n,f))}if(h===1)throw h=nc,Pl(n,0),ma(n,o),Fn(n,Yt()),h;if(h===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,Il(n,On,fo),Fn(n,Yt()),null}function fp(n,o){var h=xt;xt|=1;try{return n(o)}finally{xt=h,xt===0&&(Uu=Yt()+500,Tn&&Cn())}}function Cl(n){fa!==null&&fa.tag===0&&!(xt&6)&&zu();var o=xt;xt|=1;var h=di.transition,f=gt;try{if(di.transition=null,gt=1,n)return n()}finally{gt=f,di.transition=h,xt=o,!(xt&6)&&Cn()}}function pp(){Zn=Lu.current,kt(Lu)}function Pl(n,o){n.finishedWork=null,n.finishedLanes=0;var h=n.timeoutHandle;if(h!==-1&&(n.timeoutHandle=-1,Zo(h)),mr!==null)for(h=mr.return;h!==null;){var f=h;switch(dl(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ta();break;case 3:hn(),kt(vr),kt(lr),ua();break;case 5:Ru(f);break;case 4:hn();break;case 13:kt(Nt);break;case 19:kt(Nt);break;case 10:yl(f.type._context);break;case 22:case 23:pp()}h=h.return}if(Mr=n,mr=n=ga(n.current,null),zr=Zn=o,wr=0,nc=null,ap=ud=Al=0,On=ic=null,ao!==null){for(o=0;o<ao.length;o++)if(h=ao[o],f=h.interleaved,f!==null){h.interleaved=null;var y=f.next,E=h.pending;if(E!==null){var M=E.next;E.next=y,f.next=M}h.pending=f}ao=null}return n}function gy(n,o){do{var h=mr;try{if(gl(),Yn.current=Tl,ur){for(var f=Lt.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}ur=!1}if(qn=0,Qt=Wt=Lt=null,Dn=!1,Rr=0,op.current=null,h===null||h.return===null){wr=1,nc=o,mr=null;break}e:{var E=n,M=h.return,H=h,V=o;if(o=zr,H.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var oe=V,Ee=H,Te=Ee.tag;if(!(Ee.mode&1)&&(Te===0||Te===11||Te===15)){var we=Ee.alternate;we?(Ee.updateQueue=we.updateQueue,Ee.memoizedState=we.memoizedState,Ee.lanes=we.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var Oe=Ge(M);if(Oe!==null){Oe.flags&=-257,at(Oe,M,H,E,o),Oe.mode&1&&Ae(E,oe,o),o=Oe,V=oe;var He=o.updateQueue;if(He===null){var $e=new Set;$e.add(V),o.updateQueue=$e}else He.add(V);break e}else{if(!(o&1)){Ae(E,oe,o),mp();break e}V=Error(t(426))}}else if(Ft&&H.mode&1){var cr=Ge(M);if(cr!==null){!(cr.flags&65536)&&(cr.flags|=256),at(cr,M,H,E,o),kn(X(V,H));break e}}E=V=X(V,H),wr!==4&&(wr=2),ic===null?ic=[E]:ic.push(E),E=M;do{switch(E.tag){case 3:E.flags|=65536,o&=-o,E.lanes|=o;var ee=Re(E,V,o);nr(E,ee);break e;case 1:H=V;var q=E.type,ie=E.stateNode;if(!(E.flags&128)&&(typeof q.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(da===null||!da.has(ie)))){E.flags|=65536,o&=-o,E.lanes|=o;var Ie=fe(E,H,o);nr(E,Ie);break e}}E=E.return}while(E!==null)}_y(h)}catch(Xe){o=Xe,mr===h&&h!==null&&(mr=h=h.return);continue}break}while(!0)}function yy(){var n=ld.current;return ld.current=Tl,n===null?Tl:n}function mp(){(wr===0||wr===3||wr===2)&&(wr=4),Mr===null||!(Al&268435455)&&!(ud&268435455)||ma(Mr,zr)}function md(n,o){var h=xt;xt|=2;var f=yy();(Mr!==n||zr!==o)&&(fo=null,Pl(n,o));do try{W_();break}catch(y){gy(n,y)}while(!0);if(gl(),xt=h,ld.current=f,mr!==null)throw Error(t(261));return Mr=null,zr=0,wr}function W_(){for(;mr!==null;)vy(mr)}function V_(){for(;mr!==null&&!Uf();)vy(mr)}function vy(n){var o=Ey(n.alternate,n,Zn);n.memoizedProps=n.pendingProps,o===null?_y(n):mr=o,op.current=null}function _y(n){var o=n;do{var h=o.alternate;if(n=o.return,o.flags&32768){if(h=U_(h,o),h!==null){h.flags&=32767,mr=h;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{wr=6,mr=null;return}}else if(h=L_(h,o,Zn),h!==null){mr=h;return}if(o=o.sibling,o!==null){mr=o;return}mr=o=n}while(o!==null);wr===0&&(wr=5)}function Il(n,o,h){var f=gt,y=di.transition;try{di.transition=null,gt=1,X_(n,o,h,f)}finally{di.transition=y,gt=f}return null}function X_(n,o,h,f){do zu();while(fa!==null);if(xt&6)throw Error(t(327));h=n.finishedWork;var y=n.finishedLanes;if(h===null)return null;if(n.finishedWork=null,n.finishedLanes=0,h===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var E=h.lanes|h.childLanes;if(ch(n,E),n===Mr&&(mr=Mr=null,zr=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||cd||(cd=!0,Sy(Jl,function(){return zu(),null})),E=(h.flags&15990)!==0,h.subtreeFlags&15990||E){E=di.transition,di.transition=null;var M=gt;gt=1;var H=xt;xt|=4,op.current=null,G_(n,h),uy(h,n),fu(Dh),sn=!!Ko,Dh=Ko=null,n.current=h,H_(h),zf(),xt=H,gt=M,di.transition=E}else n.current=h;if(cd&&(cd=!1,fa=n,dd=y),E=n.pendingLanes,E===0&&(da=null),It(h.stateNode),Fn(n,Yt()),o!==null)for(f=n.onRecoverableError,h=0;h<o.length;h++)y=o[h],f(y.value,{componentStack:y.stack,digest:y.digest});if(hd)throw hd=!1,n=up,up=null,n;return dd&1&&n.tag!==0&&zu(),E=n.pendingLanes,E&1?n===hp?sc++:(sc=0,hp=n):sc=0,Cn(),null}function zu(){if(fa!==null){var n=Ha(dd),o=di.transition,h=gt;try{if(di.transition=null,gt=16>n?16:n,fa===null)var f=!1;else{if(n=fa,fa=null,dd=0,xt&6)throw Error(t(331));var y=xt;for(xt|=4,ze=n.current;ze!==null;){var E=ze,M=E.child;if(ze.flags&16){var H=E.deletions;if(H!==null){for(var V=0;V<H.length;V++){var oe=H[V];for(ze=oe;ze!==null;){var Ee=ze;switch(Ee.tag){case 0:case 11:case 15:rc(8,Ee,E)}var Te=Ee.child;if(Te!==null)Te.return=Ee,ze=Te;else for(;ze!==null;){Ee=ze;var we=Ee.sibling,Oe=Ee.return;if(iy(Ee),Ee===oe){ze=null;break}if(we!==null){we.return=Oe,ze=we;break}ze=Oe}}}var He=E.alternate;if(He!==null){var $e=He.child;if($e!==null){He.child=null;do{var cr=$e.sibling;$e.sibling=null,$e=cr}while($e!==null)}}ze=E}}if(E.subtreeFlags&2064&&M!==null)M.return=E,ze=M;else e:for(;ze!==null;){if(E=ze,E.flags&2048)switch(E.tag){case 0:case 11:case 15:rc(9,E,E.return)}var ee=E.sibling;if(ee!==null){ee.return=E.return,ze=ee;break e}ze=E.return}}var q=n.current;for(ze=q;ze!==null;){M=ze;var ie=M.child;if(M.subtreeFlags&2064&&ie!==null)ie.return=M,ze=ie;else e:for(M=q;ze!==null;){if(H=ze,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:ad(9,H)}}catch(Xe){ir(H,H.return,Xe)}if(H===M){ze=null;break e}var Ie=H.sibling;if(Ie!==null){Ie.return=H.return,ze=Ie;break e}ze=H.return}}if(xt=y,Cn(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(jn,n)}catch{}f=!0}return f}finally{gt=h,di.transition=o}}return!1}function xy(n,o,h){o=X(h,o),o=Re(n,o,1),n=rr(n,o,1),o=fn(),n!==null&&(za(n,1,o),Fn(n,o))}function ir(n,o,h){if(n.tag===3)xy(n,n,h);else for(;o!==null;){if(o.tag===3){xy(o,n,h);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(da===null||!da.has(f))){n=X(h,n),n=fe(o,n,1),o=rr(o,n,1),n=fn(),o!==null&&(za(o,1,n),Fn(o,n));break}}o=o.return}}function Y_(n,o,h){var f=n.pingCache;f!==null&&f.delete(o),o=fn(),n.pingedLanes|=n.suspendedLanes&h,Mr===n&&(zr&h)===h&&(wr===4||wr===3&&(zr&130023424)===zr&&500>Yt()-lp?Pl(n,0):ap|=h),Fn(n,o)}function wy(n,o){o===0&&(n.mode&1?(o=Cr,Cr<<=1,!(Cr&130023424)&&(Cr=4194304)):o=1);var h=fn();n=Tt(n,o),n!==null&&(za(n,o,h),Fn(n,h))}function q_(n){var o=n.memoizedState,h=0;o!==null&&(h=o.retryLane),wy(n,h)}function Q_(n,o){var h=0;switch(n.tag){case 13:var f=n.stateNode,y=n.memoizedState;y!==null&&(h=y.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),wy(n,h)}var Ey;Ey=function(n,o,h){if(n!==null)if(n.memoizedProps!==o.pendingProps||vr.current)Q=!0;else{if(!(n.lanes&h)&&!(o.flags&128))return Q=!1,B_(n,o,h);Q=!!(n.flags&131072)}else Q=!1,Ft&&o.flags&1048576&&ia(o,to,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;sd(n,o),n=o.pendingProps;var y=ms(o,lr.current);oo(o,h),y=wl(null,o,f,n,y,h);var E=hi();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Lr(f)?(E=!0,ra(o)):E=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,tr(o),y.updater=m,o.stateNode=y,y._reactInternals=o,F(o,f,n,h),o=ci(null,o,f,!0,E,h)):(o.tag=0,Ft&&E&&sa(o),ae(null,o,y,h),o=o.child),o;case 16:f=o.elementType;e:{switch(sd(n,o),n=o.pendingProps,y=f._init,f=y(f._payload),o.type=f,y=o.tag=Z_(f),n=l(f,n),y){case 0:o=hr(null,o,f,n,h);break e;case 1:o=_t(null,o,f,n,h);break e;case 11:o=Se(null,o,f,n,h);break e;case 14:o=qe(null,o,f,l(f.type,n),h);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:l(f,y),hr(n,o,f,y,h);case 1:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:l(f,y),_t(n,o,f,y,h);case 3:e:{if(nd(o),n===null)throw Error(t(387));f=o.pendingProps,E=o.memoizedState,y=E.element,qt(n,o),ys(o,f,null,h);var M=o.memoizedState;if(f=M.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){y=X(Error(t(423)),o),o=Qg(n,o,f,h,y);break e}else if(f!==y){y=X(Error(t(424)),o),o=Qg(n,o,f,h,y);break e}else for(Kr=Ii(o.stateNode.containerInfo.firstChild),Qr=o,Ft=!0,un=null,h=ml(o,null,f,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(ro(),f===y){o=co(n,o,h);break e}ae(n,o,f,h)}o=o.child}return o;case 5:return lo(o),n===null&&Rn(o),f=o.type,y=o.pendingProps,E=n!==null?n.memoizedProps:null,M=y.children,Oh(f,y)?M=null:E!==null&&Oh(f,E)&&(o.flags|=32),yt(n,o),ae(n,o,M,h),o.child;case 6:return n===null&&Rn(o),null;case 13:return Kg(n,o,h);case 4:return _l(o,o.stateNode.containerInfo),f=o.pendingProps,n===null?o.child=ki(o,null,f,h):ae(n,o,f,h),o.child;case 11:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:l(f,y),Se(n,o,f,y,h);case 7:return ae(n,o,o.pendingProps,h),o.child;case 8:return ae(n,o,o.pendingProps.children,h),o.child;case 12:return ae(n,o,o.pendingProps.children,h),o.child;case 10:e:{if(f=o.type._context,y=o.pendingProps,E=o.memoizedProps,M=y.value,Et(no,f._currentValue),f._currentValue=M,E!==null)if(ln(E.value,M)){if(E.children===y.children&&!vr.current){o=co(n,o,h);break e}}else for(E=o.child,E!==null&&(E.return=o);E!==null;){var H=E.dependencies;if(H!==null){M=E.child;for(var V=H.firstContext;V!==null;){if(V.context===f){if(E.tag===1){V=Bt(-1,h&-h),V.tag=2;var oe=E.updateQueue;if(oe!==null){oe=oe.shared;var Ee=oe.pending;Ee===null?V.next=V:(V.next=Ee.next,Ee.next=V),oe.pending=V}}E.lanes|=h,V=E.alternate,V!==null&&(V.lanes|=h),vl(E.return,h,o),H.lanes|=h;break}V=V.next}}else if(E.tag===10)M=E.type===o.type?null:E.child;else if(E.tag===18){if(M=E.return,M===null)throw Error(t(341));M.lanes|=h,H=M.alternate,H!==null&&(H.lanes|=h),vl(M,h,o),M=E.sibling}else M=E.child;if(M!==null)M.return=E;else for(M=E;M!==null;){if(M===o){M=null;break}if(E=M.sibling,E!==null){E.return=M.return,M=E;break}M=M.return}E=M}ae(n,o,y.children,h),o=o.child}return o;case 9:return y=o.type,f=o.pendingProps.children,oo(o,h),y=Zr(y),f=f(y),o.flags|=1,ae(n,o,f,h),o.child;case 14:return f=o.type,y=l(f,o.pendingProps),y=l(f.type,y),qe(n,o,f,y,h);case 15:return vt(n,o,o.type,o.pendingProps,h);case 17:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:l(f,y),sd(n,o),o.tag=1,Lr(f)?(n=!0,ra(o)):n=!1,oo(o,h),x(o,f,y),F(o,f,y,h),ci(null,o,f,!0,n,h);case 19:return Jg(n,o,h);case 22:return je(n,o,h)}throw Error(t(156,o.tag))};function Sy(n,o){return Fa(n,o)}function K_(n,o,h,f){this.tag=n,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(n,o,h,f){return new K_(n,o,h,f)}function gp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Z_(n){if(typeof n=="function")return gp(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Y)return 11;if(n===_e)return 14}return 2}function ga(n,o){var h=n.alternate;return h===null?(h=fi(n.tag,o,n.key,n.mode),h.elementType=n.elementType,h.type=n.type,h.stateNode=n.stateNode,h.alternate=n,n.alternate=h):(h.pendingProps=o,h.type=n.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=n.flags&14680064,h.childLanes=n.childLanes,h.lanes=n.lanes,h.child=n.child,h.memoizedProps=n.memoizedProps,h.memoizedState=n.memoizedState,h.updateQueue=n.updateQueue,o=n.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=n.sibling,h.index=n.index,h.ref=n.ref,h}function gd(n,o,h,f,y,E){var M=2;if(f=n,typeof n=="function")gp(n)&&(M=1);else if(typeof n=="string")M=5;else e:switch(n){case z:return Rl(h.children,y,E,o);case te:M=8,y|=8;break;case ce:return n=fi(12,h,o,y|2),n.elementType=ce,n.lanes=E,n;case Z:return n=fi(13,h,o,y),n.elementType=Z,n.lanes=E,n;case ue:return n=fi(19,h,o,y),n.elementType=ue,n.lanes=E,n;case G:return yd(h,y,E,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case le:M=10;break e;case xe:M=9;break e;case Y:M=11;break e;case _e:M=14;break e;case B:M=16,f=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return o=fi(M,h,o,y),o.elementType=n,o.type=f,o.lanes=E,o}function Rl(n,o,h,f){return n=fi(7,n,f,o),n.lanes=h,n}function yd(n,o,h,f){return n=fi(22,n,f,o),n.elementType=G,n.lanes=h,n.stateNode={isHidden:!1},n}function yp(n,o,h){return n=fi(6,n,null,o),n.lanes=h,n}function vp(n,o,h){return o=fi(4,n.children!==null?n.children:[],n.key,o),o.lanes=h,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function J_(n,o,h,f,y){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hh(0),this.expirationTimes=hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hh(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function _p(n,o,h,f,y,E,M,H,V){return n=new J_(n,o,h,H,V),o===1?(o=1,E===!0&&(o|=8)):o=0,E=fi(3,null,null,o),n.current=E,E.stateNode=n,E.memoizedState={element:f,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},tr(E),n}function ex(n,o,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:f==null?null:""+f,children:n,containerInfo:o,implementation:h}}function by(n){if(!n)return Sn;n=n._reactInternals;e:{if(ni(n)!==n||n.tag!==1)throw Error(t(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Lr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(n.tag===1){var h=n.type;if(Lr(h))return Uh(n,h,o)}return o}function Ty(n,o,h,f,y,E,M,H,V){return n=_p(h,f,!0,n,y,E,M,H,V),n.context=by(null),h=n.current,f=fn(),y=pa(h),E=Bt(f,y),E.callback=o??null,rr(h,E,y),n.current.lanes=y,za(n,y,f),Fn(n,f),n}function vd(n,o,h,f){var y=o.current,E=fn(),M=pa(y);return h=by(h),o.context===null?o.context=h:o.pendingContext=h,o=Bt(E,M),o.payload={element:n},f=f===void 0?null:f,f!==null&&(o.callback=f),n=rr(y,o,M),n!==null&&(Gi(n,y,M,E),Di(n,y,M)),M}function _d(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ay(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var h=n.retryLane;n.retryLane=h!==0&&h<o?h:o}}function xp(n,o){Ay(n,o),(n=n.alternate)&&Ay(n,o)}function tx(){return null}var Cy=typeof reportError=="function"?reportError:function(n){console.error(n)};function wp(n){this._internalRoot=n}xd.prototype.render=wp.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(t(409));vd(n,o,null,null)},xd.prototype.unmount=wp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;Cl(function(){vd(null,n,null,null)}),o[$t]=null}};function xd(n){this._internalRoot=n}xd.prototype.unstable_scheduleHydration=function(n){if(n){var o=ru();n={blockedOn:null,target:n,priority:o};for(var h=0;h<Dt.length&&o!==0&&o<Dt[h].priority;h++);Dt.splice(h,0,n),h===0&&Xa(n)}};function Ep(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function wd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Py(){}function rx(n,o,h,f,y){if(y){if(typeof f=="function"){var E=f;f=function(){var oe=_d(M);E.call(oe)}}var M=Ty(o,f,n,0,null,!1,!1,"",Py);return n._reactRootContainer=M,n[$t]=M.current,Yo(n.nodeType===8?n.parentNode:n),Cl(),M}for(;y=n.lastChild;)n.removeChild(y);if(typeof f=="function"){var H=f;f=function(){var oe=_d(V);H.call(oe)}}var V=_p(n,0,!1,null,null,!1,!1,"",Py);return n._reactRootContainer=V,n[$t]=V.current,Yo(n.nodeType===8?n.parentNode:n),Cl(function(){vd(o,V,h,f)}),V}function Ed(n,o,h,f,y){var E=h._reactRootContainer;if(E){var M=E;if(typeof y=="function"){var H=y;y=function(){var V=_d(M);H.call(V)}}vd(o,M,n,y)}else M=rx(h,o,n,y,f);return _d(M)}Uc=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var h=Ws(o.pendingLanes);h!==0&&(Ga(o,h|1),Fn(o,Yt()),!(xt&6)&&(Uu=Yt()+500,Cn()))}break;case 13:Cl(function(){var f=Tt(n,1);if(f!==null){var y=fn();Gi(f,n,1,y)}}),xp(n,1)}},ja=function(n){if(n.tag===13){var o=Tt(n,134217728);if(o!==null){var h=fn();Gi(o,n,134217728,h)}xp(n,134217728)}},dh=function(n){if(n.tag===13){var o=pa(n),h=Tt(n,o);if(h!==null){var f=fn();Gi(h,n,o,f)}xp(n,o)}},ru=function(){return gt},Mo=function(n,o){var h=gt;try{return gt=n,o()}finally{gt=h}},it=function(n,o,h){switch(o){case"input":if(or(n,h),o=h.name,h.type==="radio"&&o!=null){for(h=n;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<h.length;o++){var f=h[o];if(f!==n&&f.form===n.form){var y=ea(f);if(!y)throw Error(t(90));Ze(f),or(f,y)}}}break;case"textarea":Ji(n,h);break;case"select":o=h.value,o!=null&&Zi(n,!!h.multiple,o,!1)}},vi=fp,Tr=Cl;var nx={usingClientEntryPoint:!1,Events:[Jo,eo,ea,yn,Ls,fp]},oc={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ix={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Hs(n),n===null?null:n.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||tx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{jn=Sd.inject(ix),mt=Sd}catch{}}return Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nx,Bn.createPortal=function(n,o){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ep(o))throw Error(t(200));return ex(n,o,null,h)},Bn.createRoot=function(n,o){if(!Ep(n))throw Error(t(299));var h=!1,f="",y=Cy;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=_p(n,1,!1,null,null,h,!1,f,y),n[$t]=o.current,Yo(n.nodeType===8?n.parentNode:n),new wp(o)},Bn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Hs(o),n=n===null?null:n.stateNode,n},Bn.flushSync=function(n){return Cl(n)},Bn.hydrate=function(n,o,h){if(!wd(o))throw Error(t(200));return Ed(null,n,o,!0,h)},Bn.hydrateRoot=function(n,o,h){if(!Ep(n))throw Error(t(405));var f=h!=null&&h.hydratedSources||null,y=!1,E="",M=Cy;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(M=h.onRecoverableError)),o=Ty(o,null,n,1,h??null,y,!1,E,M),n[$t]=o.current,Yo(n),f)for(n=0;n<f.length;n++)h=f[n],y=h._getVersion,y=y(h._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[h,y]:o.mutableSourceEagerHydrationData.push(h,y);return new xd(o)},Bn.render=function(n,o,h){if(!wd(o))throw Error(t(200));return Ed(null,n,o,!1,h)},Bn.unmountComponentAtNode=function(n){if(!wd(n))throw Error(t(40));return n._reactRootContainer?(Cl(function(){Ed(null,null,n,!1,function(){n._reactRootContainer=null,n[$t]=null})}),!0):!1},Bn.unstable_batchedUpdates=fp,Bn.unstable_renderSubtreeIntoContainer=function(n,o,h,f){if(!wd(h))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Ed(n,o,h,!1,f)},Bn.version="18.3.1-next-f1338f8080-20240426",Bn}var Fy;function mx(){if(Fy)return Tp.exports;Fy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tp.exports=px(),Tp.exports}var By;function gx(){if(By)return bd;By=1;var i=mx();return bd.createRoot=i.createRoot,bd.hydrateRoot=i.hydrateRoot,bd}var yx=gx(),Wl=(i=>(i[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2",i))(Wl||{}),r1=(i=>(i[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS",i))(r1||{}),Wm=(i=>(i[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL",i))(Wm||{}),rt=(i=>(i[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR",i))(rt||{}),Xi=(i=>(i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN",i))(Xi||{}),Ce=(i=>(i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.RG=33319]="RG",i[i.RED=6403]="RED",i[i.RGBA_INTEGER=36249]="RGBA_INTEGER",i[i.RGB_INTEGER=36248]="RGB_INTEGER",i[i.RG_INTEGER=33320]="RG_INTEGER",i[i.RED_INTEGER=36244]="RED_INTEGER",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL",i))(Ce||{}),Ju=(i=>(i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",i))(Ju||{}),Qe=(i=>(i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.UNSIGNED_INT=5125]="UNSIGNED_INT",i[i.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",i[i.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",i[i.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",i[i.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",i[i.BYTE=5120]="BYTE",i[i.SHORT=5122]="SHORT",i[i.INT=5124]="INT",i[i.FLOAT=5126]="FLOAT",i[i.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",i[i.HALF_FLOAT=36193]="HALF_FLOAT",i))(Qe||{}),Fe=(i=>(i[i.FLOAT=0]="FLOAT",i[i.INT=1]="INT",i[i.UINT=2]="UINT",i))(Fe||{}),vo=(i=>(i[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR",i))(vo||{}),Eo=(i=>(i[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",i))(Eo||{}),Ms=(i=>(i[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON",i[i.ON_MANUAL=3]="ON_MANUAL",i))(Ms||{}),Ln=(i=>(i[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",i))(Ln||{}),Cs=(i=>(i[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT",i))(Cs||{}),Fg=(i=>(i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL",i))(Fg||{}),gi=(i=>(i.LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp",i))(gi||{}),Er=(i=>(i[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE",i[i.COLOR=4]="COLOR",i))(Er||{}),gr=(i=>(i[i.NONE=0]="NONE",i[i.LOW=2]="LOW",i[i.MEDIUM=4]="MEDIUM",i[i.HIGH=8]="HIGH",i))(gr||{}),Is=(i=>(i[i.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",i[i.ARRAY_BUFFER=34962]="ARRAY_BUFFER",i[i.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",i))(Is||{});const vx={createCanvas:(i,e)=>{const t=document.createElement("canvas");return t.width=i,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,e)=>fetch(i,e),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")},Be={ADAPTER:vx,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Pp=/iPhone/i,Ly=/iPod/i,Uy=/iPad/i,zy=/\biOS-universal(?:.+)Mac\b/i,Ip=/\bAndroid(?:.+)Mobile\b/i,Gy=/Android/i,Gu=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Td=/Silk/i,po=/Windows Phone/i,Hy=/\bWindows(?:.+)ARM\b/i,jy=/BlackBerry/i,$y=/BB10/i,Wy=/Opera Mini/i,Vy=/\b(CriOS|Chrome)(?:.+)Mobile/i,Xy=/Mobile(?:.+)Firefox\b/i,Yy=function(i){return typeof i<"u"&&i.platform==="MacIntel"&&typeof i.maxTouchPoints=="number"&&i.maxTouchPoints>1&&typeof MSStream>"u"};function _x(i){return function(e){return e.test(i)}}function qy(i){var e={userAgent:"",platform:"",maxTouchPoints:0};!i&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof i=="string"?e.userAgent=i:i&&i.userAgent&&(e={userAgent:i.userAgent,platform:i.platform,maxTouchPoints:i.maxTouchPoints||0});var t=e.userAgent,r=t.split("[FBAN");typeof r[1]<"u"&&(t=r[0]),r=t.split("Twitter"),typeof r[1]<"u"&&(t=r[0]);var s=_x(t),a={apple:{phone:s(Pp)&&!s(po),ipod:s(Ly),tablet:!s(Pp)&&(s(Uy)||Yy(e))&&!s(po),universal:s(zy),device:(s(Pp)||s(Ly)||s(Uy)||s(zy)||Yy(e))&&!s(po)},amazon:{phone:s(Gu),tablet:!s(Gu)&&s(Td),device:s(Gu)||s(Td)},android:{phone:!s(po)&&s(Gu)||!s(po)&&s(Ip),tablet:!s(po)&&!s(Gu)&&!s(Ip)&&(s(Td)||s(Gy)),device:!s(po)&&(s(Gu)||s(Td)||s(Ip)||s(Gy))||s(/\bokhttp\b/i)},windows:{phone:s(po),tablet:s(Hy),device:s(po)||s(Hy)},other:{blackberry:s(jy),blackberry10:s($y),opera:s(Wy),firefox:s(Xy),chrome:s(Vy),device:s(jy)||s($y)||s(Wy)||s(Xy)||s(Vy)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}const xx=qy.default??qy,_o=xx(globalThis.navigator);Be.RETINA_PREFIX=/@([0-9\.]+)x/;Be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Rp={exports:{}},Qy;function wx(){return Qy||(Qy=1,function(i){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function s(p,g,_){this.fn=p,this.context=g,this.once=_||!1}function a(p,g,_,w,S){if(typeof _!="function")throw new TypeError("The listener must be a function");var b=new s(_,w||p,S),C=t?t+g:g;return p._events[C]?p._events[C].fn?p._events[C]=[p._events[C],b]:p._events[C].push(b):(p._events[C]=b,p._eventsCount++),p}function c(p,g){--p._eventsCount===0?p._events=new r:delete p._events[g]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var g=[],_,w;if(this._eventsCount===0)return g;for(w in _=this._events)e.call(_,w)&&g.push(t?w.slice(1):w);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(_)):g},d.prototype.listeners=function(g){var _=t?t+g:g,w=this._events[_];if(!w)return[];if(w.fn)return[w.fn];for(var S=0,b=w.length,C=new Array(b);S<b;S++)C[S]=w[S].fn;return C},d.prototype.listenerCount=function(g){var _=t?t+g:g,w=this._events[_];return w?w.fn?1:w.length:0},d.prototype.emit=function(g,_,w,S,b,C){var R=t?t+g:g;if(!this._events[R])return!1;var A=this._events[R],k=arguments.length,U,D;if(A.fn){switch(A.once&&this.removeListener(g,A.fn,void 0,!0),k){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,_),!0;case 3:return A.fn.call(A.context,_,w),!0;case 4:return A.fn.call(A.context,_,w,S),!0;case 5:return A.fn.call(A.context,_,w,S,b),!0;case 6:return A.fn.call(A.context,_,w,S,b,C),!0}for(D=1,U=new Array(k-1);D<k;D++)U[D-1]=arguments[D];A.fn.apply(A.context,U)}else{var $=A.length,O;for(D=0;D<$;D++)switch(A[D].once&&this.removeListener(g,A[D].fn,void 0,!0),k){case 1:A[D].fn.call(A[D].context);break;case 2:A[D].fn.call(A[D].context,_);break;case 3:A[D].fn.call(A[D].context,_,w);break;case 4:A[D].fn.call(A[D].context,_,w,S);break;default:if(!U)for(O=1,U=new Array(k-1);O<k;O++)U[O-1]=arguments[O];A[D].fn.apply(A[D].context,U)}}return!0},d.prototype.on=function(g,_,w){return a(this,g,_,w,!1)},d.prototype.once=function(g,_,w){return a(this,g,_,w,!0)},d.prototype.removeListener=function(g,_,w,S){var b=t?t+g:g;if(!this._events[b])return this;if(!_)return c(this,b),this;var C=this._events[b];if(C.fn)C.fn===_&&(!S||C.once)&&(!w||C.context===w)&&c(this,b);else{for(var R=0,A=[],k=C.length;R<k;R++)(C[R].fn!==_||S&&!C[R].once||w&&C[R].context!==w)&&A.push(C[R]);A.length?this._events[b]=A.length===1?A[0]:A:c(this,b)}return this},d.prototype.removeAllListeners=function(g){var _;return g?(_=t?t+g:g,this._events[_]&&c(this,_)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,i.exports=d}(Rp)),Rp.exports}var Ex=wx();const kc=Sf(Ex);var Ad={exports:{}},Ky;function Sx(){if(Ky)return Ad.exports;Ky=1,Ad.exports=i,Ad.exports.default=i;function i(B,G,P){P=P||2;var j=G&&G.length,N=j?G[0]*P:B.length,I=e(B,0,N,P,!0),L=[];if(!I||I.next===I.prev)return L;var W,J,he,me,ge,be,Me;if(j&&(I=p(B,G,I,P)),B.length>80*P){W=he=B[0],J=me=B[1];for(var Pe=P;Pe<N;Pe+=P)ge=B[Pe],be=B[Pe+1],ge<W&&(W=ge),be<J&&(J=be),ge>he&&(he=ge),be>me&&(me=be);Me=Math.max(he-W,me-J),Me=Me!==0?32767/Me:0}return r(I,L,P,W,J,Me,0),L}function e(B,G,P,j,N){var I,L;if(N===_e(B,G,P,j)>0)for(I=G;I<P;I+=j)L=Y(I,B[I],B[I+1],L);else for(I=P-j;I>=G;I-=j)L=Y(I,B[I],B[I+1],L);return L&&$(L,L.next)&&(Z(L),L=L.next),L}function t(B,G){if(!B)return B;G||(G=B);var P=B,j;do if(j=!1,!P.steiner&&($(P,P.next)||D(P.prev,P,P.next)===0)){if(Z(P),P=G=P.prev,P===P.next)break;j=!0}else P=P.next;while(j||P!==G);return G}function r(B,G,P,j,N,I,L){if(B){!L&&I&&b(B,j,N,I);for(var W=B,J,he;B.prev!==B.next;){if(J=B.prev,he=B.next,I?a(B,j,N,I):s(B)){G.push(J.i/P|0),G.push(B.i/P|0),G.push(he.i/P|0),Z(B),B=he.next,W=he.next;continue}if(B=he,B===W){L?L===1?(B=c(t(B),G,P),r(B,G,P,j,N,I,2)):L===2&&d(B,G,P,j,N,I):r(t(B),G,P,j,N,I,1);break}}}}function s(B){var G=B.prev,P=B,j=B.next;if(D(G,P,j)>=0)return!1;for(var N=G.x,I=P.x,L=j.x,W=G.y,J=P.y,he=j.y,me=N<I?N<L?N:L:I<L?I:L,ge=W<J?W<he?W:he:J<he?J:he,be=N>I?N>L?N:L:I>L?I:L,Me=W>J?W>he?W:he:J>he?J:he,Pe=j.next;Pe!==G;){if(Pe.x>=me&&Pe.x<=be&&Pe.y>=ge&&Pe.y<=Me&&k(N,W,I,J,L,he,Pe.x,Pe.y)&&D(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.next}return!0}function a(B,G,P,j){var N=B.prev,I=B,L=B.next;if(D(N,I,L)>=0)return!1;for(var W=N.x,J=I.x,he=L.x,me=N.y,ge=I.y,be=L.y,Me=W<J?W<he?W:he:J<he?J:he,Pe=me<ge?me<be?me:be:ge<be?ge:be,Ue=W>J?W>he?W:he:J>he?J:he,Ze=me>ge?me>be?me:be:ge>be?ge:be,Je=R(Me,Pe,G,P,j),pt=R(Ue,Ze,G,P,j),We=B.prevZ,Ke=B.nextZ;We&&We.z>=Je&&Ke&&Ke.z<=pt;){if(We.x>=Me&&We.x<=Ue&&We.y>=Pe&&We.y<=Ze&&We!==N&&We!==L&&k(W,me,J,ge,he,be,We.x,We.y)&&D(We.prev,We,We.next)>=0||(We=We.prevZ,Ke.x>=Me&&Ke.x<=Ue&&Ke.y>=Pe&&Ke.y<=Ze&&Ke!==N&&Ke!==L&&k(W,me,J,ge,he,be,Ke.x,Ke.y)&&D(Ke.prev,Ke,Ke.next)>=0))return!1;Ke=Ke.nextZ}for(;We&&We.z>=Je;){if(We.x>=Me&&We.x<=Ue&&We.y>=Pe&&We.y<=Ze&&We!==N&&We!==L&&k(W,me,J,ge,he,be,We.x,We.y)&&D(We.prev,We,We.next)>=0)return!1;We=We.prevZ}for(;Ke&&Ke.z<=pt;){if(Ke.x>=Me&&Ke.x<=Ue&&Ke.y>=Pe&&Ke.y<=Ze&&Ke!==N&&Ke!==L&&k(W,me,J,ge,he,be,Ke.x,Ke.y)&&D(Ke.prev,Ke,Ke.next)>=0)return!1;Ke=Ke.nextZ}return!0}function c(B,G,P){var j=B;do{var N=j.prev,I=j.next.next;!$(N,I)&&O(N,j,j.next,I)&&ce(N,I)&&ce(I,N)&&(G.push(N.i/P|0),G.push(j.i/P|0),G.push(I.i/P|0),Z(j),Z(j.next),j=B=I),j=j.next}while(j!==B);return t(j)}function d(B,G,P,j,N,I){var L=B;do{for(var W=L.next.next;W!==L.prev;){if(L.i!==W.i&&U(L,W)){var J=xe(L,W);L=t(L,L.next),J=t(J,J.next),r(L,G,P,j,N,I,0),r(J,G,P,j,N,I,0);return}W=W.next}L=L.next}while(L!==B)}function p(B,G,P,j){var N=[],I,L,W,J,he;for(I=0,L=G.length;I<L;I++)W=G[I]*j,J=I<L-1?G[I+1]*j:B.length,he=e(B,W,J,j,!1),he===he.next&&(he.steiner=!0),N.push(A(he));for(N.sort(g),I=0;I<N.length;I++)P=_(N[I],P);return P}function g(B,G){return B.x-G.x}function _(B,G){var P=w(B,G);if(!P)return G;var j=xe(P,B);return t(j,j.next),t(P,P.next)}function w(B,G){var P=G,j=B.x,N=B.y,I=-1/0,L;do{if(N<=P.y&&N>=P.next.y&&P.next.y!==P.y){var W=P.x+(N-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(W<=j&&W>I&&(I=W,L=P.x<P.next.x?P:P.next,W===j))return L}P=P.next}while(P!==G);if(!L)return null;var J=L,he=L.x,me=L.y,ge=1/0,be;P=L;do j>=P.x&&P.x>=he&&j!==P.x&&k(N<me?j:I,N,he,me,N<me?I:j,N,P.x,P.y)&&(be=Math.abs(N-P.y)/(j-P.x),ce(P,B)&&(be<ge||be===ge&&(P.x>L.x||P.x===L.x&&S(L,P)))&&(L=P,ge=be)),P=P.next;while(P!==J);return L}function S(B,G){return D(B.prev,B,G.prev)<0&&D(G.next,B,B.next)<0}function b(B,G,P,j){var N=B;do N.z===0&&(N.z=R(N.x,N.y,G,P,j)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==B);N.prevZ.nextZ=null,N.prevZ=null,C(N)}function C(B){var G,P,j,N,I,L,W,J,he=1;do{for(P=B,B=null,I=null,L=0;P;){for(L++,j=P,W=0,G=0;G<he&&(W++,j=j.nextZ,!!j);G++);for(J=he;W>0||J>0&&j;)W!==0&&(J===0||!j||P.z<=j.z)?(N=P,P=P.nextZ,W--):(N=j,j=j.nextZ,J--),I?I.nextZ=N:B=N,N.prevZ=I,I=N;P=j}I.nextZ=null,he*=2}while(L>1);return B}function R(B,G,P,j,N){return B=(B-P)*N|0,G=(G-j)*N|0,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,B|G<<1}function A(B){var G=B,P=B;do(G.x<P.x||G.x===P.x&&G.y<P.y)&&(P=G),G=G.next;while(G!==B);return P}function k(B,G,P,j,N,I,L,W){return(N-L)*(G-W)>=(B-L)*(I-W)&&(B-L)*(j-W)>=(P-L)*(G-W)&&(P-L)*(I-W)>=(N-L)*(j-W)}function U(B,G){return B.next.i!==G.i&&B.prev.i!==G.i&&!te(B,G)&&(ce(B,G)&&ce(G,B)&&le(B,G)&&(D(B.prev,B,G.prev)||D(B,G.prev,G))||$(B,G)&&D(B.prev,B,B.next)>0&&D(G.prev,G,G.next)>0)}function D(B,G,P){return(G.y-B.y)*(P.x-G.x)-(G.x-B.x)*(P.y-G.y)}function $(B,G){return B.x===G.x&&B.y===G.y}function O(B,G,P,j){var N=z(D(B,G,P)),I=z(D(B,G,j)),L=z(D(P,j,B)),W=z(D(P,j,G));return!!(N!==I&&L!==W||N===0&&K(B,P,G)||I===0&&K(B,j,G)||L===0&&K(P,B,j)||W===0&&K(P,G,j))}function K(B,G,P){return G.x<=Math.max(B.x,P.x)&&G.x>=Math.min(B.x,P.x)&&G.y<=Math.max(B.y,P.y)&&G.y>=Math.min(B.y,P.y)}function z(B){return B>0?1:B<0?-1:0}function te(B,G){var P=B;do{if(P.i!==B.i&&P.next.i!==B.i&&P.i!==G.i&&P.next.i!==G.i&&O(P,P.next,B,G))return!0;P=P.next}while(P!==B);return!1}function ce(B,G){return D(B.prev,B,B.next)<0?D(B,G,B.next)>=0&&D(B,B.prev,G)>=0:D(B,G,B.prev)<0||D(B,B.next,G)<0}function le(B,G){var P=B,j=!1,N=(B.x+G.x)/2,I=(B.y+G.y)/2;do P.y>I!=P.next.y>I&&P.next.y!==P.y&&N<(P.next.x-P.x)*(I-P.y)/(P.next.y-P.y)+P.x&&(j=!j),P=P.next;while(P!==B);return j}function xe(B,G){var P=new ue(B.i,B.x,B.y),j=new ue(G.i,G.x,G.y),N=B.next,I=G.prev;return B.next=G,G.prev=B,P.next=N,N.prev=P,j.next=P,P.prev=j,I.next=j,j.prev=I,j}function Y(B,G,P,j){var N=new ue(B,G,P);return j?(N.next=j.next,N.prev=j,j.next.prev=N,j.next=N):(N.prev=N,N.next=N),N}function Z(B){B.next.prev=B.prev,B.prev.next=B.next,B.prevZ&&(B.prevZ.nextZ=B.nextZ),B.nextZ&&(B.nextZ.prevZ=B.prevZ)}function ue(B,G,P){this.i=B,this.x=G,this.y=P,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}i.deviation=function(B,G,P,j){var N=G&&G.length,I=N?G[0]*P:B.length,L=Math.abs(_e(B,0,I,P));if(N)for(var W=0,J=G.length;W<J;W++){var he=G[W]*P,me=W<J-1?G[W+1]*P:B.length;L-=Math.abs(_e(B,he,me,P))}var ge=0;for(W=0;W<j.length;W+=3){var be=j[W]*P,Me=j[W+1]*P,Pe=j[W+2]*P;ge+=Math.abs((B[be]-B[Pe])*(B[Me+1]-B[be+1])-(B[be]-B[Me])*(B[Pe+1]-B[be+1]))}return L===0&&ge===0?0:Math.abs((ge-L)/L)};function _e(B,G,P,j){for(var N=0,I=G,L=P-j;I<P;I+=j)N+=(B[L]-B[I])*(B[I+1]+B[L+1]),L=I;return N}return i.flatten=function(B){for(var G=B[0][0].length,P={vertices:[],holes:[],dimensions:G},j=0,N=0;N<B.length;N++){for(var I=0;I<B[N].length;I++)for(var L=0;L<G;L++)P.vertices.push(B[N][I][L]);N>0&&(j+=B[N-1].length,P.holes.push(j))}return P},Ad.exports}var bx=Sx();const Tx=Sf(bx);var Ml={},fc={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var Ax=fc.exports,Zy;function Cx(){return Zy||(Zy=1,function(i,e){(function(t){var r=e&&!e.nodeType&&e,s=i&&!i.nodeType&&i,a=typeof sf=="object"&&sf;(a.global===a||a.window===a||a.self===a)&&(t=a);var c,d=2147483647,p=36,g=1,_=26,w=38,S=700,b=72,C=128,R="-",A=/^xn--/,k=/[^\x20-\x7E]/,U=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=p-g,O=Math.floor,K=String.fromCharCode,z;function te(N){throw new RangeError(D[N])}function ce(N,I){for(var L=N.length,W=[];L--;)W[L]=I(N[L]);return W}function le(N,I){var L=N.split("@"),W="";L.length>1&&(W=L[0]+"@",N=L[1]),N=N.replace(U,".");var J=N.split("."),he=ce(J,I).join(".");return W+he}function xe(N){for(var I=[],L=0,W=N.length,J,he;L<W;)J=N.charCodeAt(L++),J>=55296&&J<=56319&&L<W?(he=N.charCodeAt(L++),(he&64512)==56320?I.push(((J&1023)<<10)+(he&1023)+65536):(I.push(J),L--)):I.push(J);return I}function Y(N){return ce(N,function(I){var L="";return I>65535&&(I-=65536,L+=K(I>>>10&1023|55296),I=56320|I&1023),L+=K(I),L}).join("")}function Z(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:p}function ue(N,I){return N+22+75*(N<26)-((I!=0)<<5)}function _e(N,I,L){var W=0;for(N=L?O(N/S):N>>1,N+=O(N/I);N>$*_>>1;W+=p)N=O(N/$);return O(W+($+1)*N/(N+w))}function B(N){var I=[],L=N.length,W,J=0,he=C,me=b,ge,be,Me,Pe,Ue,Ze,Je,pt,We;for(ge=N.lastIndexOf(R),ge<0&&(ge=0),be=0;be<ge;++be)N.charCodeAt(be)>=128&&te("not-basic"),I.push(N.charCodeAt(be));for(Me=ge>0?ge+1:0;Me<L;){for(Pe=J,Ue=1,Ze=p;Me>=L&&te("invalid-input"),Je=Z(N.charCodeAt(Me++)),(Je>=p||Je>O((d-J)/Ue))&&te("overflow"),J+=Je*Ue,pt=Ze<=me?g:Ze>=me+_?_:Ze-me,!(Je<pt);Ze+=p)We=p-pt,Ue>O(d/We)&&te("overflow"),Ue*=We;W=I.length+1,me=_e(J-Pe,W,Pe==0),O(J/W)>d-he&&te("overflow"),he+=O(J/W),J%=W,I.splice(J++,0,he)}return Y(I)}function G(N){var I,L,W,J,he,me,ge,be,Me,Pe,Ue,Ze=[],Je,pt,We,Ke;for(N=xe(N),Je=N.length,I=C,L=0,he=b,me=0;me<Je;++me)Ue=N[me],Ue<128&&Ze.push(K(Ue));for(W=J=Ze.length,J&&Ze.push(R);W<Je;){for(ge=d,me=0;me<Je;++me)Ue=N[me],Ue>=I&&Ue<ge&&(ge=Ue);for(pt=W+1,ge-I>O((d-L)/pt)&&te("overflow"),L+=(ge-I)*pt,I=ge,me=0;me<Je;++me)if(Ue=N[me],Ue<I&&++L>d&&te("overflow"),Ue==I){for(be=L,Me=p;Pe=Me<=he?g:Me>=he+_?_:Me-he,!(be<Pe);Me+=p)Ke=be-Pe,We=p-Pe,Ze.push(K(ue(Pe+Ke%We,0))),be=O(Ke/We);Ze.push(K(ue(be,0))),he=_e(L,pt,W==J),L=0,++W}++L,++I}return Ze.join("")}function P(N){return le(N,function(I){return A.test(I)?B(I.slice(4).toLowerCase()):I})}function j(N){return le(N,function(I){return k.test(I)?"xn--"+G(I):I})}if(c={version:"1.4.1",ucs2:{decode:xe,encode:Y},decode:B,encode:G,toASCII:j,toUnicode:P},r&&s)if(i.exports==r)s.exports=c;else for(z in c)c.hasOwnProperty(z)&&(r[z]=c[z]);else t.punycode=c})(Ax)}(fc,fc.exports)),fc.exports}var Mp,Jy;function Px(){return Jy||(Jy=1,Mp=Error),Mp}var kp,e0;function Ix(){return e0||(e0=1,kp=EvalError),kp}var Np,t0;function Rx(){return t0||(t0=1,Np=RangeError),Np}var Dp,r0;function Mx(){return r0||(r0=1,Dp=ReferenceError),Dp}var Op,n0;function n1(){return n0||(n0=1,Op=SyntaxError),Op}var Fp,i0;function Nc(){return i0||(i0=1,Fp=TypeError),Fp}var Bp,s0;function kx(){return s0||(s0=1,Bp=URIError),Bp}var Lp,o0;function Nx(){return o0||(o0=1,Lp=Object.getOwnPropertyDescriptor),Lp}var Up,a0;function bf(){if(a0)return Up;a0=1;var i=Nx();if(i)try{i([],"length")}catch{i=null}return Up=i,Up}var zp,l0;function Tf(){if(l0)return zp;l0=1;var i=Object.defineProperty||!1;if(i)try{i({},"a",{value:1})}catch{i=!1}return zp=i,zp}var Gp,u0;function Dx(){return u0||(u0=1,Gp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,t);if(d.value!==s||d.enumerable!==!0)return!1}return!0}),Gp}var Hp,h0;function Ox(){if(h0)return Hp;h0=1;var i=typeof Symbol<"u"&&Symbol,e=Dx();return Hp=function(){return typeof i!="function"||typeof Symbol!="function"||typeof i("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Hp}var jp,c0;function Fx(){if(c0)return jp;c0=1;var i="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",s=function(p,g){for(var _=[],w=0;w<p.length;w+=1)_[w]=p[w];for(var S=0;S<g.length;S+=1)_[S+p.length]=g[S];return _},a=function(p,g){for(var _=[],w=g,S=0;w<p.length;w+=1,S+=1)_[S]=p[w];return _},c=function(d,p){for(var g="",_=0;_<d.length;_+=1)g+=d[_],_+1<d.length&&(g+=p);return g};return jp=function(p){var g=this;if(typeof g!="function"||e.apply(g)!==r)throw new TypeError(i+g);for(var _=a(arguments,1),w,S=function(){if(this instanceof w){var k=g.apply(this,s(_,arguments));return Object(k)===k?k:this}return g.apply(p,s(_,arguments))},b=t(0,g.length-_.length),C=[],R=0;R<b;R++)C[R]="$"+R;if(w=Function("binder","return function ("+c(C,",")+"){ return binder.apply(this,arguments); }")(S),g.prototype){var A=function(){};A.prototype=g.prototype,w.prototype=new A,A.prototype=null}return w},jp}var $p,d0;function Dc(){if(d0)return $p;d0=1;var i=Fx();return $p=Function.prototype.bind||i,$p}var Wp,f0;function Bg(){return f0||(f0=1,Wp=Function.prototype.call),Wp}var Vp,p0;function Lg(){return p0||(p0=1,Vp=Function.prototype.apply),Vp}var Xp,m0;function Bx(){return m0||(m0=1,Xp=typeof Reflect<"u"&&Reflect&&Reflect.apply),Xp}var Yp,g0;function i1(){if(g0)return Yp;g0=1;var i=Dc(),e=Lg(),t=Bg(),r=Bx();return Yp=r||i.call(t,e),Yp}var qp,y0;function s1(){if(y0)return qp;y0=1;var i=Dc(),e=Nc(),t=Bg(),r=i1();return qp=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return r(i,t,a)},qp}var Qp,v0;function Lx(){if(v0)return Qp;v0=1;var i=s1(),e=bf(),t=[].__proto__===Array.prototype,r=t&&e&&e(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return Qp=r&&typeof r.get=="function"?i([r.get]):typeof a=="function"?function(d){return a(d==null?d:s(d))}:!1,Qp}var Kp,_0;function Ux(){if(_0)return Kp;_0=1;var i=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Dc();return Kp=t.call(i,e),Kp}var Zp,x0;function Ug(){if(x0)return Zp;x0=1;var i,e=Px(),t=Ix(),r=Rx(),s=Mx(),a=n1(),c=Nc(),d=kx(),p=Function,g=function(N){try{return p('"use strict"; return ('+N+").constructor;")()}catch{}},_=bf(),w=Tf(),S=function(){throw new c},b=_?function(){try{return arguments.callee,S}catch{try{return _(arguments,"callee").get}catch{return S}}}():S,C=Ox()(),R=Lx(),A=typeof Reflect=="function"&&Reflect.getPrototypeOf||Object.getPrototypeOf||R,k=Lg(),U=Bg(),D={},$=typeof Uint8Array>"u"||!A?i:A(Uint8Array),O={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?i:ArrayBuffer,"%ArrayIteratorPrototype%":C&&A?A([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":D,"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":D,"%AsyncIteratorPrototype%":D,"%Atomics%":typeof Atomics>"u"?i:Atomics,"%BigInt%":typeof BigInt>"u"?i:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?i:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":t,"%Float32Array%":typeof Float32Array>"u"?i:Float32Array,"%Float64Array%":typeof Float64Array>"u"?i:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?i:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":D,"%Int8Array%":typeof Int8Array>"u"?i:Int8Array,"%Int16Array%":typeof Int16Array>"u"?i:Int16Array,"%Int32Array%":typeof Int32Array>"u"?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":C&&A?A(A([][Symbol.iterator]())):i,"%JSON%":typeof JSON=="object"?JSON:i,"%Map%":typeof Map>"u"?i:Map,"%MapIteratorPrototype%":typeof Map>"u"||!C||!A?i:A(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%Object.getOwnPropertyDescriptor%":_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?i:Promise,"%Proxy%":typeof Proxy>"u"?i:Proxy,"%RangeError%":r,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?i:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?i:Set,"%SetIteratorPrototype%":typeof Set>"u"||!C||!A?i:A(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":C&&A?A(""[Symbol.iterator]()):i,"%Symbol%":C?Symbol:i,"%SyntaxError%":a,"%ThrowTypeError%":b,"%TypedArray%":$,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?i:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?i:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?i:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?i:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?i:WeakMap,"%WeakRef%":typeof WeakRef>"u"?i:WeakRef,"%WeakSet%":typeof WeakSet>"u"?i:WeakSet,"%Function.prototype.call%":U,"%Function.prototype.apply%":k,"%Object.defineProperty%":w};if(A)try{null.error}catch(N){var K=A(A(N));O["%Error.prototype%"]=K}var z=function N(I){var L;if(I==="%AsyncFunction%")L=g("async function () {}");else if(I==="%GeneratorFunction%")L=g("function* () {}");else if(I==="%AsyncGeneratorFunction%")L=g("async function* () {}");else if(I==="%AsyncGenerator%"){var W=N("%AsyncGeneratorFunction%");W&&(L=W.prototype)}else if(I==="%AsyncIteratorPrototype%"){var J=N("%AsyncGenerator%");J&&A&&(L=A(J.prototype))}return O[I]=L,L},te={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ce=Dc(),le=Ux(),xe=ce.call(U,Array.prototype.concat),Y=ce.call(k,Array.prototype.splice),Z=ce.call(U,String.prototype.replace),ue=ce.call(U,String.prototype.slice),_e=ce.call(U,RegExp.prototype.exec),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G=/\\(\\)?/g,P=function(I){var L=ue(I,0,1),W=ue(I,-1);if(L==="%"&&W!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(W==="%"&&L!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var J=[];return Z(I,B,function(he,me,ge,be){J[J.length]=ge?Z(be,G,"$1"):me||he}),J},j=function(I,L){var W=I,J;if(le(te,W)&&(J=te[W],W="%"+J[0]+"%"),le(O,W)){var he=O[W];if(he===D&&(he=z(W)),typeof he>"u"&&!L)throw new c("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:J,name:W,value:he}}throw new a("intrinsic "+I+" does not exist!")};return Zp=function(I,L){if(typeof I!="string"||I.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof L!="boolean")throw new c('"allowMissing" argument must be a boolean');if(_e(/^%?[^%]*%?$/,I)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var W=P(I),J=W.length>0?W[0]:"",he=j("%"+J+"%",L),me=he.name,ge=he.value,be=!1,Me=he.alias;Me&&(J=Me[0],Y(W,xe([0,1],Me)));for(var Pe=1,Ue=!0;Pe<W.length;Pe+=1){var Ze=W[Pe],Je=ue(Ze,0,1),pt=ue(Ze,-1);if((Je==='"'||Je==="'"||Je==="`"||pt==='"'||pt==="'"||pt==="`")&&Je!==pt)throw new a("property names with quotes must have matching quotes");if((Ze==="constructor"||!Ue)&&(be=!0),J+="."+Ze,me="%"+J+"%",le(O,me))ge=O[me];else if(ge!=null){if(!(Ze in ge)){if(!L)throw new c("base intrinsic for "+I+" exists, but the property is not available.");return}if(_&&Pe+1>=W.length){var We=_(ge,Ze);Ue=!!We,Ue&&"get"in We&&!("originalValue"in We.get)?ge=We.get:ge=ge[Ze]}else Ue=le(ge,Ze),ge=ge[Ze];Ue&&!be&&(O[me]=ge)}}return ge},Zp}var Jp={exports:{}},em,w0;function zx(){if(w0)return em;w0=1;var i=Tf(),e=n1(),t=Nc(),r=bf();return em=function(a,c,d){if(!a||typeof a!="object"&&typeof a!="function")throw new t("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,_=arguments.length>5?arguments[5]:null,w=arguments.length>6?arguments[6]:!1,S=!!r&&r(a,c);if(i)i(a,c,{configurable:_===null&&S?S.configurable:!_,enumerable:p===null&&S?S.enumerable:!p,value:d,writable:g===null&&S?S.writable:!g});else if(w||!p&&!g&&!_)a[c]=d;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},em}var tm,E0;function Gx(){if(E0)return tm;E0=1;var i=Tf(),e=function(){return!!i};return e.hasArrayLengthDefineBug=function(){if(!i)return null;try{return i([],"length",{value:1}).length!==1}catch{return!0}},tm=e,tm}var rm,S0;function Hx(){if(S0)return rm;S0=1;var i=Ug(),e=zx(),t=Gx()(),r=bf(),s=Nc(),a=i("%Math.floor%");return rm=function(d,p){if(typeof d!="function")throw new s("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||a(p)!==p)throw new s("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],_=!0,w=!0;if("length"in d&&r){var S=r(d,"length");S&&!S.configurable&&(_=!1),S&&!S.writable&&(w=!1)}return(_||w||!g)&&(t?e(d,"length",p,!0,!0):e(d,"length",p)),d},rm}var nm,b0;function jx(){if(b0)return nm;b0=1;var i=Dc(),e=Lg(),t=i1();return nm=function(){return t(i,e,arguments)},nm}var T0;function $x(){return T0||(T0=1,function(i){var e=Hx(),t=Tf(),r=s1(),s=jx();i.exports=function(c){var d=r(arguments),p=c.length-(arguments.length-1);return e(d,1+(p>0?p:0),!0)},t?t(i.exports,"apply",{value:s}):i.exports.apply=s}(Jp)),Jp.exports}var im,A0;function Wx(){if(A0)return im;A0=1;var i=Ug(),e=$x(),t=e(i("String.prototype.indexOf"));return im=function(s,a){var c=i(s,!!a);return typeof c=="function"&&t(s,".prototype.")>-1?e(c):c},im}const Vx={},Xx=Object.freeze(Object.defineProperty({__proto__:null,default:Vx},Symbol.toStringTag,{value:"Module"})),Yx=t1(Xx);var sm,C0;function qx(){if(C0)return sm;C0=1;var i=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=i&&e&&typeof e.get=="function"?e.get:null,r=i&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&a&&typeof a.get=="function"?a.get:null,d=s&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,g=p?WeakMap.prototype.has:null,_=typeof WeakSet=="function"&&WeakSet.prototype,w=_?WeakSet.prototype.has:null,S=typeof WeakRef=="function"&&WeakRef.prototype,b=S?WeakRef.prototype.deref:null,C=Boolean.prototype.valueOf,R=Object.prototype.toString,A=Function.prototype.toString,k=String.prototype.match,U=String.prototype.slice,D=String.prototype.replace,$=String.prototype.toUpperCase,O=String.prototype.toLowerCase,K=RegExp.prototype.test,z=Array.prototype.concat,te=Array.prototype.join,ce=Array.prototype.slice,le=Math.floor,xe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Y=Object.getOwnPropertySymbols,Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ue=typeof Symbol=="function"&&typeof Symbol.iterator=="object",_e=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ue||!0)?Symbol.toStringTag:null,B=Object.prototype.propertyIsEnumerable,G=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ne){return ne.__proto__}:null);function P(ne,se){if(ne===1/0||ne===-1/0||ne!==ne||ne&&ne>-1e3&&ne<1e3||K.call(/e/,se))return se;var ut=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ne=="number"){var wt=ne<0?-le(-ne):le(ne);if(wt!==ne){var bt=String(wt),it=U.call(se,bt.length+1);return D.call(bt,ut,"$&_")+"."+D.call(D.call(it,/([0-9]{3})/g,"$&_"),/_$/,"")}}return D.call(se,ut,"$&_")}var j=Yx,N=j.custom,I=Je(N)?N:null,L={__proto__:null,double:'"',single:"'"},W={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};sm=function ne(se,ut,wt,bt){var it=ut||{};if(Ke(it,"quoteStyle")&&!Ke(L,it.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ke(it,"maxStringLength")&&(typeof it.maxStringLength=="number"?it.maxStringLength<0&&it.maxStringLength!==1/0:it.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Fr=Ke(it,"customInspect")?it.customInspect:!0;if(typeof Fr!="boolean"&&Fr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ke(it,"indent")&&it.indent!==null&&it.indent!=="	"&&!(parseInt(it.indent,10)===it.indent&&it.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ke(it,"numericSeparator")&&typeof it.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var $r=it.numericSeparator;if(typeof se>"u")return"undefined";if(se===null)return"null";if(typeof se=="boolean")return se?"true":"false";if(typeof se=="string")return ka(se,it);if(typeof se=="number"){if(se===0)return 1/0/se>0?"0":"-0";var br=String(se);return $r?P(se,br):br}if(typeof se=="bigint"){var yn=String(se)+"n";return $r?P(se,yn):yn}var Ls=typeof it.depth>"u"?5:it.depth;if(typeof wt>"u"&&(wt=0),wt>=Ls&&Ls>0&&typeof se=="object")return me(se)?"[Array]":"[Object]";var vi=lh(it,wt);if(typeof bt>"u")bt=[];else if(Ao(bt,se)>=0)return"[Circular]";function Tr(ns,Hs,Kl){if(Hs&&(bt=ce.call(bt),bt.push(Hs)),Kl){var Fa={depth:it.depth};return Ke(it,"quoteStyle")&&(Fa.quoteStyle=it.quoteStyle),ne(ns,Fa,wt+1,bt)}return ne(ns,it,wt+1,bt)}if(typeof se=="function"&&!be(se)){var Us=zn(se),Io=Bs(se,Tr);return"[Function"+(Us?": "+Us:" (anonymous)")+"]"+(Io.length>0?" { "+te.call(Io,", ")+" }":"")}if(Je(se)){var ts=ue?D.call(String(se),/^(Symbol\(.*\))_[^)]*$/,"$1"):Z.call(se);return typeof se=="object"&&!ue?ri(ts):ts}if(Yl(se)){for(var _i="<"+O.call(String(se.nodeName)),xi=se.attributes||[],zs=0;zs<xi.length;zs++)_i+=" "+xi[zs].name+"="+J(he(xi[zs].value),"double",it);return _i+=">",se.childNodes&&se.childNodes.length&&(_i+="..."),_i+="</"+O.call(String(se.nodeName))+">",_i}if(me(se)){if(se.length===0)return"[]";var Hn=Bs(se,Tr);return vi&&!Fs(Hn)?"["+Po(Hn,vi)+"]":"[ "+te.call(Hn,", ")+" ]"}if(Me(se)){var rs=Bs(se,Tr);return!("cause"in Error.prototype)&&"cause"in se&&!B.call(se,"cause")?"{ ["+String(se)+"] "+te.call(z.call("[cause]: "+Tr(se.cause),rs),", ")+" }":rs.length===0?"["+String(se)+"]":"{ ["+String(se)+"] "+te.call(rs,", ")+" }"}if(typeof se=="object"&&Fr){if(I&&typeof se[I]=="function"&&j)return j(se,{depth:Ls-wt});if(Fr!=="symbol"&&typeof se.inspect=="function")return se.inspect()}if(Gn(se)){var Gs=[];return r&&r.call(se,function(ns,Hs){Gs.push(Tr(Hs,se,!0)+" => "+Tr(ns,se))}),es("Map",t.call(se),Gs,vi)}if(Xl(se)){var wi=[];return d&&d.call(se,function(ns){wi.push(Tr(ns,se))}),es("Set",c.call(se),wi,vi)}if(Zi(se))return Co("WeakMap");if(Ji(se))return Co("WeakSet");if(Ma(se))return Co("WeakRef");if(Ue(se))return ri(Tr(Number(se)));if(pt(se))return ri(Tr(xe.call(se)));if(Ze(se))return ri(C.call(se));if(Pe(se))return ri(Tr(String(se)));if(typeof window<"u"&&se===window)return"{ [object Window] }";if(typeof globalThis<"u"&&se===globalThis||typeof sf<"u"&&se===sf)return"{ [object globalThis] }";if(!ge(se)&&!be(se)){var Da=Bs(se,Tr),ql=G?G(se)===Object.prototype:se instanceof Object||se.constructor===Object,Oa=se instanceof Object?"":"null prototype",ni=!ql&&_e&&Object(se)===se&&_e in se?U.call(or(se),8,-1):Oa?"Object":"",Ql=ql||typeof se.constructor!="function"?"":se.constructor.name?se.constructor.name+" ":"",Ro=Ql+(ni||Oa?"["+te.call(z.call([],ni||[],Oa||[]),": ")+"] ":"");return Da.length===0?Ro+"{}":vi?Ro+"{"+Po(Da,vi)+"}":Ro+"{ "+te.call(Da,", ")+" }"}return String(se)};function J(ne,se,ut){var wt=ut.quoteStyle||se,bt=L[wt];return bt+ne+bt}function he(ne){return D.call(String(ne),/"/g,"&quot;")}function me(ne){return or(ne)==="[object Array]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function ge(ne){return or(ne)==="[object Date]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function be(ne){return or(ne)==="[object RegExp]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function Me(ne){return or(ne)==="[object Error]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function Pe(ne){return or(ne)==="[object String]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function Ue(ne){return or(ne)==="[object Number]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function Ze(ne){return or(ne)==="[object Boolean]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function Je(ne){if(ue)return ne&&typeof ne=="object"&&ne instanceof Symbol;if(typeof ne=="symbol")return!0;if(!ne||typeof ne!="object"||!Z)return!1;try{return Z.call(ne),!0}catch{}return!1}function pt(ne){if(!ne||typeof ne!="object"||!xe)return!1;try{return xe.call(ne),!0}catch{}return!1}var We=Object.prototype.hasOwnProperty||function(ne){return ne in this};function Ke(ne,se){return We.call(ne,se)}function or(ne){return R.call(ne)}function zn(ne){if(ne.name)return ne.name;var se=k.call(A.call(ne),/^function\s*([\w$]+)/);return se?se[1]:null}function Ao(ne,se){if(ne.indexOf)return ne.indexOf(se);for(var ut=0,wt=ne.length;ut<wt;ut++)if(ne[ut]===se)return ut;return-1}function Gn(ne){if(!t||!ne||typeof ne!="object")return!1;try{t.call(ne);try{c.call(ne)}catch{return!0}return ne instanceof Map}catch{}return!1}function Zi(ne){if(!g||!ne||typeof ne!="object")return!1;try{g.call(ne,g);try{w.call(ne,w)}catch{return!0}return ne instanceof WeakMap}catch{}return!1}function Ma(ne){if(!b||!ne||typeof ne!="object")return!1;try{return b.call(ne),!0}catch{}return!1}function Xl(ne){if(!c||!ne||typeof ne!="object")return!1;try{c.call(ne);try{t.call(ne)}catch{return!0}return ne instanceof Set}catch{}return!1}function Ji(ne){if(!w||!ne||typeof ne!="object")return!1;try{w.call(ne,w);try{g.call(ne,g)}catch{return!0}return ne instanceof WeakSet}catch{}return!1}function Yl(ne){return!ne||typeof ne!="object"?!1:typeof HTMLElement<"u"&&ne instanceof HTMLElement?!0:typeof ne.nodeName=="string"&&typeof ne.getAttribute=="function"}function ka(ne,se){if(ne.length>se.maxStringLength){var ut=ne.length-se.maxStringLength,wt="... "+ut+" more character"+(ut>1?"s":"");return ka(U.call(ne,0,se.maxStringLength),se)+wt}var bt=W[se.quoteStyle||"single"];bt.lastIndex=0;var it=D.call(D.call(ne,bt,"\\$1"),/[\x00-\x1f]/g,Na);return J(it,"single",se)}function Na(ne){var se=ne.charCodeAt(0),ut={8:"b",9:"t",10:"n",12:"f",13:"r"}[se];return ut?"\\"+ut:"\\x"+(se<16?"0":"")+$.call(se.toString(16))}function ri(ne){return"Object("+ne+")"}function Co(ne){return ne+" { ? }"}function es(ne,se,ut,wt){var bt=wt?Po(ut,wt):te.call(ut,", ");return ne+" ("+se+") {"+bt+"}"}function Fs(ne){for(var se=0;se<ne.length;se++)if(Ao(ne[se],`
`)>=0)return!1;return!0}function lh(ne,se){var ut;if(ne.indent==="	")ut="	";else if(typeof ne.indent=="number"&&ne.indent>0)ut=te.call(Array(ne.indent+1)," ");else return null;return{base:ut,prev:te.call(Array(se+1),ut)}}function Po(ne,se){if(ne.length===0)return"";var ut=`
`+se.prev+se.base;return ut+te.call(ne,","+ut)+`
`+se.prev}function Bs(ne,se){var ut=me(ne),wt=[];if(ut){wt.length=ne.length;for(var bt=0;bt<ne.length;bt++)wt[bt]=Ke(ne,bt)?se(ne[bt],ne):""}var it=typeof Y=="function"?Y(ne):[],Fr;if(ue){Fr={};for(var $r=0;$r<it.length;$r++)Fr["$"+it[$r]]=it[$r]}for(var br in ne)Ke(ne,br)&&(ut&&String(Number(br))===br&&br<ne.length||ue&&Fr["$"+br]instanceof Symbol||(K.call(/[^\w$]/,br)?wt.push(se(br,ne)+": "+se(ne[br],ne)):wt.push(br+": "+se(ne[br],ne))));if(typeof Y=="function")for(var yn=0;yn<it.length;yn++)B.call(ne,it[yn])&&wt.push("["+se(it[yn])+"]: "+se(ne[it[yn]],ne));return wt}return sm}var om,P0;function Qx(){if(P0)return om;P0=1;var i=Ug(),e=Wx(),t=qx(),r=Nc(),s=i("%WeakMap%",!0),a=i("%Map%",!0),c=e("WeakMap.prototype.get",!0),d=e("WeakMap.prototype.set",!0),p=e("WeakMap.prototype.has",!0),g=e("Map.prototype.get",!0),_=e("Map.prototype.set",!0),w=e("Map.prototype.has",!0),S=function(A,k){for(var U=A,D;(D=U.next)!==null;U=D)if(D.key===k)return U.next=D.next,D.next=A.next,A.next=D,D},b=function(A,k){var U=S(A,k);return U&&U.value},C=function(A,k,U){var D=S(A,k);D?D.value=U:A.next={key:k,next:A.next,value:U}},R=function(A,k){return!!S(A,k)};return om=function(){var k,U,D,$={assert:function(O){if(!$.has(O))throw new r("Side channel does not contain "+t(O))},get:function(O){if(s&&O&&(typeof O=="object"||typeof O=="function")){if(k)return c(k,O)}else if(a){if(U)return g(U,O)}else if(D)return b(D,O)},has:function(O){if(s&&O&&(typeof O=="object"||typeof O=="function")){if(k)return p(k,O)}else if(a){if(U)return w(U,O)}else if(D)return R(D,O);return!1},set:function(O,K){s&&O&&(typeof O=="object"||typeof O=="function")?(k||(k=new s),d(k,O,K)):a?(U||(U=new a),_(U,O,K)):(D||(D={key:{},next:null}),C(D,O,K))}};return $},om}var am,I0;function zg(){if(I0)return am;I0=1;var i=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return am={default:t.RFC3986,formatters:{RFC1738:function(r){return i.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},am}var lm,R0;function o1(){if(R0)return lm;R0=1;var i=zg(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r=function(){for(var A=[],k=0;k<256;++k)A.push("%"+((k<16?"0":"")+k.toString(16)).toUpperCase());return A}(),s=function(k){for(;k.length>1;){var U=k.pop(),D=U.obj[U.prop];if(t(D)){for(var $=[],O=0;O<D.length;++O)typeof D[O]<"u"&&$.push(D[O]);U.obj[U.prop]=$}}},a=function(k,U){for(var D=U&&U.plainObjects?{__proto__:null}:{},$=0;$<k.length;++$)typeof k[$]<"u"&&(D[$]=k[$]);return D},c=function A(k,U,D){if(!U)return k;if(typeof U!="object"&&typeof U!="function"){if(t(k))k.push(U);else if(k&&typeof k=="object")(D&&(D.plainObjects||D.allowPrototypes)||!e.call(Object.prototype,U))&&(k[U]=!0);else return[k,U];return k}if(!k||typeof k!="object")return[k].concat(U);var $=k;return t(k)&&!t(U)&&($=a(k,D)),t(k)&&t(U)?(U.forEach(function(O,K){if(e.call(k,K)){var z=k[K];z&&typeof z=="object"&&O&&typeof O=="object"?k[K]=A(z,O,D):k.push(O)}else k[K]=O}),k):Object.keys(U).reduce(function(O,K){var z=U[K];return e.call(O,K)?O[K]=A(O[K],z,D):O[K]=z,O},$)},d=function(k,U){return Object.keys(U).reduce(function(D,$){return D[$]=U[$],D},k)},p=function(A,k,U){var D=A.replace(/\+/g," ");if(U==="iso-8859-1")return D.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(D)}catch{return D}},g=1024,_=function(k,U,D,$,O){if(k.length===0)return k;var K=k;if(typeof k=="symbol"?K=Symbol.prototype.toString.call(k):typeof k!="string"&&(K=String(k)),D==="iso-8859-1")return escape(K).replace(/%u[0-9a-f]{4}/gi,function(Z){return"%26%23"+parseInt(Z.slice(2),16)+"%3B"});for(var z="",te=0;te<K.length;te+=g){for(var ce=K.length>=g?K.slice(te,te+g):K,le=[],xe=0;xe<ce.length;++xe){var Y=ce.charCodeAt(xe);if(Y===45||Y===46||Y===95||Y===126||Y>=48&&Y<=57||Y>=65&&Y<=90||Y>=97&&Y<=122||O===i.RFC1738&&(Y===40||Y===41)){le[le.length]=ce.charAt(xe);continue}if(Y<128){le[le.length]=r[Y];continue}if(Y<2048){le[le.length]=r[192|Y>>6]+r[128|Y&63];continue}if(Y<55296||Y>=57344){le[le.length]=r[224|Y>>12]+r[128|Y>>6&63]+r[128|Y&63];continue}xe+=1,Y=65536+((Y&1023)<<10|ce.charCodeAt(xe)&1023),le[le.length]=r[240|Y>>18]+r[128|Y>>12&63]+r[128|Y>>6&63]+r[128|Y&63]}z+=le.join("")}return z},w=function(k){for(var U=[{obj:{o:k},prop:"o"}],D=[],$=0;$<U.length;++$)for(var O=U[$],K=O.obj[O.prop],z=Object.keys(K),te=0;te<z.length;++te){var ce=z[te],le=K[ce];typeof le=="object"&&le!==null&&D.indexOf(le)===-1&&(U.push({obj:K,prop:ce}),D.push(le))}return s(U),k},S=function(k){return Object.prototype.toString.call(k)==="[object RegExp]"},b=function(k){return!k||typeof k!="object"?!1:!!(k.constructor&&k.constructor.isBuffer&&k.constructor.isBuffer(k))},C=function(k,U){return[].concat(k,U)},R=function(k,U){if(t(k)){for(var D=[],$=0;$<k.length;$+=1)D.push(U(k[$]));return D}return U(k)};return lm={arrayToObject:a,assign:d,combine:C,compact:w,decode:p,encode:_,isBuffer:b,isRegExp:S,maybeMap:R,merge:c},lm}var um,M0;function Kx(){if(M0)return um;M0=1;var i=Qx(),e=o1(),t=zg(),r=Object.prototype.hasOwnProperty,s={brackets:function(A){return A+"[]"},comma:"comma",indices:function(A,k){return A+"["+k+"]"},repeat:function(A){return A}},a=Array.isArray,c=Array.prototype.push,d=function(R,A){c.apply(R,a(A)?A:[A])},p=Date.prototype.toISOString,g=t.default,_={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:g,formatter:t.formatters[g],indices:!1,serializeDate:function(A){return p.call(A)},skipNulls:!1,strictNullHandling:!1},w=function(A){return typeof A=="string"||typeof A=="number"||typeof A=="boolean"||typeof A=="symbol"||typeof A=="bigint"},S={},b=function R(A,k,U,D,$,O,K,z,te,ce,le,xe,Y,Z,ue,_e,B,G){for(var P=A,j=G,N=0,I=!1;(j=j.get(S))!==void 0&&!I;){var L=j.get(A);if(N+=1,typeof L<"u"){if(L===N)throw new RangeError("Cyclic object value");I=!0}typeof j.get(S)>"u"&&(N=0)}if(typeof ce=="function"?P=ce(k,P):P instanceof Date?P=Y(P):U==="comma"&&a(P)&&(P=e.maybeMap(P,function(We){return We instanceof Date?Y(We):We})),P===null){if(O)return te&&!_e?te(k,_.encoder,B,"key",Z):k;P=""}if(w(P)||e.isBuffer(P)){if(te){var W=_e?k:te(k,_.encoder,B,"key",Z);return[ue(W)+"="+ue(te(P,_.encoder,B,"value",Z))]}return[ue(k)+"="+ue(String(P))]}var J=[];if(typeof P>"u")return J;var he;if(U==="comma"&&a(P))_e&&te&&(P=e.maybeMap(P,te)),he=[{value:P.length>0?P.join(",")||null:void 0}];else if(a(ce))he=ce;else{var me=Object.keys(P);he=le?me.sort(le):me}var ge=z?String(k).replace(/\./g,"%2E"):String(k),be=D&&a(P)&&P.length===1?ge+"[]":ge;if($&&a(P)&&P.length===0)return be+"[]";for(var Me=0;Me<he.length;++Me){var Pe=he[Me],Ue=typeof Pe=="object"&&Pe&&typeof Pe.value<"u"?Pe.value:P[Pe];if(!(K&&Ue===null)){var Ze=xe&&z?String(Pe).replace(/\./g,"%2E"):String(Pe),Je=a(P)?typeof U=="function"?U(be,Ze):be:be+(xe?"."+Ze:"["+Ze+"]");G.set(A,N);var pt=i();pt.set(S,G),d(J,R(Ue,Je,U,D,$,O,K,z,U==="comma"&&_e&&a(P)?null:te,ce,le,xe,Y,Z,ue,_e,B,pt))}}return J},C=function(A){if(!A)return _;if(typeof A.allowEmptyArrays<"u"&&typeof A.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof A.encodeDotInKeys<"u"&&typeof A.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(A.encoder!==null&&typeof A.encoder<"u"&&typeof A.encoder!="function")throw new TypeError("Encoder has to be a function.");var k=A.charset||_.charset;if(typeof A.charset<"u"&&A.charset!=="utf-8"&&A.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var U=t.default;if(typeof A.format<"u"){if(!r.call(t.formatters,A.format))throw new TypeError("Unknown format option provided.");U=A.format}var D=t.formatters[U],$=_.filter;(typeof A.filter=="function"||a(A.filter))&&($=A.filter);var O;if(A.arrayFormat in s?O=A.arrayFormat:"indices"in A?O=A.indices?"indices":"repeat":O=_.arrayFormat,"commaRoundTrip"in A&&typeof A.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var K=typeof A.allowDots>"u"?A.encodeDotInKeys===!0?!0:_.allowDots:!!A.allowDots;return{addQueryPrefix:typeof A.addQueryPrefix=="boolean"?A.addQueryPrefix:_.addQueryPrefix,allowDots:K,allowEmptyArrays:typeof A.allowEmptyArrays=="boolean"?!!A.allowEmptyArrays:_.allowEmptyArrays,arrayFormat:O,charset:k,charsetSentinel:typeof A.charsetSentinel=="boolean"?A.charsetSentinel:_.charsetSentinel,commaRoundTrip:!!A.commaRoundTrip,delimiter:typeof A.delimiter>"u"?_.delimiter:A.delimiter,encode:typeof A.encode=="boolean"?A.encode:_.encode,encodeDotInKeys:typeof A.encodeDotInKeys=="boolean"?A.encodeDotInKeys:_.encodeDotInKeys,encoder:typeof A.encoder=="function"?A.encoder:_.encoder,encodeValuesOnly:typeof A.encodeValuesOnly=="boolean"?A.encodeValuesOnly:_.encodeValuesOnly,filter:$,format:U,formatter:D,serializeDate:typeof A.serializeDate=="function"?A.serializeDate:_.serializeDate,skipNulls:typeof A.skipNulls=="boolean"?A.skipNulls:_.skipNulls,sort:typeof A.sort=="function"?A.sort:null,strictNullHandling:typeof A.strictNullHandling=="boolean"?A.strictNullHandling:_.strictNullHandling}};return um=function(R,A){var k=R,U=C(A),D,$;typeof U.filter=="function"?($=U.filter,k=$("",k)):a(U.filter)&&($=U.filter,D=$);var O=[];if(typeof k!="object"||k===null)return"";var K=s[U.arrayFormat],z=K==="comma"&&U.commaRoundTrip;D||(D=Object.keys(k)),U.sort&&D.sort(U.sort);for(var te=i(),ce=0;ce<D.length;++ce){var le=D[ce],xe=k[le];U.skipNulls&&xe===null||d(O,b(xe,le,K,z,U.allowEmptyArrays,U.strictNullHandling,U.skipNulls,U.encodeDotInKeys,U.encode?U.encoder:null,U.filter,U.sort,U.allowDots,U.serializeDate,U.format,U.formatter,U.encodeValuesOnly,U.charset,te))}var Y=O.join(U.delimiter),Z=U.addQueryPrefix===!0?"?":"";return U.charsetSentinel&&(U.charset==="iso-8859-1"?Z+="utf8=%26%2310003%3B&":Z+="utf8=%E2%9C%93&"),Y.length>0?Z+Y:""},um}var hm,k0;function Zx(){if(k0)return hm;k0=1;var i=o1(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(S){return S.replace(/&#(\d+);/g,function(b,C){return String.fromCharCode(parseInt(C,10))})},a=function(S,b){return S&&typeof S=="string"&&b.comma&&S.indexOf(",")>-1?S.split(","):S},c="utf8=%26%2310003%3B",d="utf8=%E2%9C%93",p=function(b,C){var R={__proto__:null},A=C.ignoreQueryPrefix?b.replace(/^\?/,""):b;A=A.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var k=C.parameterLimit===1/0?void 0:C.parameterLimit,U=A.split(C.delimiter,k),D=-1,$,O=C.charset;if(C.charsetSentinel)for($=0;$<U.length;++$)U[$].indexOf("utf8=")===0&&(U[$]===d?O="utf-8":U[$]===c&&(O="iso-8859-1"),D=$,$=U.length);for($=0;$<U.length;++$)if($!==D){var K=U[$],z=K.indexOf("]="),te=z===-1?K.indexOf("="):z+1,ce,le;te===-1?(ce=C.decoder(K,r.decoder,O,"key"),le=C.strictNullHandling?null:""):(ce=C.decoder(K.slice(0,te),r.decoder,O,"key"),le=i.maybeMap(a(K.slice(te+1),C),function(Y){return C.decoder(Y,r.decoder,O,"value")})),le&&C.interpretNumericEntities&&O==="iso-8859-1"&&(le=s(String(le))),K.indexOf("[]=")>-1&&(le=t(le)?[le]:le);var xe=e.call(R,ce);xe&&C.duplicates==="combine"?R[ce]=i.combine(R[ce],le):(!xe||C.duplicates==="last")&&(R[ce]=le)}return R},g=function(S,b,C,R){for(var A=R?b:a(b,C),k=S.length-1;k>=0;--k){var U,D=S[k];if(D==="[]"&&C.parseArrays)U=C.allowEmptyArrays&&(A===""||C.strictNullHandling&&A===null)?[]:[].concat(A);else{U=C.plainObjects?{__proto__:null}:{};var $=D.charAt(0)==="["&&D.charAt(D.length-1)==="]"?D.slice(1,-1):D,O=C.decodeDotInKeys?$.replace(/%2E/g,"."):$,K=parseInt(O,10);!C.parseArrays&&O===""?U={0:A}:!isNaN(K)&&D!==O&&String(K)===O&&K>=0&&C.parseArrays&&K<=C.arrayLimit?(U=[],U[K]=A):O!=="__proto__"&&(U[O]=A)}A=U}return A},_=function(b,C,R,A){if(b){var k=R.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,U=/(\[[^[\]]*])/,D=/(\[[^[\]]*])/g,$=R.depth>0&&U.exec(k),O=$?k.slice(0,$.index):k,K=[];if(O){if(!R.plainObjects&&e.call(Object.prototype,O)&&!R.allowPrototypes)return;K.push(O)}for(var z=0;R.depth>0&&($=D.exec(k))!==null&&z<R.depth;){if(z+=1,!R.plainObjects&&e.call(Object.prototype,$[1].slice(1,-1))&&!R.allowPrototypes)return;K.push($[1])}if($){if(R.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+R.depth+" and strictDepth is true");K.push("["+k.slice($.index)+"]")}return g(K,C,R,A)}},w=function(b){if(!b)return r;if(typeof b.allowEmptyArrays<"u"&&typeof b.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.decodeDotInKeys<"u"&&typeof b.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(b.decoder!==null&&typeof b.decoder<"u"&&typeof b.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var C=typeof b.charset>"u"?r.charset:b.charset,R=typeof b.duplicates>"u"?r.duplicates:b.duplicates;if(R!=="combine"&&R!=="first"&&R!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var A=typeof b.allowDots>"u"?b.decodeDotInKeys===!0?!0:r.allowDots:!!b.allowDots;return{allowDots:A,allowEmptyArrays:typeof b.allowEmptyArrays=="boolean"?!!b.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof b.allowPrototypes=="boolean"?b.allowPrototypes:r.allowPrototypes,allowSparse:typeof b.allowSparse=="boolean"?b.allowSparse:r.allowSparse,arrayLimit:typeof b.arrayLimit=="number"?b.arrayLimit:r.arrayLimit,charset:C,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:r.charsetSentinel,comma:typeof b.comma=="boolean"?b.comma:r.comma,decodeDotInKeys:typeof b.decodeDotInKeys=="boolean"?b.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof b.decoder=="function"?b.decoder:r.decoder,delimiter:typeof b.delimiter=="string"||i.isRegExp(b.delimiter)?b.delimiter:r.delimiter,depth:typeof b.depth=="number"||b.depth===!1?+b.depth:r.depth,duplicates:R,ignoreQueryPrefix:b.ignoreQueryPrefix===!0,interpretNumericEntities:typeof b.interpretNumericEntities=="boolean"?b.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof b.parameterLimit=="number"?b.parameterLimit:r.parameterLimit,parseArrays:b.parseArrays!==!1,plainObjects:typeof b.plainObjects=="boolean"?b.plainObjects:r.plainObjects,strictDepth:typeof b.strictDepth=="boolean"?!!b.strictDepth:r.strictDepth,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:r.strictNullHandling}};return hm=function(S,b){var C=w(b);if(S===""||S===null||typeof S>"u")return C.plainObjects?{__proto__:null}:{};for(var R=typeof S=="string"?p(S,C):S,A=C.plainObjects?{__proto__:null}:{},k=Object.keys(R),U=0;U<k.length;++U){var D=k[U],$=_(D,R[D],C,typeof S=="string");A=i.merge(A,$,C)}return C.allowSparse===!0?A:i.compact(A)},hm}var cm,N0;function Jx(){if(N0)return cm;N0=1;var i=Kx(),e=Zx(),t=zg();return cm={formats:t,parse:e,stringify:i},cm}var D0;function ew(){if(D0)return Ml;D0=1;var i=Cx();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],c=["{","}","|","\\","^","`"].concat(a),d=["'"].concat(c),p=["%","/","?",";","#"].concat(d),g=["/","?","#"],_=255,w=/^[+a-z0-9A-Z_-]{0,63}$/,S=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},R={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=Jx();function k(O,K,z){if(O&&typeof O=="object"&&O instanceof e)return O;var te=new e;return te.parse(O,K,z),te}e.prototype.parse=function(O,K,z){if(typeof O!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof O);var te=O.indexOf("?"),ce=te!==-1&&te<O.indexOf("#")?"?":"#",le=O.split(ce),xe=/\\/g;le[0]=le[0].replace(xe,"/"),O=le.join(ce);var Y=O;if(Y=Y.trim(),!z&&O.split("#").length===1){var Z=s.exec(Y);if(Z)return this.path=Y,this.href=Y,this.pathname=Z[1],Z[2]?(this.search=Z[2],K?this.query=A.parse(this.search.substr(1)):this.query=this.search.substr(1)):K&&(this.search="",this.query={}),this}var ue=t.exec(Y);if(ue){ue=ue[0];var _e=ue.toLowerCase();this.protocol=_e,Y=Y.substr(ue.length)}if(z||ue||Y.match(/^\/\/[^@/]+@[^@/]+/)){var B=Y.substr(0,2)==="//";B&&!(ue&&C[ue])&&(Y=Y.substr(2),this.slashes=!0)}if(!C[ue]&&(B||ue&&!R[ue])){for(var G=-1,P=0;P<g.length;P++){var j=Y.indexOf(g[P]);j!==-1&&(G===-1||j<G)&&(G=j)}var N,I;G===-1?I=Y.lastIndexOf("@"):I=Y.lastIndexOf("@",G),I!==-1&&(N=Y.slice(0,I),Y=Y.slice(I+1),this.auth=decodeURIComponent(N)),G=-1;for(var P=0;P<p.length;P++){var j=Y.indexOf(p[P]);j!==-1&&(G===-1||j<G)&&(G=j)}G===-1&&(G=Y.length),this.host=Y.slice(0,G),Y=Y.slice(G),this.parseHost(),this.hostname=this.hostname||"";var L=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!L)for(var W=this.hostname.split(/\./),P=0,J=W.length;P<J;P++){var he=W[P];if(he&&!he.match(w)){for(var me="",ge=0,be=he.length;ge<be;ge++)he.charCodeAt(ge)>127?me+="x":me+=he[ge];if(!me.match(w)){var Me=W.slice(0,P),Pe=W.slice(P+1),Ue=he.match(S);Ue&&(Me.push(Ue[1]),Pe.unshift(Ue[2])),Pe.length&&(Y="/"+Pe.join(".")+Y),this.hostname=Me.join(".");break}}}this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),L||(this.hostname=i.toASCII(this.hostname));var Ze=this.port?":"+this.port:"",Je=this.hostname||"";this.host=Je+Ze,this.href+=this.host,L&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Y[0]!=="/"&&(Y="/"+Y))}if(!b[_e])for(var P=0,J=d.length;P<J;P++){var pt=d[P];if(Y.indexOf(pt)!==-1){var We=encodeURIComponent(pt);We===pt&&(We=escape(pt)),Y=Y.split(pt).join(We)}}var Ke=Y.indexOf("#");Ke!==-1&&(this.hash=Y.substr(Ke),Y=Y.slice(0,Ke));var or=Y.indexOf("?");if(or!==-1?(this.search=Y.substr(or),this.query=Y.substr(or+1),K&&(this.query=A.parse(this.query)),Y=Y.slice(0,or)):K&&(this.search="",this.query={}),Y&&(this.pathname=Y),R[_e]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ze=this.pathname||"",zn=this.search||"";this.path=Ze+zn}return this.href=this.format(),this};function U(O){return typeof O=="string"&&(O=k(O)),O instanceof e?O.format():e.prototype.format.call(O)}e.prototype.format=function(){var O=this.auth||"";O&&(O=encodeURIComponent(O),O=O.replace(/%3A/i,":"),O+="@");var K=this.protocol||"",z=this.pathname||"",te=this.hash||"",ce=!1,le="";this.host?ce=O+this.host:this.hostname&&(ce=O+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ce+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(le=A.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var xe=this.search||le&&"?"+le||"";return K&&K.substr(-1)!==":"&&(K+=":"),this.slashes||(!K||R[K])&&ce!==!1?(ce="//"+(ce||""),z&&z.charAt(0)!=="/"&&(z="/"+z)):ce||(ce=""),te&&te.charAt(0)!=="#"&&(te="#"+te),xe&&xe.charAt(0)!=="?"&&(xe="?"+xe),z=z.replace(/[?#]/g,function(Y){return encodeURIComponent(Y)}),xe=xe.replace("#","%23"),K+ce+z+xe+te};function D(O,K){return k(O,!1,!0).resolve(K)}e.prototype.resolve=function(O){return this.resolveObject(k(O,!1,!0)).format()};function $(O,K){return O?k(O,!1,!0).resolveObject(K):K}return e.prototype.resolveObject=function(O){if(typeof O=="string"){var K=new e;K.parse(O,!1,!0),O=K}for(var z=new e,te=Object.keys(this),ce=0;ce<te.length;ce++){var le=te[ce];z[le]=this[le]}if(z.hash=O.hash,O.href==="")return z.href=z.format(),z;if(O.slashes&&!O.protocol){for(var xe=Object.keys(O),Y=0;Y<xe.length;Y++){var Z=xe[Y];Z!=="protocol"&&(z[Z]=O[Z])}return R[z.protocol]&&z.hostname&&!z.pathname&&(z.pathname="/",z.path=z.pathname),z.href=z.format(),z}if(O.protocol&&O.protocol!==z.protocol){if(!R[O.protocol]){for(var ue=Object.keys(O),_e=0;_e<ue.length;_e++){var B=ue[_e];z[B]=O[B]}return z.href=z.format(),z}if(z.protocol=O.protocol,!O.host&&!C[O.protocol]){for(var J=(O.pathname||"").split("/");J.length&&!(O.host=J.shift()););O.host||(O.host=""),O.hostname||(O.hostname=""),J[0]!==""&&J.unshift(""),J.length<2&&J.unshift(""),z.pathname=J.join("/")}else z.pathname=O.pathname;if(z.search=O.search,z.query=O.query,z.host=O.host||"",z.auth=O.auth,z.hostname=O.hostname||O.host,z.port=O.port,z.pathname||z.search){var G=z.pathname||"",P=z.search||"";z.path=G+P}return z.slashes=z.slashes||O.slashes,z.href=z.format(),z}var j=z.pathname&&z.pathname.charAt(0)==="/",N=O.host||O.pathname&&O.pathname.charAt(0)==="/",I=N||j||z.host&&O.pathname,L=I,W=z.pathname&&z.pathname.split("/")||[],J=O.pathname&&O.pathname.split("/")||[],he=z.protocol&&!R[z.protocol];if(he&&(z.hostname="",z.port=null,z.host&&(W[0]===""?W[0]=z.host:W.unshift(z.host)),z.host="",O.protocol&&(O.hostname=null,O.port=null,O.host&&(J[0]===""?J[0]=O.host:J.unshift(O.host)),O.host=null),I=I&&(J[0]===""||W[0]==="")),N)z.host=O.host||O.host===""?O.host:z.host,z.hostname=O.hostname||O.hostname===""?O.hostname:z.hostname,z.search=O.search,z.query=O.query,W=J;else if(J.length)W||(W=[]),W.pop(),W=W.concat(J),z.search=O.search,z.query=O.query;else if(O.search!=null){if(he){z.host=W.shift(),z.hostname=z.host;var me=z.host&&z.host.indexOf("@")>0?z.host.split("@"):!1;me&&(z.auth=me.shift(),z.hostname=me.shift(),z.host=z.hostname)}return z.search=O.search,z.query=O.query,(z.pathname!==null||z.search!==null)&&(z.path=(z.pathname?z.pathname:"")+(z.search?z.search:"")),z.href=z.format(),z}if(!W.length)return z.pathname=null,z.search?z.path="/"+z.search:z.path=null,z.href=z.format(),z;for(var ge=W.slice(-1)[0],be=(z.host||O.host||W.length>1)&&(ge==="."||ge==="..")||ge==="",Me=0,Pe=W.length;Pe>=0;Pe--)ge=W[Pe],ge==="."?W.splice(Pe,1):ge===".."?(W.splice(Pe,1),Me++):Me&&(W.splice(Pe,1),Me--);if(!I&&!L)for(;Me--;Me)W.unshift("..");I&&W[0]!==""&&(!W[0]||W[0].charAt(0)!=="/")&&W.unshift(""),be&&W.join("/").substr(-1)!=="/"&&W.push("");var Ue=W[0]===""||W[0]&&W[0].charAt(0)==="/";if(he){z.hostname=Ue?"":W.length?W.shift():"",z.host=z.hostname;var me=z.host&&z.host.indexOf("@")>0?z.host.split("@"):!1;me&&(z.auth=me.shift(),z.hostname=me.shift(),z.host=z.hostname)}return I=I||z.host&&W.length,I&&!Ue&&W.unshift(""),W.length>0?z.pathname=W.join("/"):(z.pathname=null,z.path=null),(z.pathname!==null||z.search!==null)&&(z.path=(z.pathname?z.pathname:"")+(z.search?z.search:"")),z.auth=O.auth||z.auth,z.slashes=z.slashes||O.slashes,z.href=z.format(),z},e.prototype.parseHost=function(){var O=this.host,K=r.exec(O);K&&(K=K[0],K!==":"&&(this.port=K.substr(1)),O=O.substr(0,O.length-K.length)),O&&(this.hostname=O)},Ml.parse=k,Ml.resolve=D,Ml.resolveObject=$,Ml.format=U,Ml.Url=e,Ml}ew();const O0={};function dt(i,e,t=3){if(O0[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${i}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${i}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${i}`),console.warn(r))),O0[e]=!0}function Hi(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function lc(i){return i.split("?")[0].split("#")[0]}function tw(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rw(i,e,t){return i.replace(new RegExp(tw(e),"g"),t)}function nw(i,e){let t="",r=0,s=-1,a=0,c=-1;for(let d=0;d<=i.length;++d){if(d<i.length)c=i.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(s===d-1||a===1))if(s!==d-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const p=t.lastIndexOf("/");if(p!==t.length-1){p===-1?(t="",r=0):(t=t.slice(0,p),r=t.length-1-t.lastIndexOf("/")),s=d,a=0;continue}}else if(t.length===2||t.length===1){t="",r=0,s=d,a=0;continue}}}else t.length>0?t+=`/${i.slice(s+1,d)}`:t=i.slice(s+1,d),r=d-s-1;s=d,a=0}else c===46&&a!==-1?++a:a=-1}return t}const Or={toPosix(i){return rw(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){Hi(i),i=this.toPosix(i);const e=/^file:\/\/\//.exec(i);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(i);return t?t[0]:""},toAbsolute(i,e,t){if(Hi(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const r=lc(this.toPosix(e??Be.ADAPTER.getBaseUrl())),s=lc(this.toPosix(t??this.rootname(r)));return i=this.toPosix(i),i.startsWith("/")?Or.join(s,i.slice(1)):this.isAbsolute(i)?i:this.join(r,i)},normalize(i){if(Hi(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let e="";const t=i.startsWith("/");this.hasProtocol(i)&&(e=this.rootname(i),i=i.slice(e.length));const r=i.endsWith("/");return i=nw(i),i.length>0&&r&&(i+="/"),t?`/${i}`:e+i},isAbsolute(i){return Hi(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let e;for(let t=0;t<i.length;++t){const r=i[t];if(Hi(r),r.length>0)if(e===void 0)e=r;else{const s=i[t-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(i){if(Hi(i),i.length===0)return".";i=this.toPosix(i);let e=i.charCodeAt(0);const t=e===47;let r=-1,s=!0;const a=this.getProtocol(i),c=i;i=i.slice(a.length);for(let d=i.length-1;d>=1;--d)if(e=i.charCodeAt(d),e===47){if(!s){r=d;break}}else s=!1;return r===-1?t?"/":this.isUrl(c)?a+i:a:t&&r===1?"//":a+i.slice(0,r)},rootname(i){Hi(i),i=this.toPosix(i);let e="";if(i.startsWith("/")?e="/":e=this.getProtocol(i),this.isUrl(i)){const t=i.indexOf("/",e.length);t!==-1?e=i.slice(0,t):e=i,e.endsWith("/")||(e+="/")}return e},basename(i,e){Hi(i),e&&Hi(e),i=lc(this.toPosix(i));let t=0,r=-1,s=!0,a;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e.length===i.length&&e===i)return"";let c=e.length-1,d=-1;for(a=i.length-1;a>=0;--a){const p=i.charCodeAt(a);if(p===47){if(!s){t=a+1;break}}else d===-1&&(s=!1,d=a+1),c>=0&&(p===e.charCodeAt(c)?--c===-1&&(r=a):(c=-1,r=d))}return t===r?r=d:r===-1&&(r=i.length),i.slice(t,r)}for(a=i.length-1;a>=0;--a)if(i.charCodeAt(a)===47){if(!s){t=a+1;break}}else r===-1&&(s=!1,r=a+1);return r===-1?"":i.slice(t,r)},extname(i){Hi(i),i=lc(this.toPosix(i));let e=-1,t=0,r=-1,s=!0,a=0;for(let c=i.length-1;c>=0;--c){const d=i.charCodeAt(c);if(d===47){if(!s){t=c+1;break}continue}r===-1&&(s=!1,r=c+1),d===46?e===-1?e=c:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||r===-1||a===0||a===1&&e===r-1&&e===t+1?"":i.slice(e,r)},parse(i){Hi(i);const e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;i=lc(this.toPosix(i));let t=i.charCodeAt(0);const r=this.isAbsolute(i);let s;e.root=this.rootname(i),r||this.hasProtocol(i)?s=1:s=0;let a=-1,c=0,d=-1,p=!0,g=i.length-1,_=0;for(;g>=s;--g){if(t=i.charCodeAt(g),t===47){if(!p){c=g+1;break}continue}d===-1&&(p=!1,d=g+1),t===46?a===-1?a=g:_!==1&&(_=1):a!==-1&&(_=-1)}return a===-1||d===-1||_===0||_===1&&a===d-1&&a===c+1?d!==-1&&(c===0&&r?e.base=e.name=i.slice(1,d):e.base=e.name=i.slice(c,d)):(c===0&&r?(e.name=i.slice(1,a),e.base=i.slice(1,d)):(e.name=i.slice(c,a),e.base=i.slice(c,d)),e.ext=i.slice(a,d)),e.dir=this.dirname(i),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let dm;async function iw(){return dm??(dm=(async()=>{var a;const i=document.createElement("canvas").getContext("webgl");if(!i)return Ln.UNPACK;const e=await new Promise(c=>{const d=document.createElement("video");d.onloadeddata=()=>c(d),d.onerror=()=>c(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!e)return Ln.UNPACK;const t=i.createTexture();i.bindTexture(i.TEXTURE_2D,t);const r=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,r),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return i.readPixels(0,0,1,1,i.RGBA,i.UNSIGNED_BYTE,s),i.deleteFramebuffer(r),i.deleteTexture(t),(a=i.getExtension("WEBGL_lose_context"))==null||a.loseContext(),s[0]<=s[3]?Ln.PMA:Ln.UNPACK})()),dm}let fm;function sw(){return typeof fm>"u"&&(fm=function(){var e;const i={stencil:!0,failIfMajorPerformanceCaveat:Be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Be.ADAPTER.getWebGLRenderingContext())return!1;const t=Be.ADAPTER.createCanvas();let r=t.getContext("webgl",i)||t.getContext("experimental-webgl",i);const s=!!((e=r==null?void 0:r.getContextAttributes())!=null&&e.stencil);if(r){const a=r.getExtension("WEBGL_lose_context");a&&a.loseContext()}return r=null,s}catch{return!1}}()),fm}var ow={grad:.9,turn:360,rad:360/(2*Math.PI)},mo=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},Nr=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*i)/t+0},yi=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),i>t?t:i>e?i:e},a1=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},F0=function(i){return{r:yi(i.r,0,255),g:yi(i.g,0,255),b:yi(i.b,0,255),a:yi(i.a)}},pm=function(i){return{r:Nr(i.r),g:Nr(i.g),b:Nr(i.b),a:Nr(i.a,3)}},aw=/^#([0-9a-f]{3,8})$/i,Cd=function(i){var e=i.toString(16);return e.length<2?"0"+e:e},l1=function(i){var e=i.r,t=i.g,r=i.b,s=i.a,a=Math.max(e,t,r),c=a-Math.min(e,t,r),d=c?a===e?(t-r)/c:a===t?2+(r-e)/c:4+(e-t)/c:0;return{h:60*(d<0?d+6:d),s:a?c/a*100:0,v:a/255*100,a:s}},u1=function(i){var e=i.h,t=i.s,r=i.v,s=i.a;e=e/360*6,t/=100,r/=100;var a=Math.floor(e),c=r*(1-t),d=r*(1-(e-a)*t),p=r*(1-(1-e+a)*t),g=a%6;return{r:255*[r,d,c,c,p,r][g],g:255*[p,r,r,d,c,c][g],b:255*[c,c,p,r,r,d][g],a:s}},B0=function(i){return{h:a1(i.h),s:yi(i.s,0,100),l:yi(i.l,0,100),a:yi(i.a)}},L0=function(i){return{h:Nr(i.h),s:Nr(i.s),l:Nr(i.l),a:Nr(i.a,3)}},U0=function(i){return u1((t=(e=i).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},bc=function(i){return{h:(e=l1(i)).h,s:(s=(200-(t=e.s))*(r=e.v)/100)>0&&s<200?t*r/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,t,r,s},lw=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,uw=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,hw=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,cw=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Vm={string:[[function(i){var e=aw.exec(i);return e?(i=e[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?Nr(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?Nr(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var e=hw.exec(i)||cw.exec(i);return e?e[2]!==e[4]||e[4]!==e[6]?null:F0({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(i){var e=lw.exec(i)||uw.exec(i);if(!e)return null;var t,r,s=B0({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(ow[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return U0(s)},"hsl"]],object:[[function(i){var e=i.r,t=i.g,r=i.b,s=i.a,a=s===void 0?1:s;return mo(e)&&mo(t)&&mo(r)?F0({r:Number(e),g:Number(t),b:Number(r),a:Number(a)}):null},"rgb"],[function(i){var e=i.h,t=i.s,r=i.l,s=i.a,a=s===void 0?1:s;if(!mo(e)||!mo(t)||!mo(r))return null;var c=B0({h:Number(e),s:Number(t),l:Number(r),a:Number(a)});return U0(c)},"hsl"],[function(i){var e=i.h,t=i.s,r=i.v,s=i.a,a=s===void 0?1:s;if(!mo(e)||!mo(t)||!mo(r))return null;var c=function(d){return{h:a1(d.h),s:yi(d.s,0,100),v:yi(d.v,0,100),a:yi(d.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(a)});return u1(c)},"hsv"]]},z0=function(i,e){for(var t=0;t<e.length;t++){var r=e[t][0](i);if(r)return[r,e[t][1]]}return[null,void 0]},dw=function(i){return typeof i=="string"?z0(i.trim(),Vm.string):typeof i=="object"&&i!==null?z0(i,Vm.object):[null,void 0]},mm=function(i,e){var t=bc(i);return{h:t.h,s:yi(t.s+100*e,0,100),l:t.l,a:t.a}},gm=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},G0=function(i,e){var t=bc(i);return{h:t.h,s:t.s,l:yi(t.l+100*e,0,100),a:t.a}},Xm=function(){function i(e){this.parsed=dw(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return Nr(gm(this.rgba),2)},i.prototype.isDark=function(){return gm(this.rgba)<.5},i.prototype.isLight=function(){return gm(this.rgba)>=.5},i.prototype.toHex=function(){return e=pm(this.rgba),t=e.r,r=e.g,s=e.b,c=(a=e.a)<1?Cd(Nr(255*a)):"","#"+Cd(t)+Cd(r)+Cd(s)+c;var e,t,r,s,a,c},i.prototype.toRgb=function(){return pm(this.rgba)},i.prototype.toRgbString=function(){return e=pm(this.rgba),t=e.r,r=e.g,s=e.b,(a=e.a)<1?"rgba("+t+", "+r+", "+s+", "+a+")":"rgb("+t+", "+r+", "+s+")";var e,t,r,s,a},i.prototype.toHsl=function(){return L0(bc(this.rgba))},i.prototype.toHslString=function(){return e=L0(bc(this.rgba)),t=e.h,r=e.s,s=e.l,(a=e.a)<1?"hsla("+t+", "+r+"%, "+s+"%, "+a+")":"hsl("+t+", "+r+"%, "+s+"%)";var e,t,r,s,a},i.prototype.toHsv=function(){return e=l1(this.rgba),{h:Nr(e.h),s:Nr(e.s),v:Nr(e.v),a:Nr(e.a,3)};var e},i.prototype.invert=function(){return Es({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},i.prototype.saturate=function(e){return e===void 0&&(e=.1),Es(mm(this.rgba,e))},i.prototype.desaturate=function(e){return e===void 0&&(e=.1),Es(mm(this.rgba,-e))},i.prototype.grayscale=function(){return Es(mm(this.rgba,-1))},i.prototype.lighten=function(e){return e===void 0&&(e=.1),Es(G0(this.rgba,e))},i.prototype.darken=function(e){return e===void 0&&(e=.1),Es(G0(this.rgba,-e))},i.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},i.prototype.alpha=function(e){return typeof e=="number"?Es({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Nr(this.rgba.a,3);var t},i.prototype.hue=function(e){var t=bc(this.rgba);return typeof e=="number"?Es({h:e,s:t.s,l:t.l,a:t.a}):Nr(t.h)},i.prototype.isEqual=function(e){return this.toHex()===Es(e).toHex()},i}(),Es=function(i){return i instanceof Xm?i:new Xm(i)},H0=[],fw=function(i){i.forEach(function(e){H0.indexOf(e)<0&&(e(Xm,Vm),H0.push(e))})};function pw(i,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var s in t)r[t[s]]=s;var a={};i.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,p,g=r[this.toHex()];if(g)return g;if(c!=null&&c.closest){var _=this.toRgb(),w=1/0,S="black";if(!a.length)for(var b in t)a[b]=new i(t[b]).toRgb();for(var C in t){var R=(d=_,p=a[C],Math.pow(d.r-p.r,2)+Math.pow(d.g-p.g,2)+Math.pow(d.b-p.b,2));R<w&&(w=R,S=C)}return S}},e.string.push([function(c){var d=c.toLowerCase(),p=d==="transparent"?"#0000":t[d];return p?new i(p).toRgb():null},"name"])}fw([pw]);const Wu=class Qd{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Qd)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((s,a)=>s===t[a]);if(e!==null&&t!==null){const s=Object.keys(e),a=Object.keys(t);return s.length!==a.length?!1:s.every(c=>e[c]===t[c])}return e===t}toRgba(){const[e,t,r,s]=this._components;return{r:e,g:t,b:r,a:s}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,s]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e??[];const[t,r,s]=this._components;return e[0]=t,e[1]=r,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,r,s,a]=Qd.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=s,this._components[3]*=a,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,s=this._int>>8&255,a=this._int&255;return t&&(r=r*e+.5|0,s=s*e+.5|0,a=a*e+.5|0),(e*255<<24)+(r<<16)+(s<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,s]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,r,s,a]=this._components;return e[0]=t,e[1]=r,e[2]=s,e[3]=a,e}normalize(e){let t,r,s,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;t=(c>>16&255)/255,r=(c>>8&255)/255,s=(c&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,s,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,s,a=255]=e,t/=255,r/=255,s/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const d=Qd.HEX_PATTERN.exec(e);d&&(e=`#${d[2]}`)}const c=Es(e);c.isValid()&&({r:t,g:r,b:s,a}=c.rgba,t/=255,r/=255,s/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=s,this._components[3]=a,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((s,a)=>{e[a]=Math.min(Math.max(s,t),r)}),e)}};Wu.shared=new Wu,Wu.temp=new Wu,Wu.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let zt=Wu;function mw(i){return dt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),zt.shared.setValue(i).toHex()}function gw(i){return dt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),zt.shared.setValue(i).toNumber()}function yw(){const i=[],e=[];for(let r=0;r<32;r++)i[r]=r,e[r]=r;i[rt.NORMAL_NPM]=rt.NORMAL,i[rt.ADD_NPM]=rt.ADD,i[rt.SCREEN_NPM]=rt.SCREEN,e[rt.NORMAL]=rt.NORMAL_NPM,e[rt.ADD]=rt.ADD_NPM,e[rt.SCREEN]=rt.SCREEN_NPM;const t=[];return t.push(e),t.push(i),t}const h1=yw();function c1(i,e){return h1[e?1:0][i]}function vw(i,e=null){const t=i*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let r=0,s=0;r<t;r+=6,s+=4)e[r+0]=s+0,e[r+1]=s+1,e[r+2]=s+2,e[r+3]=s+0,e[r+4]=s+2,e[r+5]=s+3;return e}function d1(i){if(i.BYTES_PER_ELEMENT===4)return i instanceof Float32Array?"Float32Array":i instanceof Uint32Array?"Uint32Array":"Int32Array";if(i.BYTES_PER_ELEMENT===2){if(i instanceof Uint16Array)return"Uint16Array"}else if(i.BYTES_PER_ELEMENT===1&&i instanceof Uint8Array)return"Uint8Array";return null}function of(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function j0(i){return!(i&i-1)&&!!i}function $0(i){let e=(i>65535?1:0)<<4;i>>>=e;let t=(i>255?1:0)<<3;return i>>>=t,e|=t,t=(i>15?1:0)<<2,i>>>=t,e|=t,t=(i>3?1:0)<<1,i>>>=t,e|=t,e|i>>1}function eh(i,e,t){const r=i.length;let s;if(e>=r||t===0)return;t=e+t>r?r-e:t;const a=r-t;for(s=e;s<a;++s)i[s]=i[s+t];i.length=a}function Sa(i){return i===0?0:i<0?-1:1}let _w=0;function $l(){return++_w}const Ym=class{constructor(i,e,t,r){this.left=i,this.top=e,this.right=t,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Ym.EMPTY=new Ym(0,0,0,0);let W0=Ym;const V0={},Ss=Object.create(null),va=Object.create(null);class xw{constructor(e,t,r){this._canvas=Be.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Be.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function X0(i,e,t){for(let r=0,s=4*t*e;r<e;++r,s+=4)if(i[s+3]!==0)return!1;return!0}function Y0(i,e,t,r,s){const a=4*e;for(let c=r,d=r*a+4*t;c<=s;++c,d+=a)if(i[d+3]!==0)return!1;return!0}function ww(i){const{width:e,height:t}=i,r=i.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,t).data;let a=0,c=0,d=e-1,p=t-1;for(;c<t&&X0(s,e,c);)++c;if(c===t)return W0.EMPTY;for(;X0(s,e,p);)--p;for(;Y0(s,e,a,c,p);)++a;for(;Y0(s,e,d,c,p);)--d;return++d,++p,new W0(a,c,d,p)}function Ew(i){const e=ww(i),{width:t,height:r}=e;let s=null;if(!e.isEmpty()){const a=i.getContext("2d");if(a===null)throw new TypeError("Failed to get canvas 2D context");s=a.getImageData(e.left,e.top,t,r)}return{width:t,height:r,data:s}}function Sw(i,e=globalThis.location){if(i.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(i,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function So(i,e=1){var r;const t=(r=Be.RETINA_PREFIX)==null?void 0:r.exec(i);return t?parseFloat(t[1]):e}var Ne=(i=>(i.Renderer="renderer",i.Application="application",i.RendererSystem="renderer-webgl-system",i.RendererPlugin="renderer-webgl-plugin",i.CanvasRendererSystem="renderer-canvas-system",i.CanvasRendererPlugin="renderer-canvas-plugin",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i))(Ne||{});const qm=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},q0=(i,e)=>qm(i).priority??e,Ve={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(qm).forEach(e=>{e.type.forEach(t=>{var r,s;return(s=(r=this._removeHandlers)[t])==null?void 0:s.call(r,e)})}),this},add(...i){return i.map(qm).forEach(e=>{e.type.forEach(t=>{var a,c;const r=this._addHandlers,s=this._queue;r[t]?(a=r[t])==null||a.call(r,e):(s[t]=s[t]||[],(c=s[t])==null||c.push(e))})}),this},handle(i,e,t){var c;const r=this._addHandlers,s=this._removeHandlers;if(r[i]||s[i])throw new Error(`Extension type ${i} already has a handler`);r[i]=e,s[i]=t;const a=this._queue;return a[i]&&((c=a[i])==null||c.forEach(d=>e(d)),delete a[i]),this},handleByMap(i,e){return this.handle(i,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(i,e,t=-1){return this.handle(i,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((s,a)=>q0(a,t)-q0(s,t)))},r=>{const s=e.indexOf(r.ref);s!==-1&&e.splice(s,1)})}};class Qm{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const bw=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Tw(i){let e="";for(let t=0;t<i;++t)t>0&&(e+=`
else `),t<i-1&&(e+=`if(test == ${t}.0){}`);return e}function Aw(i,e){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=bw.replace(/%forloop%/gi,Tw(i));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))i=i/2|0;else break}return i}const ym=0,vm=1,_m=2,xm=3,wm=4,Em=5;class Ds{constructor(){this.data=0,this.blendMode=rt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<ym)}set blend(e){!!(this.data&1<<ym)!==e&&(this.data^=1<<ym)}get offsets(){return!!(this.data&1<<vm)}set offsets(e){!!(this.data&1<<vm)!==e&&(this.data^=1<<vm)}get culling(){return!!(this.data&1<<_m)}set culling(e){!!(this.data&1<<_m)!==e&&(this.data^=1<<_m)}get depthTest(){return!!(this.data&1<<xm)}set depthTest(e){!!(this.data&1<<xm)!==e&&(this.data^=1<<xm)}get depthMask(){return!!(this.data&1<<Em)}set depthMask(e){!!(this.data&1<<Em)!==e&&(this.data^=1<<Em)}get clockwiseFrontFace(){return!!(this.data&1<<wm)}set clockwiseFrontFace(e){!!(this.data&1<<wm)!==e&&(this.data^=1<<wm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==rt.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ds;return e.depthTest=!1,e.blend=!0,e}}Ds.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Km=[];function f1(i,e){if(!i)return null;let t="";if(typeof i=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(i);r&&(t=r[1].toLowerCase())}for(let r=Km.length-1;r>=0;--r){const s=Km[r];if(s.test&&s.test(i,t))return new s(i,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class qi{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,s,a,c,d,p){if(arguments.length>8)throw new Error("max arguments reached");const{name:g,items:_}=this;this._aliasCount++;for(let w=0,S=_.length;w<S;w++)_[w][g](e,t,r,s,a,c,d,p);return _===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(qi.prototype,{dispatch:{value:qi.prototype.emit},run:{value:qi.prototype.emit}});class Cc{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new qi("setRealSize"),this.onUpdate=new qi("update"),this.onError=new qi("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class Af extends Cc{constructor(e,t){const{width:r,height:s}=t||{};if(!r||!s)throw new Error("BufferResource width or height invalid");super(r,s),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,r){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Ln.UNPACK);const a=t.realWidth,c=t.realHeight;return r.width===a&&r.height===c?s.texSubImage2D(t.target,0,0,0,a,c,t.format,r.type,this.data):(r.width=a,r.height=c,s.texImage2D(t.target,0,r.internalFormat,a,c,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Cw={scaleMode:vo.NEAREST,alphaMode:Ln.NPM},Zm=class Vu extends kc{constructor(e=null,t=null){super(),t=Object.assign({},Vu.defaultOptions,t);const{alphaMode:r,mipmap:s,anisotropicLevel:a,scaleMode:c,width:d,height:p,wrapMode:g,format:_,type:w,target:S,resolution:b,resourceOptions:C}=t;e&&!(e instanceof Cc)&&(e=f1(e,C),e.internal=!0),this.resolution=b||Be.RESOLUTION,this.width=Math.round((d||0)*this.resolution)/this.resolution,this.height=Math.round((p||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=a,this._wrapMode=g,this._scaleMode=c,this.format=_,this.type=w,this.target=S,this.alphaMode=r,this.uid=$l(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=d>0&&p>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=j0(this.realWidth)&&j0(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete va[this.cacheId],delete Ss[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Vu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,r=Be.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${$l()}`}a=e._pixiId}let c=va[a];if(s&&r&&!c)throw new Error(`The cacheId "${a}" does not exist in BaseTextureCache.`);return c||(c=new Vu(e,t),c.cacheId=a,Vu.addToCache(c,a)),c}static fromBuffer(e,t,r,s){e=e||new Float32Array(t*r*4);const a=new Af(e,{width:t,height:r,...s==null?void 0:s.resourceOptions});let c,d;return e instanceof Float32Array?(c=Ce.RGBA,d=Qe.FLOAT):e instanceof Int32Array?(c=Ce.RGBA_INTEGER,d=Qe.INT):e instanceof Uint32Array?(c=Ce.RGBA_INTEGER,d=Qe.UNSIGNED_INT):e instanceof Int16Array?(c=Ce.RGBA_INTEGER,d=Qe.SHORT):e instanceof Uint16Array?(c=Ce.RGBA_INTEGER,d=Qe.UNSIGNED_SHORT):e instanceof Int8Array?(c=Ce.RGBA,d=Qe.BYTE):(c=Ce.RGBA,d=Qe.UNSIGNED_BYTE),a.internal=!0,new Vu(a,Object.assign({},Cw,{type:d,format:c},s))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),va[t]&&va[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),va[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=va[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete va[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete va[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};Zm.defaultOptions={mipmap:Ms.POW2,anisotropicLevel:0,scaleMode:vo.LINEAR,wrapMode:Eo.CLAMP,alphaMode:Ln.UNPACK,target:Ju.TEXTURE_2D,format:Ce.RGBA,type:Qe.UNSIGNED_BYTE},Zm._globalBatch=0;let ot=Zm;class Jm{constructor(){this.texArray=null,this.blend=0,this.type=Xi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Pw=0;class fr{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=Pw++,this.disposeRunner=new qi("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Is.ELEMENT_ARRAY_BUFFER:Is.ARRAY_BUFFER}get index(){return this.type===Is.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new fr(e)}}class af{constructor(e,t=0,r=!1,s=Qe.FLOAT,a,c,d,p=1){this.buffer=e,this.size=t,this.normalized=r,this.type=s,this.stride=a,this.start=c,this.instance=d,this.divisor=p}destroy(){this.buffer=null}static from(e,t,r,s,a){return new af(e,t,r,s,a)}}const Iw={Float32Array,Uint32Array,Int32Array,Uint8Array};function Rw(i,e){let t=0,r=0;const s={};for(let p=0;p<i.length;p++)r+=e[p],t+=i[p].length;const a=new ArrayBuffer(t*4);let c=null,d=0;for(let p=0;p<i.length;p++){const g=e[p],_=i[p],w=d1(_);s[w]||(s[w]=new Iw[w](a)),c=s[w];for(let S=0;S<_.length;S++){const b=(S/g|0)*r+d,C=S%g;c[b+C]=_[S]}d+=g}return new Float32Array(a)}const Q0={5126:4,5123:2,5121:1};let Mw=0;const kw={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Aa{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Mw++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new qi("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,s=!1,a,c,d,p=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof fr||(t instanceof Array&&(t=new Float32Array(t)),t=new fr(t));const g=e.split("|");if(g.length>1){for(let w=0;w<g.length;w++)this.addAttribute(g[w],t,r,s,a);return this}let _=this.buffers.indexOf(t);return _===-1&&(this.buffers.push(t),_=this.buffers.length-1),this.attributes[e]=new af(_,r,s,a,c,d,p),this.instanced=this.instanced||p,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof fr||(e instanceof Array&&(e=new Uint16Array(e)),e=new fr(e)),e.type=Is.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],r=new fr;let s;for(s in this.attributes){const a=this.attributes[s],c=this.buffers[a.buffer];e.push(c.data),t.push(a.size*Q0[a.type]/4),a.buffer=0}for(r.data=Rw(e,t),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Aa;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new fr(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new af(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Is.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new Aa,r=[],s=[],a=[];let c;for(let d=0;d<e.length;d++){c=e[d];for(let p=0;p<c.buffers.length;p++)s[p]=s[p]||0,s[p]+=c.buffers[p].data.length,a[p]=0}for(let d=0;d<c.buffers.length;d++)r[d]=new kw[d1(c.buffers[d].data)](s[d]),t.buffers[d]=new fr(r[d]);for(let d=0;d<e.length;d++){c=e[d];for(let p=0;p<c.buffers.length;p++)r[p].set(c.buffers[p].data,a[p]),a[p]+=c.buffers[p].data.length}if(t.attributes=c.attributes,c.indexBuffer){t.indexBuffer=t.buffers[c.buffers.indexOf(c.indexBuffer)],t.indexBuffer.type=Is.ELEMENT_ARRAY_BUFFER;let d=0,p=0,g=0,_=0;for(let w=0;w<c.buffers.length;w++)if(c.buffers[w]!==c.indexBuffer){_=w;break}for(const w in c.attributes){const S=c.attributes[w];(S.buffer|0)===_&&(p+=S.size*Q0[S.type]/4)}for(let w=0;w<e.length;w++){const S=e[w].indexBuffer.data;for(let b=0;b<S.length;b++)t.indexBuffer.data[b+g]+=d;d+=e[w].buffers[_].data.length/p,g+=S.length}}return t}}class p1 extends Aa{constructor(e=!1){super(),this._buffer=new fr(null,e,!1),this._indexBuffer=new fr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Qe.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Qe.FLOAT).addAttribute("aColor",this._buffer,4,!0,Qe.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Qe.FLOAT).addIndex(this._indexBuffer)}}const lf=Math.PI*2,Nw=180/Math.PI,Dw=Math.PI/180;var jr=(i=>(i[i.POLY=0]="POLY",i[i.RECT=1]="RECT",i[i.CIRC=2]="CIRC",i[i.ELIP=3]="ELIP",i[i.RREC=4]="RREC",i))(jr||{});class ft{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new ft(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}ft.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Pd=[new ft,new ft,new ft,new ft];class lt{constructor(e=0,t=0,r=0,s=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(s),this.type=jr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new lt(0,0,0,0)}clone(){return new lt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const te=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=te)return!1;const ce=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>ce}const r=this.left,s=this.right,a=this.top,c=this.bottom;if(s<=r||c<=a)return!1;const d=Pd[0].set(e.left,e.top),p=Pd[1].set(e.left,e.bottom),g=Pd[2].set(e.right,e.top),_=Pd[3].set(e.right,e.bottom);if(g.x<=d.x||p.y<=d.y)return!1;const w=Math.sign(t.a*t.d-t.b*t.c);if(w===0||(t.apply(d,d),t.apply(p,p),t.apply(g,g),t.apply(_,_),Math.max(d.x,p.x,g.x,_.x)<=r||Math.min(d.x,p.x,g.x,_.x)>=s||Math.max(d.y,p.y,g.y,_.y)<=a||Math.min(d.y,p.y,g.y,_.y)>=c))return!1;const S=w*(p.y-d.y),b=w*(d.x-p.x),C=S*r+b*a,R=S*s+b*a,A=S*r+b*c,k=S*s+b*c;if(Math.max(C,R,A,k)<=S*d.x+b*d.y||Math.min(C,R,A,k)>=S*_.x+b*_.y)return!1;const U=w*(d.y-g.y),D=w*(g.x-d.x),$=U*r+D*a,O=U*s+D*a,K=U*r+D*c,z=U*s+D*c;return!(Math.max($,O,K,z)<=U*d.x+D*d.y||Math.min($,O,K,z)>=U*_.x+D*_.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=s,this.height=Math.max(a-s,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,s=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=s-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=s,this.height=a-s,this}}lt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Cf{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=jr.CIRC}clone(){return new Cf(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let s=this.x-e,a=this.y-t;return s*=s,a*=a,s+a<=r}getBounds(){return new lt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Cf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Pf{constructor(e=0,t=0,r=0,s=0){this.x=e,this.y=t,this.width=r,this.height=s,this.type=jr.ELIP}clone(){return new Pf(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,s=(t-this.y)/this.height;return r*=r,s*=s,r+s<=1}getBounds(){return new lt(this.x-this.width,this.y-this.height,this.width,this.height)}}Pf.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Hl{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const r=[];for(let s=0,a=t.length;s<a;s++)r.push(t[s].x,t[s].y);t=r}this.points=t,this.type=jr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new Hl(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1;const s=this.points.length/2;for(let a=0,c=s-1;a<s;c=a++){const d=this.points[a*2],p=this.points[a*2+1],g=this.points[c*2],_=this.points[c*2+1];p>t!=_>t&&e<(g-d)*((t-p)/(_-p))+d&&(r=!r)}return r}}Hl.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((i,e)=>`${i}, ${e}`,"")}]`};class If{constructor(e=0,t=0,r=0,s=0,a=20){this.x=e,this.y=t,this.width=r,this.height=s,this.radius=a,this.type=jr.RREC}clone(){return new If(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let s=e-(this.x+r),a=t-(this.y+r);const c=r*r;if(s*s+a*a<=c||(s=e-(this.x+this.width-r),s*s+a*a<=c)||(a=t-(this.y+this.height-r),s*s+a*a<=c)||(s=e-(this.x+r),s*s+a*a<=c))return!0}return!1}}If.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ht{constructor(e=1,t=0,r=0,s=1,a=0,c=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=s,this.tx=a,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,s,a,c){return this.a=e,this.b=t,this.c=r,this.d=s,this.tx=a,this.ty=c,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new ft;const r=e.x,s=e.y;return t.x=this.a*r+this.c*s+this.tx,t.y=this.b*r+this.d*s+this.ty,t}applyInverse(e,t){t=t||new ft;const r=1/(this.a*this.d+this.c*-this.b),s=e.x,a=e.y;return t.x=this.d*r*s+-this.c*r*a+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*a+-this.b*r*s+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),s=this.a,a=this.c,c=this.tx;return this.a=s*t-this.b*r,this.b=s*r+this.b*t,this.c=a*t-this.d*r,this.d=a*r+this.d*t,this.tx=c*t-this.ty*r,this.ty=c*r+this.ty*t,this}append(e){const t=this.a,r=this.b,s=this.c,a=this.d;return this.a=e.a*t+e.b*s,this.b=e.a*r+e.b*a,this.c=e.c*t+e.d*s,this.d=e.c*r+e.d*a,this.tx=e.tx*t+e.ty*s+this.tx,this.ty=e.tx*r+e.ty*a+this.ty,this}setTransform(e,t,r,s,a,c,d,p,g){return this.a=Math.cos(d+g)*a,this.b=Math.sin(d+g)*a,this.c=-Math.sin(d-p)*c,this.d=Math.cos(d-p)*c,this.tx=e-(r*this.a+s*this.c),this.ty=t-(r*this.b+s*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,s=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,s=this.c,a=this.d,c=e.pivot,d=-Math.atan2(-s,a),p=Math.atan2(r,t),g=Math.abs(d+p);return g<1e-5||Math.abs(lf-g)<1e-5?(e.rotation=p,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=d,e.skew.y=p),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(s*s+a*a),e.position.x=this.tx+(c.x*t+c.y*s),e.position.y=this.ty+(c.x*r+c.y*a),e}invert(){const e=this.a,t=this.b,r=this.c,s=this.d,a=this.tx,c=e*s-t*r;return this.a=s/c,this.b=-t/c,this.c=-r/c,this.d=e/c,this.tx=(r*this.ty-s*a)/c,this.ty=-(e*this.ty-t*a)/c,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ht;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ht}static get TEMP_MATRIX(){return new Ht}}Ht.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Ol=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Fl=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Bl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ll=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],eg=[],m1=[],Id=Math.sign;function Ow(){for(let i=0;i<16;i++){const e=[];eg.push(e);for(let t=0;t<16;t++){const r=Id(Ol[i]*Ol[t]+Bl[i]*Fl[t]),s=Id(Fl[i]*Ol[t]+Ll[i]*Fl[t]),a=Id(Ol[i]*Bl[t]+Bl[i]*Ll[t]),c=Id(Fl[i]*Bl[t]+Ll[i]*Ll[t]);for(let d=0;d<16;d++)if(Ol[d]===r&&Fl[d]===s&&Bl[d]===a&&Ll[d]===c){e.push(d);break}}}for(let i=0;i<16;i++){const e=new Ht;e.set(Ol[i],Fl[i],Bl[i],Ll[i],0,0),m1.push(e)}}Ow();const Kt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>Ol[i],uY:i=>Fl[i],vX:i=>Bl[i],vY:i=>Ll[i],inv:i=>i&8?i&15:-i&7,add:(i,e)=>eg[i][e],sub:(i,e)=>eg[i][Kt.inv(e)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,e)=>Math.abs(i)*2<=Math.abs(e)?e>=0?Kt.S:Kt.N:Math.abs(e)*2<=Math.abs(i)?i>0?Kt.E:Kt.W:e>0?i>0?Kt.SE:Kt.SW:i>0?Kt.NE:Kt.NW,matrixAppendRotationInv:(i,e,t=0,r=0)=>{const s=m1[Kt.inv(e)];s.tx=t,s.ty=r,i.append(s)}};class Ps{constructor(e,t,r=0,s=0){this._x=r,this._y=s,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new Ps(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Ps.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const tg=class{constructor(){this.worldTransform=new Ht,this.localTransform=new Ht,this.position=new Ps(this.onChange,this,0,0),this.scale=new Ps(this.onChange,this,1,1),this.pivot=new Ps(this.onChange,this,0,0),this.skew=new Ps(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const i=this.localTransform;this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(i){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==i._worldID){const t=i.worldTransform,r=this.worldTransform;r.a=e.a*t.a+e.b*t.c,r.b=e.a*t.b+e.b*t.d,r.c=e.c*t.a+e.d*t.c,r.d=e.c*t.b+e.d*t.d,r.tx=e.tx*t.a+e.ty*t.c+t.tx,r.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=i._worldID,this._worldID++}}setFromMatrix(i){i.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(i){this._rotation!==i&&(this._rotation=i,this.updateSkew())}};tg.IDENTITY=new tg;let Rf=tg;Rf.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var Fw=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Bw=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function K0(i,e,t){const r=i.createShader(e);return i.shaderSource(r,t),i.compileShader(r),r}function Sm(i){const e=new Array(i);for(let t=0;t<e.length;t++)e[t]=!1;return e}function g1(i,e){switch(i){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Sm(2*e);case"bvec3":return Sm(3*e);case"bvec4":return Sm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const th=[{test:i=>i.type==="float"&&i.size===1&&!i.isArray,code:i=>`
            if(uv["${i}"] !== ud["${i}"].value)
            {
                ud["${i}"].value = uv["${i}"]
                gl.uniform1f(ud["${i}"].location, uv["${i}"])
            }
            `},{test:(i,e)=>(i.type==="sampler2D"||i.type==="samplerCube"||i.type==="sampler2DArray")&&i.size===1&&!i.isArray&&(e==null||e.castToBaseTexture!==void 0),code:i=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${i}"], t);

            if(ud["${i}"].value !== t)
            {
                ud["${i}"].value = t;
                gl.uniform1i(ud["${i}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(i,e)=>i.type==="mat3"&&i.size===1&&!i.isArray&&e.a!==void 0,code:i=>`
            gl.uniformMatrix3fv(ud["${i}"].location, false, uv["${i}"].toArray(true));
            `,codeUbo:i=>`
                var ${i}_matrix = uv.${i}.toArray(true);

                data[offset] = ${i}_matrix[0];
                data[offset+1] = ${i}_matrix[1];
                data[offset+2] = ${i}_matrix[2];
        
                data[offset + 4] = ${i}_matrix[3];
                data[offset + 5] = ${i}_matrix[4];
                data[offset + 6] = ${i}_matrix[5];
        
                data[offset + 8] = ${i}_matrix[6];
                data[offset + 9] = ${i}_matrix[7];
                data[offset + 10] = ${i}_matrix[8];
            `},{test:(i,e)=>i.type==="vec2"&&i.size===1&&!i.isArray&&e.x!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${i}"].location, v.x, v.y);
                }`,codeUbo:i=>`
                v = uv.${i};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:i=>i.type==="vec2"&&i.size===1&&!i.isArray,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${i}"].location, v[0], v[1]);
                }
            `},{test:(i,e)=>i.type==="vec4"&&i.size===1&&!i.isArray&&e.width!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${i}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(i,e)=>i.type==="vec4"&&i.size===1&&!i.isArray&&e.red!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${i}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(i,e)=>i.type==="vec3"&&i.size===1&&!i.isArray&&e.red!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${i}"].location, v.red, v.green, v.blue)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:i=>i.type==="vec4"&&i.size===1&&!i.isArray,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${i}"].location, v[0], v[1], v[2], v[3])
                }`}],Lw={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Uw={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function zw(i,e){var r;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const s in i.uniforms){const a=e[s];if(!a){((r=i.uniforms[s])==null?void 0:r.group)===!0&&(i.uniforms[s].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${s}, '${s}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${s}, syncData);
                    `));continue}const c=i.uniforms[s];let d=!1;for(let p=0;p<th.length;p++)if(th[p].test(a,c)){t.push(th[p].code(s,c)),d=!0;break}if(!d){const p=(a.size===1&&!a.isArray?Lw:Uw)[a.type].replace("location",`ud["${s}"].location`);t.push(`
            cu = ud["${s}"];
            cv = cu.value;
            v = uv["${s}"];
            ${p};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const y1={};let Hu=y1;function Gw(){if(Hu===y1||Hu!=null&&Hu.isContextLost()){const i=Be.ADAPTER.createCanvas();let e;Be.PREFER_ENV>=Wl.WEBGL2&&(e=i.getContext("webgl2",{})),e||(e=i.getContext("webgl",{})||i.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Hu=e}return Hu}let Rd;function Hw(){if(!Rd){Rd=gi.MEDIUM;const i=Gw();if(i&&i.getShaderPrecisionFormat){const e=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);e&&(Rd=e.precision?gi.HIGH:gi.MEDIUM)}}return Rd}function Z0(i,e){const t=i.getShaderSource(e).split(`
`).map((g,_)=>`${_}: ${g}`),r=i.getShaderInfoLog(e),s=r.split(`
`),a={},c=s.map(g=>parseFloat(g.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(g=>g&&!a[g]?(a[g]=!0,!0):!1),d=[""];c.forEach(g=>{t[g-1]=`%c${t[g-1]}%c`,d.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const p=t.join(`
`);d[0]=p,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...d),console.groupEnd()}function jw(i,e,t,r){i.getProgramParameter(e,i.LINK_STATUS)||(i.getShaderParameter(t,i.COMPILE_STATUS)||Z0(i,t),i.getShaderParameter(r,i.COMPILE_STATUS)||Z0(i,r),console.error("PixiJS Error: Could not initialize shader."),i.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",i.getProgramInfoLog(e)))}const $w={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function v1(i){return $w[i]}let Md=null;const J0={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function _1(i,e){if(!Md){const t=Object.keys(J0);Md={};for(let r=0;r<t.length;++r){const s=t[r];Md[i[s]]=J0[s]}}return Md[e]}function ev(i,e,t){if(i.substring(0,9)!=="precision"){let r=e;return e===gi.HIGH&&t!==gi.HIGH&&(r=gi.MEDIUM),`precision ${r} float;
${i}`}else if(t!==gi.HIGH&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}let uc;function Ww(){if(typeof uc=="boolean")return uc;try{uc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{uc=!1}return uc}let Vw=0;const kd={},rg=class Xu{constructor(e,t,r="pixi-shader",s={}){this.extra={},this.id=Vw++,this.vertexSrc=e||Xu.defaultVertexSrc,this.fragmentSrc=t||Xu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),kd[r]?(kd[r]++,r+=`-${kd[r]}`):kd[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=ev(this.vertexSrc,Xu.defaultVertexPrecision,gi.HIGH),this.fragmentSrc=ev(this.fragmentSrc,Xu.defaultFragmentPrecision,Hw())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Bw}static get defaultFragmentSrc(){return Fw}static from(e,t,r){const s=e+t;let a=V0[s];return a||(V0[s]=a=new Xu(e,t,r)),a}};rg.defaultVertexPrecision=gi.HIGH,rg.defaultFragmentPrecision=_o.apple.device?gi.HIGH:gi.MEDIUM;let xo=rg,Xw=0;class Qi{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Xw++,this.static=!!t,this.ubo=!!r,e instanceof fr?(this.buffer=e,this.buffer.type=Is.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new fr(new Float32Array(1)),this.buffer.type=Is.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(!this.ubo)this.uniforms[e]=new Qi(t,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,r){return new Qi(e,t,r)}static uboFrom(e,t){return new Qi(e,t??!0,!0)}}class Rs{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Qi?this.uniformGroup=t:this.uniformGroup=new Qi(t):this.uniformGroup=new Qi({}),this.disposeRunner=new qi("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const s=t.uniforms[r];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const s=xo.from(e,t);return new Rs(s,r)}}class Yw{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let a=0;a<e;a++)r[a]=a;this.defaultGroupCache[e]=Qi.from({uSamplers:r},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,`${e}`),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new xo(this.vertexSrc,s)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:this.defaultGroupCache[e]};return new Rs(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class ng{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function qw(){return!_o.apple.device}function Qw(i){let e=!0;const t=Be.ADAPTER.getNavigator();if(_o.tablet||_o.phone){if(_o.apple.device){const r=t.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(_o.android.device){const r=t.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?i:4}class Mf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var Kw=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Zw=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const pc=class $i extends Mf{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=p1,this.vertexSize=6,this.state=Ds.for2d(),this.size=$i.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??Qw(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??qw(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return dt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return Zw}static get defaultFragmentTemplate(){return Kw}setShaderGenerator({vertex:e=$i.defaultVertexSrc,fragment:t=$i.defaultFragmentTemplate}={}){this.shaderGenerator=new Yw(e,t)}contextChange(){const e=this.renderer.gl;Be.PREFER_ENV===Wl.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),$i.defaultMaxTextures),this.maxTextures=Aw(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=$i,r=this.size/4,s=Math.floor(r/this.maxTextures)+1;for(;e.length<r;)e.push(new Jm);for(;t.length<s;)t.push(new ng);for(let a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,r=$i._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,c=this.renderer.textureGC.count;let d=++ot._globalBatch,p=0,g=r[0],_=0;s.copyBoundTextures(a,t);for(let w=0;w<this._bufferSize;++w){const S=e[w];e[w]=null,S._batchEnabled!==d&&(g.count>=t&&(s.boundArray(g,a,d,t),this.buildDrawCalls(g,_,w),_=w,g=r[++p],++d),S._batchEnabled=d,S.touched=c,g.elements[g.count++]=S)}g.count>0&&(s.boundArray(g,a,d,t),this.buildDrawCalls(g,_,this._bufferSize),++p,++d);for(let w=0;w<a.length;w++)a[w]=null;ot._globalBatch=d}buildDrawCalls(e,t,r){const{_bufferedElements:s,_attributeBuffer:a,_indexBuffer:c,vertexSize:d}=this,p=$i._drawCallPool;let g=this._dcIndex,_=this._aIndex,w=this._iIndex,S=p[g];S.start=this._iIndex,S.texArray=e;for(let b=t;b<r;++b){const C=s[b],R=C._texture.baseTexture,A=h1[R.alphaMode?1:0][C.blendMode];s[b]=null,t<b&&S.blend!==A&&(S.size=w-S.start,t=b,S=p[++g],S.texArray=e,S.start=w),this.packInterleavedGeometry(C,a,c,_,w),_+=C.vertexData.length/2*d,w+=C.indices.length,S.blend=A}t<r&&(S.size=w-S.start,++g),this._dcIndex=g,this._aIndex=_,this._iIndex=w}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:r}=this;$i.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:r}=this.renderer,s=$i._drawCallPool;let a=null;for(let c=0;c<e;c++){const{texArray:d,type:p,size:g,start:_,blend:w}=s[c];a!==d&&(a=d,this.bindAndClearTexArray(d)),this.state.blendMode=w,r.set(this.state),t.drawElements(p,g,t.UNSIGNED_SHORT,_*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),$i.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=of(Math.ceil(e/8)),r=$0(t),s=t*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let a=this._aBuffers[s];return a||(this._aBuffers[s]=a=new Qm(s*this.vertexSize*4)),a}getIndexBuffer(e){const t=of(Math.ceil(e/12)),r=$0(t),s=t*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let a=this._iBuffers[r];return a||(this._iBuffers[r]=a=new Uint16Array(s)),a}packInterleavedGeometry(e,t,r,s,a){const{uint32View:c,float32View:d}=t,p=s/this.vertexSize,g=e.uvs,_=e.indices,w=e.vertexData,S=e._texture.baseTexture._batchLocation,b=Math.min(e.worldAlpha,1),C=zt.shared.setValue(e._tintRGB).toPremultiplied(b,e._texture.baseTexture.alphaMode>0);for(let R=0;R<w.length;R+=2)d[s++]=w[R],d[s++]=w[R+1],d[s++]=g[R],d[s++]=g[R+1],c[s++]=C,d[s++]=S;for(let R=0;R<_.length;R++)r[a++]=p+_[R]}};pc.defaultBatchSize=4096,pc.extension={name:"batch",type:Ne.RendererPlugin},pc._drawCallPool=[],pc._textureArrayPool=[];let Ul=pc;Ve.add(Ul);var Jw=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,eE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const ig=class mc extends Rs{constructor(e,t,r){const s=xo.from(e||mc.defaultVertexSrc,t||mc.defaultFragmentSrc);super(s,r),this.padding=0,this.resolution=mc.defaultResolution,this.multisample=mc.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ds}apply(e,t,r,s,a){e.applyFilter(this,t,r,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return eE}static get defaultFragmentSrc(){return Jw}};ig.defaultResolution=1,ig.defaultMultisample=gr.NONE;let mn=ig;class uf{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new zt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:r,backgroundAlpha:s}=e,a=r??t;a!==void 0&&(this.color=a),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}uf.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},uf.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"background"};Ve.add(uf);class x1{constructor(e){this.renderer=e,this.emptyRenderer=new Mf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let s=t-1;s>=0;--s)e[s]=r[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,t,r,s){const{elements:a,ids:c,count:d}=e;let p=0;for(let g=0;g<d;g++){const _=a[g],w=_._batchLocation;if(w>=0&&w<s&&t[w]===_){c[g]=w;continue}for(;p<s;){const S=t[p];if(S&&S._batchEnabled===r&&S._batchLocation===p){p++;continue}c[g]=p,_._batchLocation=p,t[p]=_;break}}}destroy(){this.renderer=null}}x1.extension={type:Ne.RendererSystem,name:"batch"};Ve.add(x1);let tv=0;class hf{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=tv++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=tv++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(Be.PREFER_ENV>=Wl.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}hf.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},hf.extension={type:Ne.RendererSystem,name:"context"};Ve.add(hf);class sg{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new qi("disposeFramebuffer"),this.multisample=gr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new ot(null,{scaleMode:vo.NEAREST,resolution:1,mipmap:Ms.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ot(null,{scaleMode:vo.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ms.OFF,format:Ce.DEPTH_COMPONENT,type:Qe.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const s=this.colorTextures[r],a=s.resolution;s.setSize(e/a,t/a)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class w1 extends ot{constructor(e={}){if(typeof e=="number"){const t=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3];e={width:t,height:r,scaleMode:s,resolution:a}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=gr.NONE),super(null,e),this.mipmap=Ms.OFF,this.valid=!0,this._clear=new zt([0,0,0,0]),this.framebuffer=new sg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class bo extends Cc{constructor(e){const t=e,r=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,s=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(r,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){r===void 0&&!t.startsWith("data:")?e.crossOrigin=Sw(t):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,t,r,s){const a=e.gl,c=t.realWidth,d=t.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Ln.UNPACK),!this.noSubImage&&t.target===a.TEXTURE_2D&&r.width===c&&r.height===d?a.texSubImage2D(a.TEXTURE_2D,0,0,0,t.format,r.type,s):(r.width=c,r.height=d,a.texImage2D(t.target,0,r.internalFormat,t.format,r.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class E1 extends bo{constructor(e,t){if(t=t||{},typeof e=="string"){const r=new Image;bo.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??Be.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,r)=>{const s=this.source;this.url=s.src;const a=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};s.complete&&s.src?a():(s.onload=a,s.onerror=c=>{r(c),this.onError.emit(c)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(s=>s.blob()).then(s=>t(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ln.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let s=!0;const a=t._glTextures;for(const c in a){const d=a[c];if(d!==r&&d.dirtyId!==t.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Gg{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const s=t.width,a=t.height;if(r){const c=e.width/2/s,d=e.height/2/a,p=e.x/s+c,g=e.y/a+d;r=Kt.add(r,Kt.NW),this.x0=p+c*Kt.uX(r),this.y0=g+d*Kt.uY(r),r=Kt.add(r,2),this.x1=p+c*Kt.uX(r),this.y1=g+d*Kt.uY(r),r=Kt.add(r,2),this.x2=p+c*Kt.uX(r),this.y2=g+d*Kt.uY(r),r=Kt.add(r,2),this.x3=p+c*Kt.uX(r),this.y3=g+d*Kt.uY(r)}else this.x0=e.x/s,this.y0=e.y/a,this.x1=(e.x+e.width)/s,this.y1=e.y/a,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/a,this.x3=e.x/s,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Gg.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const rv=new Gg;function Nd(i){i.destroy=function(){},i.on=function(){},i.once=function(){},i.emit=function(){}}class ke extends kc{constructor(e,t,r,s,a,c,d){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new lt(0,0,1,1)),e instanceof ke&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=rv,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(a||0),a===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=c?new ft(c.x,c.y):new ft(0,0),this.defaultBorders=d,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&Ss[t.url]&&ke.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ke.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new ke(this.baseTexture,!this.noFrame&&e,t,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===rv&&(this._uvs=new Gg),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=Be.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else if(e instanceof ot){if(!e.cacheId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${d}-${$l()}`,ot.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${$l()}`}a=e._pixiId}let c=Ss[a];if(s&&r&&!c)throw new Error(`The cacheId "${a}" does not exist in TextureCache.`);return!c&&!(e instanceof ot)?(t.resolution||(t.resolution=So(e)),c=new ke(new ot(e,t)),c.baseTexture.cacheId=a,ot.addToCache(c.baseTexture,a),ke.addToCache(c,a)):!c&&e instanceof ot&&(c=new ke(e),ke.addToCache(c,a)),c}static fromURL(e,t){const r=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),s=ke.from(e,Object.assign({resourceOptions:r},t),!1),a=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):a.load().then(()=>Promise.resolve(s))}static fromBuffer(e,t,r,s){return new ke(ot.fromBuffer(e,t,r,s))}static fromLoader(e,t,r,s){const a=new ot(e,Object.assign({scaleMode:ot.defaultOptions.scaleMode,resolution:So(t)},s)),{resource:c}=a;c instanceof E1&&(c.url=t);const d=new ke(a);return r||(r=t),ot.addToCache(d.baseTexture,r),ke.addToCache(d,r),r!==t&&(ot.addToCache(d.baseTexture,t),ke.addToCache(d,t)),d.baseTexture.valid?Promise.resolve(d):new Promise(p=>{d.baseTexture.once("loaded",()=>p(d))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Ss[t]&&Ss[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),Ss[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=Ss[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete Ss[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)Ss[e.textureCacheIds[t]]===e&&delete Ss[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:s,height:a}=e,c=t+s>this.baseTexture.width,d=r+a>this.baseTexture.height;if(c||d){const p=c&&d?"and":"or",g=`X: ${t} + ${s} = ${t+s} > ${this.baseTexture.width}`,_=`Y: ${r} + ${a} = ${r+a} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${g} ${p} ${_}`)}this.valid=s&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ke._EMPTY||(ke._EMPTY=new ke(new ot),Nd(ke._EMPTY),Nd(ke._EMPTY.baseTexture)),ke._EMPTY}static get WHITE(){if(!ke._WHITE){const e=Be.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),ke._WHITE=new ke(ot.from(e)),Nd(ke._WHITE),Nd(ke._WHITE.baseTexture)}return ke._WHITE}}class Vl extends ke{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const s=this.baseTexture.resolution,a=Math.round(e*s)/s,c=Math.round(t*s)/s;this.valid=a>0&&c>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=c,r&&this.baseTexture.resize(a,c),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new Vl(new w1(e))}}class S1{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=gr.NONE){const s=new w1(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new Vl(s)}getOptimalTexture(e,t,r=1,s=gr.NONE){let a;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=of(e),t=of(t),a=((e&65535)<<16|t&65535)>>>0,s>1&&(a+=s*4294967296)):a=s>1?-s:-1,this.texturePool[a]||(this.texturePool[a]=[]);let c=this.texturePool[a].pop();return c||(c=this.createTexture(e,t,s)),c.filterPoolKey=a,c.setResolution(r),c}getFilterTexture(e,t,r){const s=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||gr.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const r=this.texturePool[t];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const r=this.texturePool[t];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}S1.SCREEN_KEY=-1;class tE extends Aa{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class b1 extends Aa{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new fr(this.vertices),this.uvBuffer=new fr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,s=0;return this.uvs[0]=r,this.uvs[1]=s,this.uvs[2]=r+t.width/e.width,this.uvs[3]=s,this.uvs[4]=r+t.width/e.width,this.uvs[5]=s+t.height/e.height,this.uvs[6]=r,this.uvs[7]=s+t.height/e.height,r=t.x,s=t.y,this.vertices[0]=r,this.vertices[1]=s,this.vertices[2]=r+t.width,this.vertices[3]=s,this.vertices[4]=r+t.width,this.vertices[5]=s+t.height,this.vertices[6]=r,this.vertices[7]=s+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class rE{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=gr.NONE,this.sourceFrame=new lt,this.destinationFrame=new lt,this.bindingSourceFrame=new lt,this.bindingDestinationFrame=new lt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Dd=[new ft,new ft,new ft,new ft],bm=new Ht;class T1{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new S1,this.statePool=[],this.quad=new tE,this.quadUv=new b1,this.tempRect=new lt,this.activeState={},this.globalUniforms=new Qi({outputFrame:new lt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const r=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new rE,c=r.renderTexture;let d,p;if(c.current){const A=c.current;d=A.resolution,p=A.multisample}else d=r.resolution,p=r.multisample;let g=t[0].resolution||d,_=t[0].multisample??p,w=t[0].padding,S=t[0].autoFit,b=t[0].legacy??!0;for(let A=1;A<t.length;A++){const k=t[A];g=Math.min(g,k.resolution||d),_=Math.min(_,k.multisample??p),w=this.useMaxPadding?Math.max(w,k.padding):w+k.padding,S=S&&k.autoFit,b=b||(k.legacy??!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),s.push(a),a.resolution=g,a.multisample=_,a.legacy=b,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(w);const C=this.tempRect.copyFrom(c.sourceFrame);r.projection.transform&&this.transformAABB(bm.copyFrom(r.projection.transform).invert(),C),S?(a.sourceFrame.fit(C),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(C)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,c.current?c.current.resolution:r.resolution,c.sourceFrame,c.destinationFrame,r.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,g,_),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;const R=this.tempRect;R.x=0,R.y=0,R.width=a.sourceFrame.width,R.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(c.sourceFrame),a.bindingDestinationFrame.copyFrom(c.destinationFrame),a.transform=r.projection.transform,r.projection.transform=null,c.bind(a.renderTexture,a.sourceFrame,R),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const s=this.globalUniforms.uniforms;s.outputFrame=t.sourceFrame,s.resolution=t.resolution;const a=s.inputSize,c=s.inputPixel,d=s.inputClamp;if(a[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],c[0]=Math.round(a[0]*t.resolution),c[1]=Math.round(a[1]*t.resolution),c[2]=1/c[0],c[3]=1/c[1],d[0]=.5*c[2],d[1]=.5*c[3],d[2]=t.sourceFrame.width*a[2]-.5*c[2],d[3]=t.sourceFrame.height*a[3]-.5*c[3],t.legacy){const g=s.filterArea;g[0]=t.destinationFrame.width,g[1]=t.destinationFrame.height,g[2]=t.sourceFrame.x,g[3]=t.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const p=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,t.renderTexture,p.renderTexture,Cs.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let g=t.renderTexture,_=this.getOptimalFilterTexture(g.width,g.height,t.resolution);_.filterFrame=g.filterFrame;let w=0;for(w=0;w<r.length-1;++w){w===1&&t.multisample>1&&(_=this.getOptimalFilterTexture(g.width,g.height,t.resolution),_.filterFrame=g.filterFrame),r[w].apply(this,g,_,Cs.CLEAR,t);const S=g;g=_,_=S}r[w].apply(this,g,p.renderTexture,Cs.BLEND,t),w>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(_)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Cs.CLEAR){const{renderTexture:r,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const c=this.tempRect;c.x=0,c.y=0,c.width=e.filterFrame.width,c.height=e.filterFrame.height,r.bind(e,e.filterFrame,c)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const a=s.stateId&1||this.forceClear;(t===Cs.CLEAR||t===Cs.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,s){const a=this.renderer;a.state.set(e.state),this.bindAndClear(r,s),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Xi.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Xi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:s}=this.activeState,{orig:a}=t._texture,c=e.set(s.width,0,0,s.height,r.x,r.y),d=t.worldTransform.copyTo(Ht.TEMP_MATRIX);return d.invert(),c.prepend(d),c.scale(1/a.width,1/a.height),c.translate(t.anchor.x,t.anchor.y),c}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,s=gr.NONE){return this.texturePool.getOptimalTexture(e,t,r,s)}getFilterTexture(e,t,r){if(typeof e=="number"){const a=e;e=t,t=a}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||gr.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=Dd[0],s=Dd[1],a=Dd[2],c=Dd[3];r.set(t.left,t.top),s.set(t.left,t.bottom),a.set(t.right,t.top),c.set(t.right,t.bottom),e.apply(r,r),e.apply(s,s),e.apply(a,a),e.apply(c,c);const d=Math.min(r.x,s.x,a.x,c.x),p=Math.min(r.y,s.y,a.y,c.y),g=Math.max(r.x,s.x,a.x,c.x),_=Math.max(r.y,s.y,a.y,c.y);t.x=d,t.y=p,t.width=g-d,t.height=_-p}roundFrame(e,t,r,s,a){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(a){const{a:c,b:d,c:p,d:g}=a;if((Math.abs(d)>1e-4||Math.abs(p)>1e-4)&&(Math.abs(c)>1e-4||Math.abs(g)>1e-4))return}a=a?bm.copyFrom(a):bm.identity(),a.translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.transformAABB(a,e),e.ceil(t),this.transformAABB(a.invert(),e)}}}T1.extension={type:Ne.RendererSystem,name:"filter"};Ve.add(T1);class nE{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=gr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const iE=new lt;class A1{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new sg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new lt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Be.PREFER_ENV===Wl.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=s=>t.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:s}=this;if(e){const a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=r),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let c=0;c<e.colorTextures.length;c++){const d=e.colorTextures[c];this.renderer.texture.unbind(d.parentTextureArray||d)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const c=t.width>>r,d=t.height>>r,p=c/t.width;this.setViewport(t.x*p,t.y*p,c,d)}else{const c=e.width>>r,d=e.height>>r;this.setViewport(0,0,c,d)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,s){const a=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),s=Math.round(s),(a.width!==r||a.height!==s||a.x!==e||a.y!==t)&&(a.x=e,a.y=t,a.width=r,a.height=s,this.gl.viewport(e,t,r,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,s,a=Wm.COLOR|Wm.DEPTH){const{gl:c}=this;c.clearColor(e,t,r,s),c.clear(a)}initFramebuffer(e){const{gl:t}=this,r=new nE(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){t.bindRenderbuffer(t.RENDERBUFFER,r.stencil);let c;this.renderer.context.webGLVersion===1?c=t.DEPTH_STENCIL:e.depth&&e.stencil?c=t.DEPTH24_STENCIL8:e.depth?c=t.DEPTH_COMPONENT24:c=t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,c,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,c,e.width,e.height)}const s=e.colorTextures;let a=s.length;t.drawBuffers||(a=Math.min(a,1));for(let c=0;c<a;c++){const d=s[c],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),c===0&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,s=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures;let c=a.length;r.drawBuffers||(c=Math.min(c,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||r.createRenderbuffer():s.msaaBuffer&&(r.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const d=[];for(let p=0;p<c;p++){const g=a[p],_=g.parentTextureArray||g;this.renderer.texture.bind(_,0),p===0&&s.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,s.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,_._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,s.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+p,g.target,_._glTextures[this.CONTEXT_UID].texture,t),d.push(r.COLOR_ATTACHMENT0+p))}if(d.length>1&&r.drawBuffers(d),e.depthTexture&&this.writeDepthTexture){const p=e.depthTexture;this.renderer.texture.bind(p,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||r.createRenderbuffer();let p,g;this.renderer.context.webGLVersion===1?(p=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH_STENCIL):e.depth&&e.stencil?(p=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH24_STENCIL8):e.depth?(p=r.DEPTH_ATTACHMENT,g=r.DEPTH_COMPONENT24):(p=r.STENCIL_ATTACHMENT,g=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,s.stencil),s.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,g,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,g,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,p,r.RENDERBUFFER,s.stencil)}else s.stencil&&(r.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=gr.NONE;if(e<=1||t===null)return r;for(let s=0;s<t.length;s++)if(t[s]<=e){r=t[s];break}return r===1&&(r=gr.NONE),r}blit(e,t,r){const{current:s,renderer:a,gl:c,CONTEXT_UID:d}=this;if(a.context.webGLVersion!==2||!s)return;const p=s.glFramebuffers[d];if(!p)return;if(!e){if(!p.msaaBuffer)return;const _=s.colorTextures[0];if(!_)return;p.blitFramebuffer||(p.blitFramebuffer=new sg(s.width,s.height),p.blitFramebuffer.addColorTexture(0,_)),e=p.blitFramebuffer,e.colorTextures[0]!==_&&(e.colorTextures[0]=_,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}t||(t=iE,t.width=s.width,t.height=s.height),r||(r=t);const g=t.width===r.width&&t.height===r.height;this.bind(e),c.bindFramebuffer(c.READ_FRAMEBUFFER,p.framebuffer),c.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,c.COLOR_BUFFER_BIT,g?c.NEAREST:c.LINEAR),c.bindFramebuffer(c.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),t||(s.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&s.deleteRenderbuffer(r.msaaBuffer),r.stencil&&s.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const r=e.width,s=e.height,a=this.gl,c=t.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,c);let d,p;this.renderer.context.webGLVersion===1?(d=a.DEPTH_STENCIL_ATTACHMENT,p=a.DEPTH_STENCIL):e.depth?(d=a.DEPTH_STENCIL_ATTACHMENT,p=a.DEPTH24_STENCIL8):(d=a.STENCIL_ATTACHMENT,p=a.STENCIL_INDEX8),t.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,t.multisample,p,r,s):a.renderbufferStorage(a.RENDERBUFFER,p,r,s),a.framebufferRenderbuffer(a.FRAMEBUFFER,d,a.RENDERBUFFER,c)}reset(){this.current=this.unknownFramebuffer,this.viewport=new lt}destroy(){this.renderer=null}}A1.extension={type:Ne.RendererSystem,name:"framebuffer"};Ve.add(A1);const Tm={5126:4,5123:2,5121:1};class C1{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;Be.PREFER_ENV===Wl.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=s=>r.bindVertexArrayOES(s),e.deleteVertexArray=s=>r.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(s,a)=>r.vertexAttribDivisorANGLE(s,a),e.drawElementsInstanced=(s,a,c,d,p)=>r.drawElementsInstancedANGLE(s,a,c,d,p),e.drawArraysInstanced=(s,a,c,d)=>r.drawArraysInstancedANGLE(s,a,c,d)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},a=!0);const c=s[t.program.id]||this.initGeometryVao(e,t,a);this._activeGeometry=e,this._activeVao!==c&&(this._activeVao=c,this.hasVao?r.bindVertexArray(c):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const s=e.buffers[r];t.update(s)}}checkCompatibility(e,t){const r=e.attributes,s=t.attributeData;for(const a in s)if(!r[a])throw new Error(`shader and geometry incompatible, geometry missing the "${a}" attribute`)}getSignature(e,t){const r=e.attributes,s=t.attributeData,a=["g",e.id];for(const c in r)s[c]&&a.push(c,s[c].location);return a.join("-")}initGeometryVao(e,t,r=!0){const s=this.gl,a=this.CONTEXT_UID,c=this.renderer.buffer,d=t.program;d.glPrograms[a]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,d);const p=this.getSignature(e,d),g=e.glVertexArrayObjects[this.CONTEXT_UID];let _=g[p];if(_)return g[d.id]=_,_;const w=e.buffers,S=e.attributes,b={},C={};for(const R in w)b[R]=0,C[R]=0;for(const R in S)!S[R].size&&d.attributeData[R]?S[R].size=d.attributeData[R].size:S[R].size||console.warn(`PIXI Geometry attribute '${R}' size cannot be determined (likely the bound shader does not have the attribute)`),b[S[R].buffer]+=S[R].size*Tm[S[R].type];for(const R in S){const A=S[R],k=A.size;A.stride===void 0&&(b[A.buffer]===k*Tm[A.type]?A.stride=0:A.stride=b[A.buffer]),A.start===void 0&&(A.start=C[A.buffer],C[A.buffer]+=k*Tm[A.type])}_=s.createVertexArray(),s.bindVertexArray(_);for(let R=0;R<w.length;R++){const A=w[R];c.bind(A),r&&A._glBuffers[a].refCount++}return this.activateVao(e,d),g[d.id]=_,g[p]=_,s.bindVertexArray(null),c.unbind(Is.ARRAY_BUFFER),_}disposeGeometry(e,t){var d;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,a=e.buffers,c=(d=this.renderer)==null?void 0:d.buffer;if(e.disposeRunner.remove(this),!!r){if(c)for(let p=0;p<a.length;p++){const g=a[p]._glBuffers[this.CONTEXT_UID];g&&(g.refCount--,g.refCount===0&&!t&&c.dispose(a[p],t))}if(!t){for(const p in r)if(p[0]==="g"){const g=r[p];this._activeVao===g&&this.unbind(),s.deleteVertexArray(g)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,c=e.buffers,d=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);let p=null;for(const g in d){const _=d[g],w=c[_.buffer],S=w._glBuffers[s];if(t.attributeData[g]){p!==S&&(a.bind(w),p=S);const b=t.attributeData[g].location;if(r.enableVertexAttribArray(b),r.vertexAttribPointer(b,_.size,_.type||r.FLOAT,_.normalized,_.stride,_.start),_.instance)if(this.hasInstance)r.vertexAttribDivisor(b,_.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,r,s){const{gl:a}=this,c=this._activeGeometry;if(c.indexBuffer){const d=c.indexBuffer.data.BYTES_PER_ELEMENT,p=d===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;d===2||d===4&&this.canUseUInt32ElementIndex?c.instanced?a.drawElementsInstanced(e,t||c.indexBuffer.data.length,p,(r||0)*d,s||1):a.drawElements(e,t||c.indexBuffer.data.length,p,(r||0)*d):console.warn("unsupported index buffer type: uint32")}else c.instanced?a.drawArraysInstanced(e,r,t||c.getSize(),s||1):a.drawArrays(e,r,t||c.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}C1.extension={type:Ne.RendererSystem,name:"geometry"};Ve.add(C1);const nv=new Ht;class Hg{constructor(e,t){this._texture=e,this.mapCoord=new Ht,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const r=this.mapCoord;for(let s=0;s<e.length;s+=2){const a=e[s],c=e[s+1];t[s]=a*r.a+c*r.c+r.tx,t[s+1]=a*r.b+c*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const s=t.orig,a=t.trim;a&&(nv.set(s.width/a.width,0,0,s.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(nv));const c=t.baseTexture,d=this.uClampFrame,p=this.clampMargin/c.resolution,g=this.clampOffset;return d[0]=(t._frame.x+p+g)/c.width,d[1]=(t._frame.y+p+g)/c.height,d[2]=(t._frame.x+t._frame.width-p+g)/c.width,d[3]=(t._frame.y+t._frame.height-p+g)/c.height,this.uClampOffset[0]=g/c.realWidth,this.uClampOffset[1]=g/c.realHeight,this.isSimple=t._frame.width===c.width&&t._frame.height===c.height&&t.rotate===0,!0}}var sE=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,oE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class aE extends mn{constructor(e,t,r){let s=null;typeof e!="string"&&t===void 0&&r===void 0&&(s=e,e=void 0,t=void 0,r=void 0),super(e||oE,t||sE,r),this.maskSprite=s,this.maskMatrix=new Ht}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,s){const a=this._maskSprite,c=a._texture;c.valid&&(c.uvMatrix||(c.uvMatrix=new Hg(c,0)),c.uvMatrix.update(),this.uniforms.npmAlpha=c.baseTexture.alphaMode?0:1,this.uniforms.mask=c,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,a).prepend(c.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=c.uvMatrix.uClampFrame,e.applyFilter(this,t,r,s))}}class lE{constructor(e=null){this.type=Er.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=mn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Er.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class P1{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const a=this.maskDataPool.pop()||new lE;a.pooled=!0,a.maskObject=t,r=a}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(s),r._colorMask=s?s._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==Er.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Er.SCISSOR:this.renderer.scissor.push(r);break;case Er.STENCIL:this.renderer.stencil.push(r);break;case Er.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Er.COLOR:this.pushColorMask(r);break}r.type===Er.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case Er.SCISSOR:this.renderer.scissor.pop(t);break;case Er.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case Er.SPRITE:this.popSpriteMask(t);break;case Er.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===Er.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=Er.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Er.SCISSOR:e.type=Er.STENCIL:e.type=Er.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new aE])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=t;const a=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,s),r.filterArea=a,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}P1.extension={type:Ne.RendererSystem,name:"mask"};Ve.add(P1);class I1{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==r&&(s===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const iv=new Ht,sv=[],R1=class Kd extends I1{constructor(e){super(e),this.glConst=Be.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:r}=e,{renderer:s}=this,a=s.renderTexture,c=r.getBounds(!0,sv.pop()??new lt);this.roundFrameToPixels(c,a.current?a.current.resolution:s.resolution,a.sourceFrame,a.destinationFrame,s.projection.transform),t&&c.fit(t),e._scissorRectLocal=c}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:s,d:a}=e;return(Math.abs(r)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(a)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||Kd.isMatrixRotated(t.worldTransform)||Kd.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const r=e._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(e,t,r,s,a){Kd.isMatrixRotated(a)||(a=a?iv.copyFrom(a):iv.identity(),a.translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.renderer.filter.transformAABB(a,e),e.fit(s),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&sv.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};R1.extension={type:Ne.RendererSystem,name:"scissor"};let uE=R1;Ve.add(uE);class M1 extends I1{constructor(e){super(e),this.glConst=Be.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const a=e._colorMask;a!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,s,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,a!==0&&(e._colorMask=a,r.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=r?r._colorMask:15;s!==0&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(r._colorMask=s,t.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}M1.extension={type:Ne.RendererSystem,name:"stencil"};Ve.add(M1);class k1{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return dt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return dt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return dt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}k1.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"_plugin"};Ve.add(k1);class N1{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ht,this.transform=null}update(e,t,r,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,s),this.transform&&this.projectionMatrix.append(this.transform);const a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)}calculateProjection(e,t,r,s){const a=this.projectionMatrix,c=s?-1:1;a.identity(),a.a=1/t.width*2,a.d=c*(1/t.height*2),a.tx=-1-t.x*a.a,a.ty=-c-t.y*a.d}setTransform(e){}destroy(){this.renderer=null}}N1.extension={type:Ne.RendererSystem,name:"projection"};Ve.add(N1);const hE=new Rf,ov=new lt;class D1{constructor(e){this.renderer=e,this._tempMatrix=new Ht}generateTexture(e,t){const{region:r,...s}=t||{},a=(r==null?void 0:r.copyTo(ov))||e.getLocalBounds(ov,!0),c=s.resolution||this.renderer.resolution;a.width=Math.max(a.width,1/c),a.height=Math.max(a.height,1/c),s.width=a.width,s.height=a.height,s.resolution=c,s.multisample??(s.multisample=this.renderer.multisample);const d=Vl.create(s);this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;const p=e.transform;return e.transform=hE,this.renderer.render(e,{renderTexture:d,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=p,d}destroy(){}}D1.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"textureGenerator"};Ve.add(D1);const kl=new lt,hc=new lt;class O1{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new lt,this.destinationFrame=new lt,this.viewportFrame=new lt}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){const s=this.renderer;this.current=e;let a,c,d;e?(a=e.baseTexture,d=a.resolution,t||(kl.width=e.frame.width,kl.height=e.frame.height,t=kl),r||(hc.x=e.frame.x,hc.y=e.frame.y,hc.width=t.width,hc.height=t.height,r=hc),c=a.framebuffer):(d=s.resolution,t||(kl.width=s._view.screen.width,kl.height=s._view.screen.height,t=kl),r||(r=kl,r.width=t.width,r.height=t.height));const p=this.viewportFrame;p.x=r.x*d,p.y=r.y*d,p.width=r.width*d,p.height=r.height*d,e||(p.y=s.view.height-(p.y+p.height)),p.ceil(),this.renderer.framebuffer.bind(c,p),this.renderer.projection.update(r,t,d,!c),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=zt.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const a=this.destinationFrame,c=this.current?this.current.baseTexture:this.renderer._view.screen,d=a.width!==c.width||a.height!==c.height;if(d){let{x:p,y:g,width:_,height:w}=this.viewportFrame;p=Math.round(p),g=Math.round(g),_=Math.round(_),w=Math.round(w),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(p,g,_,w)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,t),d&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}O1.extension={type:Ne.RendererSystem,name:"renderTexture"};Ve.add(O1);class cE{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function dE(i,e){const t={},r=e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES);for(let s=0;s<r;s++){const a=e.getActiveAttrib(i,s);if(a.name.startsWith("gl_"))continue;const c=_1(e,a.type),d={type:c,name:a.name,size:v1(c),location:e.getAttribLocation(i,a.name)};t[a.name]=d}return t}function fE(i,e){const t={},r=e.getProgramParameter(i,e.ACTIVE_UNIFORMS);for(let s=0;s<r;s++){const a=e.getActiveUniform(i,s),c=a.name.replace(/\[.*?\]$/,""),d=!!a.name.match(/\[.*?\]$/),p=_1(e,a.type);t[c]={name:c,index:s,type:p,size:a.size,isArray:d,value:g1(p,a.size)}}return t}function pE(i,e){var d;const t=K0(i,i.VERTEX_SHADER,e.vertexSrc),r=K0(i,i.FRAGMENT_SHADER,e.fragmentSrc),s=i.createProgram();i.attachShader(s,t),i.attachShader(s,r);const a=(d=e.extra)==null?void 0:d.transformFeedbackVaryings;if(a&&(typeof i.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):i.transformFeedbackVaryings(s,a.names,a.bufferMode==="separate"?i.SEPARATE_ATTRIBS:i.INTERLEAVED_ATTRIBS)),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)||jw(i,s,t,r),e.attributeData=dE(s,i),e.uniformData=fE(s,i),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const p=Object.keys(e.attributeData);p.sort((g,_)=>g>_?1:-1);for(let g=0;g<p.length;g++)e.attributeData[p[g]].location=g,i.bindAttribLocation(s,g,p[g]);i.linkProgram(s)}i.deleteShader(t),i.deleteShader(r);const c={};for(const p in e.uniformData){const g=e.uniformData[p];c[p]={location:i.getUniformLocation(s,p),value:g1(g.type,g.size)}}return new cE(s,c)}function mE(i,e,t,r,s){t.buffer.update(s)}const gE={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},F1={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function yE(i){const e=i.map(a=>({data:a,offset:0,dataLen:0,dirty:0}));let t=0,r=0,s=0;for(let a=0;a<e.length;a++){const c=e[a];if(t=F1[c.data.type],c.data.size>1&&(t=Math.max(t,16)*c.data.size),c.dataLen=t,r%t!==0&&r<16){const d=r%t%16;r+=d,s+=d}r+t>16?(s=Math.ceil(s/16)*16,c.offset=s,s+=t,r=t):(c.offset=s,r+=t,s+=t)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function vE(i,e){const t=[];for(const r in i)e[r]&&t.push(e[r]);return t.sort((r,s)=>r.index-s.index),t}function _E(i,e){if(!i.autoManage)return{size:0,syncFunc:mE};const t=vE(i.uniforms,e),{uboElements:r,size:s}=yE(t),a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let c=0;c<r.length;c++){const d=r[c],p=i.uniforms[d.data.name],g=d.data.name;let _=!1;for(let w=0;w<th.length;w++){const S=th[w];if(S.codeUbo&&S.test(d.data,p)){a.push(`offset = ${d.offset/4};`,th[w].codeUbo(d.data.name,p)),_=!0;break}}if(!_)if(d.data.size>1){const w=v1(d.data.type),S=Math.max(F1[d.data.type]/16,1),b=w/S,C=(4-b%4)%4;a.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};

                t = 0;

                for(var i=0; i < ${d.data.size*S}; i++)
                {
                    for(var j = 0; j < ${b}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${C};
                }

                `)}else{const w=gE[d.data.type];a.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};
                ${w};
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}let xE=0;const Od={textureCount:0,uboCount:0};class B1{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=xE++}systemCheck(){if(!Ww())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,s=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(s.program)),t||(Od.textureCount=0,Od.uboCount=0,this.syncUniformGroup(e.uniformGroup,Od)),s}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=zw(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const s=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),s(r.uniformData,e.uniforms,this.renderer,Od,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const a=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,s.uniformBlockBinding(t.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;const c=this.getSignature(e,this.shader.program.uniformData,"ubo");let d=this._uboCache[c];if(d||(d=this._uboCache[c]=_E(e,this.shader.program.uniformData)),e.autoManage){const p=new Float32Array(d.size/4);e.buffer.update(p)}return t.uniformGroups[e.id]=d.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const s=e.uniforms,a=[`${r}-`];for(const c in s)a.push(c),t[c]&&a.push(t[c].type);return a.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,s=pE(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}B1.extension={type:Ne.RendererSystem,name:"shader"};Ve.add(B1);class cf{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}cf.defaultOptions={hello:!1},cf.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"startup"};Ve.add(cf);function wE(i,e=[]){return e[rt.NORMAL]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.ADD]=[i.ONE,i.ONE],e[rt.MULTIPLY]=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.SCREEN]=[i.ONE,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.OVERLAY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.DARKEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.LIGHTEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.COLOR_DODGE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.COLOR_BURN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.HARD_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.SOFT_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.DIFFERENCE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.EXCLUSION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.HUE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.SATURATION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.COLOR]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.LUMINOSITY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.NONE]=[0,0],e[rt.NORMAL_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.ADD_NPM]=[i.SRC_ALPHA,i.ONE,i.ONE,i.ONE],e[rt.SCREEN_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[rt.SRC_IN]=[i.DST_ALPHA,i.ZERO],e[rt.SRC_OUT]=[i.ONE_MINUS_DST_ALPHA,i.ZERO],e[rt.SRC_ATOP]=[i.DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],e[rt.DST_OVER]=[i.ONE_MINUS_DST_ALPHA,i.ONE],e[rt.DST_IN]=[i.ZERO,i.SRC_ALPHA],e[rt.DST_OUT]=[i.ZERO,i.ONE_MINUS_SRC_ALPHA],e[rt.DST_ATOP]=[i.ONE_MINUS_DST_ALPHA,i.SRC_ALPHA],e[rt.XOR]=[i.ONE_MINUS_DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],e[rt.SUBTRACT]=[i.ONE,i.ONE,i.ONE,i.ONE,i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD],e}const EE=0,SE=1,bE=2,TE=3,AE=4,CE=5,L1=class og{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=rt.NONE,this._blendEq=!1,this.map=[],this.map[EE]=this.setBlend,this.map[SE]=this.setOffset,this.map[bE]=this.setCullFace,this.map[TE]=this.setDepthTest,this.map[AE]=this.setFrontFace,this.map[CE]=this.setDepthMask,this.checks=[],this.defaultState=new Ds,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=wE(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)t&1&&this.map[r].call(this,!!(e.data&1<<r)),t=t>>1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(og.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(og.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;t.length===2?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&r===-1?this.checks.push(e):!t&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};L1.extension={type:Ne.RendererSystem,name:"state"};let PE=L1;Ve.add(PE);class IE extends kc{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(s=>e.systems[s]),r=[...t,...Object.keys(e.systems).filter(s=>!t.includes(s))];for(const s of r)this.addSystem(e.systems[s],s)}addRunners(...e){e.forEach(t=>{this.runners[t]=new qi(t)})}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const s in this.runners)this.runners[s].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach(s=>{const a=r.find(c=>this._systemsHash[c]===s);s[e.name](t[a])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const gc=class Zd{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Zd.defaultMaxIdle,this.checkCountMax=Zd.defaultCheckCountMax,this.mode=Zd.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Fg.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let s=0;s<t.length;s++){const a=t[s];a.resource&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),t[s]=null,r=!0)}if(r){let s=0;for(let a=0;a<t.length;a++)t[a]!==null&&(t[s++]=t[a]);t.length=s}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};gc.defaultMode=Fg.AUTO,gc.defaultMaxIdle=60*60,gc.defaultCheckCountMax=60*10,gc.extension={type:Ne.RendererSystem,name:"textureGC"};let zl=gc;Ve.add(zl);class Am{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Qe.UNSIGNED_BYTE,this.internalFormat=Ce.RGBA,this.samplerType=0}}function RE(i){let e;return"WebGL2RenderingContext"in globalThis&&i instanceof globalThis.WebGL2RenderingContext?e={[i.RGB]:Fe.FLOAT,[i.RGBA]:Fe.FLOAT,[i.ALPHA]:Fe.FLOAT,[i.LUMINANCE]:Fe.FLOAT,[i.LUMINANCE_ALPHA]:Fe.FLOAT,[i.R8]:Fe.FLOAT,[i.R8_SNORM]:Fe.FLOAT,[i.RG8]:Fe.FLOAT,[i.RG8_SNORM]:Fe.FLOAT,[i.RGB8]:Fe.FLOAT,[i.RGB8_SNORM]:Fe.FLOAT,[i.RGB565]:Fe.FLOAT,[i.RGBA4]:Fe.FLOAT,[i.RGB5_A1]:Fe.FLOAT,[i.RGBA8]:Fe.FLOAT,[i.RGBA8_SNORM]:Fe.FLOAT,[i.RGB10_A2]:Fe.FLOAT,[i.RGB10_A2UI]:Fe.FLOAT,[i.SRGB8]:Fe.FLOAT,[i.SRGB8_ALPHA8]:Fe.FLOAT,[i.R16F]:Fe.FLOAT,[i.RG16F]:Fe.FLOAT,[i.RGB16F]:Fe.FLOAT,[i.RGBA16F]:Fe.FLOAT,[i.R32F]:Fe.FLOAT,[i.RG32F]:Fe.FLOAT,[i.RGB32F]:Fe.FLOAT,[i.RGBA32F]:Fe.FLOAT,[i.R11F_G11F_B10F]:Fe.FLOAT,[i.RGB9_E5]:Fe.FLOAT,[i.R8I]:Fe.INT,[i.R8UI]:Fe.UINT,[i.R16I]:Fe.INT,[i.R16UI]:Fe.UINT,[i.R32I]:Fe.INT,[i.R32UI]:Fe.UINT,[i.RG8I]:Fe.INT,[i.RG8UI]:Fe.UINT,[i.RG16I]:Fe.INT,[i.RG16UI]:Fe.UINT,[i.RG32I]:Fe.INT,[i.RG32UI]:Fe.UINT,[i.RGB8I]:Fe.INT,[i.RGB8UI]:Fe.UINT,[i.RGB16I]:Fe.INT,[i.RGB16UI]:Fe.UINT,[i.RGB32I]:Fe.INT,[i.RGB32UI]:Fe.UINT,[i.RGBA8I]:Fe.INT,[i.RGBA8UI]:Fe.UINT,[i.RGBA16I]:Fe.INT,[i.RGBA16UI]:Fe.UINT,[i.RGBA32I]:Fe.INT,[i.RGBA32UI]:Fe.UINT,[i.DEPTH_COMPONENT16]:Fe.FLOAT,[i.DEPTH_COMPONENT24]:Fe.FLOAT,[i.DEPTH_COMPONENT32F]:Fe.FLOAT,[i.DEPTH_STENCIL]:Fe.FLOAT,[i.DEPTH24_STENCIL8]:Fe.FLOAT,[i.DEPTH32F_STENCIL8]:Fe.FLOAT}:e={[i.RGB]:Fe.FLOAT,[i.RGBA]:Fe.FLOAT,[i.ALPHA]:Fe.FLOAT,[i.LUMINANCE]:Fe.FLOAT,[i.LUMINANCE_ALPHA]:Fe.FLOAT,[i.DEPTH_STENCIL]:Fe.FLOAT},e}function ME(i){let e;return"WebGL2RenderingContext"in globalThis&&i instanceof globalThis.WebGL2RenderingContext?e={[Qe.UNSIGNED_BYTE]:{[Ce.RGBA]:i.RGBA8,[Ce.RGB]:i.RGB8,[Ce.RG]:i.RG8,[Ce.RED]:i.R8,[Ce.RGBA_INTEGER]:i.RGBA8UI,[Ce.RGB_INTEGER]:i.RGB8UI,[Ce.RG_INTEGER]:i.RG8UI,[Ce.RED_INTEGER]:i.R8UI,[Ce.ALPHA]:i.ALPHA,[Ce.LUMINANCE]:i.LUMINANCE,[Ce.LUMINANCE_ALPHA]:i.LUMINANCE_ALPHA},[Qe.BYTE]:{[Ce.RGBA]:i.RGBA8_SNORM,[Ce.RGB]:i.RGB8_SNORM,[Ce.RG]:i.RG8_SNORM,[Ce.RED]:i.R8_SNORM,[Ce.RGBA_INTEGER]:i.RGBA8I,[Ce.RGB_INTEGER]:i.RGB8I,[Ce.RG_INTEGER]:i.RG8I,[Ce.RED_INTEGER]:i.R8I},[Qe.UNSIGNED_SHORT]:{[Ce.RGBA_INTEGER]:i.RGBA16UI,[Ce.RGB_INTEGER]:i.RGB16UI,[Ce.RG_INTEGER]:i.RG16UI,[Ce.RED_INTEGER]:i.R16UI,[Ce.DEPTH_COMPONENT]:i.DEPTH_COMPONENT16},[Qe.SHORT]:{[Ce.RGBA_INTEGER]:i.RGBA16I,[Ce.RGB_INTEGER]:i.RGB16I,[Ce.RG_INTEGER]:i.RG16I,[Ce.RED_INTEGER]:i.R16I},[Qe.UNSIGNED_INT]:{[Ce.RGBA_INTEGER]:i.RGBA32UI,[Ce.RGB_INTEGER]:i.RGB32UI,[Ce.RG_INTEGER]:i.RG32UI,[Ce.RED_INTEGER]:i.R32UI,[Ce.DEPTH_COMPONENT]:i.DEPTH_COMPONENT24},[Qe.INT]:{[Ce.RGBA_INTEGER]:i.RGBA32I,[Ce.RGB_INTEGER]:i.RGB32I,[Ce.RG_INTEGER]:i.RG32I,[Ce.RED_INTEGER]:i.R32I},[Qe.FLOAT]:{[Ce.RGBA]:i.RGBA32F,[Ce.RGB]:i.RGB32F,[Ce.RG]:i.RG32F,[Ce.RED]:i.R32F,[Ce.DEPTH_COMPONENT]:i.DEPTH_COMPONENT32F},[Qe.HALF_FLOAT]:{[Ce.RGBA]:i.RGBA16F,[Ce.RGB]:i.RGB16F,[Ce.RG]:i.RG16F,[Ce.RED]:i.R16F},[Qe.UNSIGNED_SHORT_5_6_5]:{[Ce.RGB]:i.RGB565},[Qe.UNSIGNED_SHORT_4_4_4_4]:{[Ce.RGBA]:i.RGBA4},[Qe.UNSIGNED_SHORT_5_5_5_1]:{[Ce.RGBA]:i.RGB5_A1},[Qe.UNSIGNED_INT_2_10_10_10_REV]:{[Ce.RGBA]:i.RGB10_A2,[Ce.RGBA_INTEGER]:i.RGB10_A2UI},[Qe.UNSIGNED_INT_10F_11F_11F_REV]:{[Ce.RGB]:i.R11F_G11F_B10F},[Qe.UNSIGNED_INT_5_9_9_9_REV]:{[Ce.RGB]:i.RGB9_E5},[Qe.UNSIGNED_INT_24_8]:{[Ce.DEPTH_STENCIL]:i.DEPTH24_STENCIL8},[Qe.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Ce.DEPTH_STENCIL]:i.DEPTH32F_STENCIL8}}:e={[Qe.UNSIGNED_BYTE]:{[Ce.RGBA]:i.RGBA,[Ce.RGB]:i.RGB,[Ce.ALPHA]:i.ALPHA,[Ce.LUMINANCE]:i.LUMINANCE,[Ce.LUMINANCE_ALPHA]:i.LUMINANCE_ALPHA},[Qe.UNSIGNED_SHORT_5_6_5]:{[Ce.RGB]:i.RGB},[Qe.UNSIGNED_SHORT_4_4_4_4]:{[Ce.RGBA]:i.RGBA},[Qe.UNSIGNED_SHORT_5_5_5_1]:{[Ce.RGBA]:i.RGBA}},e}class U1{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ot,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=ME(e),this.samplerTypes=RE(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let s=0;s<t;s++)this.boundTextures[s]=null;this.emptyTextures={};const r=new Am(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Am(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,t=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<r.length;s++)r[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<r.length;s++)r[s]===e&&(this.currentLocation!==s&&(t.activeTexture(t.TEXTURE0+s),this.currentLocation=s),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[s]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:s}=this;if(r)for(let a=e-1;a>=0;--a){const c=t[a];c&&c._glTextures[s].samplerType!==Fe.FLOAT&&this.renderer.texture.unbind(c)}}initTexture(e){const t=new Am(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var r;t.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??Fe.FLOAT,this.webGLVersion===2&&e.type===Qe.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var s;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const r=this.renderer;if(this.initTextureType(e,t),(s=e.resource)==null?void 0:s.upload(r,e,t))t.samplerType!==Fe.FLOAT&&(this.hasIntegerTextures=!0);else{const a=e.realWidth,c=e.realHeight,d=r.gl;(t.width!==a||t.height!==c||t.dirtyId<0)&&(t.width=a,t.height=c,d.texImage2D(e.target,0,t.internalFormat,a,c,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const s=this.managedTextures.indexOf(e);s!==-1&&eh(this.managedTextures,s,1)}}updateTextureStyle(e){var r;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===Ms.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=Eo.CLAMP:t.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==Ms.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===vo.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===vo.LINEAR){const a=Math.min(e.anisotropicLevel,r.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===vo.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===vo.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}U1.extension={type:Ne.RendererSystem,name:"texture"};Ve.add(U1);class z1{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:s}=this;t&&s.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:s}=this,a=t.createTransformFeedback();e._glTransformFeedbacks[s]=a,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,a);for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];d&&(r.buffer.update(d),d._glBuffers[s].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,c,d._glBuffers[s].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),a}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const a=this.renderer.buffer;if(a)for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];if(!d)continue;const p=d._glBuffers[this.CONTEXT_UID];p&&(p.refCount--,p.refCount===0&&!t&&a.dispose(d,t))}r&&(t||s.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}z1.extension={type:Ne.RendererSystem,name:"transformFeedback"};Ve.add(z1);class df{constructor(e){this.renderer=e}init(e){this.screen=new lt(0,0,e.width,e.height),this.element=e.view||Be.ADAPTER.createCanvas(),this.resolution=e.resolution||Be.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=r,this.screen.height=s,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${s}px`),this.renderer.emit("resize",r,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}df.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},df.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"_view"};Ve.add(df);Be.PREFER_ENV=Wl.WEBGL2;Be.STRICT_TEXTURE_CACHE=!1;Be.RENDER_OPTIONS={...hf.defaultOptions,...uf.defaultOptions,...df.defaultOptions,...cf.defaultOptions};Object.defineProperties(Be,{WRAP_MODE:{get(){return ot.defaultOptions.wrapMode},set(i){dt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ot.defaultOptions.wrapMode=i}},SCALE_MODE:{get(){return ot.defaultOptions.scaleMode},set(i){dt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ot.defaultOptions.scaleMode=i}},MIPMAP_TEXTURES:{get(){return ot.defaultOptions.mipmap},set(i){dt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ot.defaultOptions.mipmap=i}},ANISOTROPIC_LEVEL:{get(){return ot.defaultOptions.anisotropicLevel},set(i){dt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ot.defaultOptions.anisotropicLevel=i}},FILTER_RESOLUTION:{get(){return dt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),mn.defaultResolution},set(i){mn.defaultResolution=i}},FILTER_MULTISAMPLE:{get(){return dt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),mn.defaultMultisample},set(i){mn.defaultMultisample=i}},SPRITE_MAX_TEXTURES:{get(){return Ul.defaultMaxTextures},set(i){dt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Ul.defaultMaxTextures=i}},SPRITE_BATCH_SIZE:{get(){return Ul.defaultBatchSize},set(i){dt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Ul.defaultBatchSize=i}},CAN_UPLOAD_SAME_BUFFER:{get(){return Ul.canUploadSameBuffer},set(i){dt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Ul.canUploadSameBuffer=i}},GC_MODE:{get(){return zl.defaultMode},set(i){dt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),zl.defaultMode=i}},GC_MAX_IDLE:{get(){return zl.defaultMaxIdle},set(i){dt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),zl.defaultMaxIdle=i}},GC_MAX_CHECK_COUNT:{get(){return zl.defaultCheckCountMax},set(i){dt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),zl.defaultCheckCountMax=i}},PRECISION_VERTEX:{get(){return xo.defaultVertexPrecision},set(i){dt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),xo.defaultVertexPrecision=i}},PRECISION_FRAGMENT:{get(){return xo.defaultFragmentPrecision},set(i){dt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),xo.defaultFragmentPrecision=i}}});var Ca=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(Ca||{});class Cm{constructor(e,t=null,r=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=s}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const G1=class Jn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Cm(null,null,1/0),this.deltaMS=1/Jn.targetFPMS,this.elapsedMS=1/Jn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=Ca.NORMAL){return this._addListener(new Cm(e,t,r))}addOnce(e,t,r=Ca.NORMAL){return this._addListener(new Cm(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Jn.targetFPMS;const r=this._head;let s=r.next;for(;s;)s=s.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,Jn.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Jn._shared){const e=Jn._shared=new Jn;e.autoStart=!0,e._protected=!0}return Jn._shared}static get system(){if(!Jn._system){const e=Jn._system=new Jn;e.autoStart=!0,e._protected=!0}return Jn._system}};G1.targetFPMS=.06;let Dr=G1;Object.defineProperties(Be,{TARGET_FPMS:{get(){return Dr.targetFPMS},set(i){dt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Dr.targetFPMS=i}}});class H1{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Ca.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Dr.shared:new Dr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}H1.extension=Ne.Application;Ve.add(H1);const j1=[];Ve.handleByList(Ne.Renderer,j1);function kE(i){for(const e of j1)if(e.test(i))return new e(i);throw new Error("Unable to auto-detect a suitable renderer.")}var NE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,DE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const OE=NE,$1=DE;class W1{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=gr.HIGH?this.multisample=gr.HIGH:t>=gr.MEDIUM?this.multisample=gr.MEDIUM:t>=gr.LOW?this.multisample=gr.LOW:this.multisample=gr.NONE}destroy(){}}W1.extension={type:Ne.RendererSystem,name:"_multisample"};Ve.add(W1);class FE{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class V1{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:s}=this;if(this.boundBufferBases[t]!==e){const a=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,a.buffer)}}bindBufferRange(e,t,r){const{gl:s,CONTEXT_UID:a}=this;r=r||0;const c=e._glBuffers[a]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,t||0,c.buffer,r*256,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,t.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const a=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,a)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),r&&(t||s.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new FE(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}V1.extension={type:Ne.RendererSystem,name:"buffer"};Ve.add(V1);class X1{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let s,a,c,d;if(t&&(s=t.renderTexture,a=t.clear,c=t.transform,d=t.skipUpdateTransform),this.renderingToScreen=!s,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=c,!r.context.isLost){if(s||(this.lastObjectRendered=e),!d){const p=e.enableTempParent();e.updateTransform(),e.disableTempParent(p)}r.renderTexture.bind(s),r.batch.currentRenderer.start(),(a??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),s&&(t.blit&&r.framebuffer.blit(),s.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}X1.extension={type:Ne.RendererSystem,name:"objectRenderer"};Ve.add(X1);const Jd=class ag extends IE{constructor(e){super(),this.type=r1.WEBGL,e=Object.assign({},Be.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Qi({projectionMatrix:new Ht},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:ag.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(dt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=ag.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:sw()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return dt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return dt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return dt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return dt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){dt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return dt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){dt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return dt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};Jd.extension={type:Ne.Renderer,priority:1},Jd.__plugins={},Jd.__systems={};let jg=Jd;Ve.handleByMap(Ne.RendererPlugin,jg.__plugins);Ve.handleByMap(Ne.RendererSystem,jg.__systems);Ve.add(jg);class Y1 extends Cc{constructor(e,t){const{width:r,height:s}=t||{};super(r,s),this.items=[],this.itemDirtyIds=[];for(let a=0;a<e;a++){const c=new ot;this.items.push(c),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Cc?this.addResourceAt(e[r],r):this.addResourceAt(f1(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:r}=this.items[0];return this.resize(t,r),this.update(),Promise.resolve(this)}),this._load}}class BE extends Y1{constructor(e,t){const{width:r,height:s}=t||{};let a,c;Array.isArray(e)?(a=e,c=e.length):c=e,super(c,{width:r,height:s}),a&&this.initFromArray(a,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Ju.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:s,itemDirtyIds:a,items:c}=this,{gl:d}=e;r.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,t.format,r.type,null);for(let p=0;p<s;p++){const g=c[p];a[p]<g.dirtyId&&(a[p]=g.dirtyId,g.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,p,g.resource.width,g.resource.height,1,t.format,r.type,g.resource.source))}return!0}}class LE extends bo{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const q1=class yc extends Y1{constructor(e,t){const{width:r,height:s,autoLoad:a,linkBaseTexture:c}=t||{};if(e&&e.length!==yc.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:r,height:s});for(let d=0;d<yc.SIDES;d++)this.items[d].target=Ju.TEXTURE_CUBE_MAP_POSITIVE_X+d;this.linkBaseTexture=c!==!1,e&&this.initFromArray(e,t),a!==!1&&this.load()}bind(e){super.bind(e),e.target=Ju.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Ju.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,r){const s=this.itemDirtyIds;for(let a=0;a<yc.SIDES;a++){const c=this.items[a];(s[a]<c.dirtyId||r.dirtyId<t.dirtyId)&&(c.valid&&c.resource?(c.resource.upload(e,c,r),s[a]=c.dirtyId):s[a]<-1&&(e.gl.texImage2D(c.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),s[a]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===yc.SIDES}};q1.SIDES=6;let UE=q1;class Ku extends bo{constructor(e,t){t=t||{};let r,s,a;typeof e=="string"?(r=Ku.EMPTY,s=e,a=!0):(r=e,s=null,a=!1),super(r),this.url=s,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??a,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const r=await Be.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await r.blob();if(this.destroyed)return;const a=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ln.UNPACK?"premultiply":"none"});if(this.destroyed){a.close();return}this.source=a,this.update(),e(this)}catch(r){if(this.destroyed)return;t(r),this.onError.emit(r)}}),this._load)}upload(e,t,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Ku._EMPTY=Ku._EMPTY??Be.ADAPTER.createCanvas(0,0),Ku._EMPTY}}const lg=class ef extends bo{constructor(e,t){t=t||{},super(Be.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},ef.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;bo.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=t*this.scale,a=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/r*t,a=this._overrideHeight||this._overrideWidth/t*r),s=Math.round(s),a=Math.round(a);const c=this.source;c.width=s,c.height=a,c._pixiId=`canvas_${$l()}`,c.getContext("2d").drawImage(e,0,0,t,r,0,0,s,a),this._resolve(),this._resolve=null}}static getSize(e){const t=ef.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&ef.SVG_XML.test(e)}};lg.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,lg.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let ug=lg;class zE extends bo{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const hg=class cg extends bo{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const r=document.createElement("video");t.autoLoad!==!1&&r.setAttribute("preload","auto"),t.playsinline!==!1&&(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","")),t.muted===!0&&(r.setAttribute("muted",""),r.muted=!0),t.loop===!0&&r.setAttribute("loop",""),t.autoPlay!==!1&&r.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];bo.crossOrigin(r,s,t.crossorigin);for(let a=0;a<e.length;++a){const c=document.createElement("source");let{src:d,mime:p}=e[a];if(d=d||e[a],d.startsWith("data:"))p=d.slice(5,d.indexOf(";"));else if(!d.startsWith("blob:")){const g=d.split("?").shift().toLowerCase(),_=g.slice(g.lastIndexOf(".")+1);p=p||cg.MIME_TYPES[_]||`video/${_}`}c.src=d,p&&(c.type=p),r.appendChild(c)}e=r}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=Dr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Dr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Dr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Dr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||cg.TYPES.includes(t)}};hg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],hg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Q1=hg;Km.push(Ku,E1,LE,Q1,zE,ug,Af,UE,BE);class ff{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?lt.EMPTY:(e=e||new lt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:r,b:s,c:a,d:c,tx:d,ty:p}=e,g=r*t.x+a*t.y+d,_=s*t.x+c*t.y+p;this.minX=Math.min(this.minX,g),this.maxX=Math.max(this.maxX,g),this.minY=Math.min(this.minY,_),this.maxY=Math.max(this.maxY,_)}addQuad(e){let t=this.minX,r=this.minY,s=this.maxX,a=this.maxY,c=e[0],d=e[1];t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,a=d>a?d:a,c=e[2],d=e[3],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,a=d>a?d:a,c=e[4],d=e[5],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,a=d>a?d:a,c=e[6],d=e[7],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,a=d>a?d:a,this.minX=t,this.minY=r,this.maxX=s,this.maxY=a}addFrame(e,t,r,s,a){this.addFrameMatrix(e.worldTransform,t,r,s,a)}addFrameMatrix(e,t,r,s,a){const c=e.a,d=e.b,p=e.c,g=e.d,_=e.tx,w=e.ty;let S=this.minX,b=this.minY,C=this.maxX,R=this.maxY,A=c*t+p*r+_,k=d*t+g*r+w;S=A<S?A:S,b=k<b?k:b,C=A>C?A:C,R=k>R?k:R,A=c*s+p*r+_,k=d*s+g*r+w,S=A<S?A:S,b=k<b?k:b,C=A>C?A:C,R=k>R?k:R,A=c*t+p*a+_,k=d*t+g*a+w,S=A<S?A:S,b=k<b?k:b,C=A>C?A:C,R=k>R?k:R,A=c*s+p*a+_,k=d*s+g*a+w,S=A<S?A:S,b=k<b?k:b,C=A>C?A:C,R=k>R?k:R,this.minX=S,this.minY=b,this.maxX=C,this.maxY=R}addVertexData(e,t,r){let s=this.minX,a=this.minY,c=this.maxX,d=this.maxY;for(let p=t;p<r;p+=2){const g=e[p],_=e[p+1];s=g<s?g:s,a=_<a?_:a,c=g>c?g:c,d=_>d?_:d}this.minX=s,this.minY=a,this.maxX=c,this.maxY=d}addVertices(e,t,r,s){this.addVerticesMatrix(e.worldTransform,t,r,s)}addVerticesMatrix(e,t,r,s,a=0,c=a){const d=e.a,p=e.b,g=e.c,_=e.d,w=e.tx,S=e.ty;let b=this.minX,C=this.minY,R=this.maxX,A=this.maxY;for(let k=r;k<s;k+=2){const U=t[k],D=t[k+1],$=d*U+g*D+w,O=_*D+p*U+S;b=Math.min(b,$-a),R=Math.max(R,$+a),C=Math.min(C,O-c),A=Math.max(A,O+c)}this.minX=b,this.minY=C,this.maxX=R,this.maxY=A}addBounds(e){const t=this.minX,r=this.minY,s=this.maxX,a=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>a?e.maxY:a}addBoundsMask(e,t){const r=e.minX>t.minX?e.minX:t.minX,s=e.minY>t.minY?e.minY:t.minY,a=e.maxX<t.maxX?e.maxX:t.maxX,c=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=a&&s<=c){const d=this.minX,p=this.minY,g=this.maxX,_=this.maxY;this.minX=r<d?r:d,this.minY=s<p?s:p,this.maxX=a>g?a:g,this.maxY=c>_?c:_}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const r=e.minX>t.x?e.minX:t.x,s=e.minY>t.y?e.minY:t.y,a=e.maxX<t.x+t.width?e.maxX:t.x+t.width,c=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=a&&s<=c){const d=this.minX,p=this.minY,g=this.maxX,_=this.maxY;this.minX=r<d?r:d,this.minY=s<p?s:p,this.maxX=a>g?a:g,this.maxY=c>_?c:_}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,s,a,c){e-=a,t-=c,r+=a,s+=c,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>s?this.maxY:s}}class Xt extends kc{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Rf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new ff,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let r=0;r<t.length;++r){const s=t[r];Object.defineProperty(Xt.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new lt),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ff);const t=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(r==null?void 0:r.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,a=this._boundsID;this._bounds=this._localBounds;const c=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=s,this._bounds.updateID+=this._boundsID-a,c}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,s){return t&&(e=t.toGlobal(e,r,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,r=1,s=1,a=0,c=0,d=0,p=0,g=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=s||1,this.rotation=a,this.skew.x=c,this.skew.y=d,this.pivot.x=p,this.pivot.y=g,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new GE),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Nw}set angle(e){this.transform.rotation=e*Dw}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class GE extends Xt{constructor(){super(...arguments),this.sortDirty=null}}Xt.prototype.displayObjectUpdateTransform=Xt.prototype.updateTransform;const HE=new Ht;function jE(i,e){return i.zIndex===e.zIndex?i._lastSortedIndex-e._lastSortedIndex:i.zIndex-e.zIndex}const K1=class dg extends Xt{constructor(){super(),this.children=[],this.sortableChildren=dg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),s=this.getChildIndex(t);this.children[r]=t,this.children[s]=e,this.onChildrenChange(r<s?r:s)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(e);eh(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],r=this.children.indexOf(t);if(r===-1)return null;t.parent=null,t.transform._parentID=-1,eh(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,eh(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const r=e,s=t,a=s-r;let c;if(a>0&&a<=s){c=this.children.splice(r,a);for(let d=0;d<c.length;++d)c[d].parent=null,c[d].transform&&(c[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let d=0;d<c.length;++d)c[d].emit("removed",this),this.emit("childRemoved",c[d],this,d);return c}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){const s=this.children[t];s._lastSortedIndex=t,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(jE),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const r=this.children[e];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const r=super.getLocalBounds(e);if(!t)for(let s=0,a=this.children.length;s<a;++s){const c=this.children[s];c.visible&&c.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let r,s;this.cullArea?(r=this.cullArea,s=this.worldTransform):this._render!==dg.prototype._render&&(r=this.getBounds(!0));const a=e.projection.transform;if(a&&(s?(s=HE.copyFrom(s),s.prepend(a)):s=a),r&&t.intersects(r,s))this._render(e);else if(this.cullArea)return;for(let c=0,d=this.children.length;c<d;++c){const p=this.children[c],g=p.cullable;p.cullable=g||!this.cullArea,p.render(e),p.cullable=g}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(t=this.filters)!=null&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let r=0,s=this.children.length;r<s;++r)this.children[r].render(e)}}renderAdvanced(e){var a,c,d;const t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let p=0;p<t.length;p++)t[p].enabled&&this._enabledFilters.push(t[p])}const s=t&&((a=this._enabledFilters)==null?void 0:a.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Er.NONE));if(s&&e.batch.flush(),t&&((c=this._enabledFilters)!=null&&c.length)&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let p=0,g=this.children.length;p<g;++p)this.children[p].render(e)}s&&e.batch.flush(),r&&e.mask.pop(this),t&&((d=this._enabledFilters)!=null&&d.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(let s=0;s<r.length;++s)r[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};K1.defaultSortableChildren=!1;let gn=K1;gn.prototype.containerUpdateTransform=gn.prototype.updateTransform;Object.defineProperties(Be,{SORTABLE_CHILDREN:{get(){return gn.defaultSortableChildren},set(i){dt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),gn.defaultSortableChildren=i}}});const cc=new ft,$E=new Uint16Array([0,1,2,0,2,3]);class Os extends gn{constructor(e){super(),this._anchor=new Ps(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new zt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=rt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ke.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=$E,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Be.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Sa(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Sa(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,r=t.a,s=t.b,a=t.c,c=t.d,d=t.tx,p=t.ty,g=this.vertexData,_=e.trim,w=e.orig,S=this._anchor;let b=0,C=0,R=0,A=0;if(_?(C=_.x-S._x*w.width,b=C+_.width,A=_.y-S._y*w.height,R=A+_.height):(C=-S._x*w.width,b=C+w.width,A=-S._y*w.height,R=A+w.height),g[0]=r*C+a*A+d,g[1]=c*A+s*C+p,g[2]=r*b+a*A+d,g[3]=c*A+s*b+p,g[4]=r*b+a*R+d,g[5]=c*R+s*b+p,g[6]=r*C+a*R+d,g[7]=c*R+s*C+p,this._roundPixels){const k=Be.RESOLUTION;for(let U=0;U<g.length;++U)g[U]=Math.round(g[U]*k)/k}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,r=e.orig,s=this._anchor,a=this.transform.worldTransform,c=a.a,d=a.b,p=a.c,g=a.d,_=a.tx,w=a.ty,S=-s._x*r.width,b=S+r.width,C=-s._y*r.height,R=C+r.height;if(t[0]=c*S+p*C+_,t[1]=g*C+d*S+w,t[2]=c*b+p*C+_,t[3]=g*C+d*b+w,t[4]=c*b+p*R+_,t[5]=g*R+d*b+w,t[6]=c*S+p*R+_,t[7]=g*R+d*S+w,this._roundPixels){const A=Be.RESOLUTION;for(let k=0;k<t.length;++k)t[k]=Math.round(t[k]*A)/A}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new ff),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,cc);const t=this._texture.orig.width,r=this._texture.orig.height,s=-t*this.anchor.x;let a=0;return cc.x>=s&&cc.x<s+t&&(a=-r*this.anchor.y,cc.y>=a&&cc.y<a+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const t=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const r=e instanceof ke?e:ke.from(e,t);return new Os(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=Sa(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=Sa(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ke.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Z1=new Ht;Xt.prototype._cacheAsBitmap=!1;Xt.prototype._cacheData=null;Xt.prototype._cacheAsBitmapResolution=null;Xt.prototype._cacheAsBitmapMultisample=null;class WE{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Xt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(i){i!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(i){i!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(i){if(this._cacheAsBitmap===i)return;this._cacheAsBitmap=i;let e;i?(this._cacheData||(this._cacheData=new WE),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Xt.prototype._renderCached=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(i),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(i))};Xt.prototype._initCachedDisplayObject=function(i){var S,b;if((S=this._cacheData)!=null&&S.sprite)return;const e=this.alpha;this.alpha=1,i.batch.flush();const t=this.getLocalBounds(new lt,!0);if((b=this.filters)!=null&&b.length){const C=this.filters[0].padding;t.pad(C)}const r=this.cacheAsBitmapResolution||i.resolution;t.ceil(r),t.width=Math.max(t.width,1/r),t.height=Math.max(t.height,1/r);const s=i.renderTexture.current,a=i.renderTexture.sourceFrame.clone(),c=i.renderTexture.destinationFrame.clone(),d=i.projection.transform,p=Vl.create({width:t.width,height:t.height,resolution:r,multisample:this.cacheAsBitmapMultisample??i.multisample}),g=`cacheAsBitmap_${$l()}`;this._cacheData.textureCacheId=g,ot.addToCache(p.baseTexture,g),ke.addToCache(p,g);const _=this.transform.localTransform.copyTo(Z1).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,i.render(this,{renderTexture:p,clear:!0,transform:_,skipUpdateTransform:!1}),i.framebuffer.blit(),i.projection.transform=d,i.renderTexture.bind(s,a,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const w=new Os(p);w.transform.worldTransform=this.transform.worldTransform,w.anchor.x=-(t.x/t.width),w.anchor.y=-(t.y/t.height),w.alpha=e,w._bounds=this._bounds,this._cacheData.sprite=w,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=w.containsPoint.bind(w)};Xt.prototype._renderCachedCanvas=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(i),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(i))};Xt.prototype._initCachedDisplayObjectCanvas=function(i){var _;if((_=this._cacheData)!=null&&_.sprite)return;const e=this.getLocalBounds(new lt,!0),t=this.alpha;this.alpha=1;const r=i.canvasContext.activeContext,s=i._projTransform,a=this.cacheAsBitmapResolution||i.resolution;e.ceil(a),e.width=Math.max(e.width,1/a),e.height=Math.max(e.height,1/a);const c=Vl.create({width:e.width,height:e.height,resolution:a}),d=`cacheAsBitmap_${$l()}`;this._cacheData.textureCacheId=d,ot.addToCache(c.baseTexture,d),ke.addToCache(c,d);const p=Z1;this.transform.localTransform.copyTo(p),p.invert(),p.tx-=e.x,p.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,i.render(this,{renderTexture:c,clear:!0,transform:p,skipUpdateTransform:!1}),i.canvasContext.activeContext=r,i._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const g=new Os(c);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(e.x/e.width),g.anchor.y=-(e.y/e.height),g.alpha=t,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=i._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=g.containsPoint.bind(g)};Xt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Xt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Xt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ot.removeFromCache(this._cacheData.textureCacheId),ke.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Xt.prototype._cacheAsBitmapDestroy=function(i){this.cacheAsBitmap=!1,this.destroy(i)};Xt.prototype.name=null;gn.prototype.getChildByName=function(i,e){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].name===i)return this.children[t];if(e)for(let t=0,r=this.children.length;t<r;t++){const s=this.children[t];if(!s.getChildByName)continue;const a=s.getChildByName(i,!0);if(a)return a}return null};Xt.prototype.getGlobalPosition=function(i=new ft,e=!1){return this.parent?this.parent.toGlobal(this.position,i,e):(i.x=this.position.x,i.y=this.position.y),i};var VE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class XE extends mn{constructor(e=1){super(OE,VE,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const YE={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},qE=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function QE(i){const e=YE[i],t=e.length;let r=qE,s="";const a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let c;for(let d=0;d<i;d++){let p=a.replace("%index%",d.toString());c=d,d>=t&&(c=i-d-1),p=p.replace("%value%",e[c].toString()),s+=p,s+=`
`}return r=r.replace("%blur%",s),r=r.replace("%size%",i.toString()),r}const KE=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function ZE(i,e){const t=Math.ceil(i/2);let r=KE,s="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let c=0;c<i;c++){let d=a.replace("%index%",c.toString());d=d.replace("%sampleIndex%",`${c-(t-1)}.0`),s+=d,s+=`
`}return r=r.replace("%blur%",s),r=r.replace("%size%",i.toString()),r}class fg extends mn{constructor(e,t=8,r=4,s=mn.defaultResolution,a=5){const c=ZE(a,e),d=QE(a);super(c,d),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,s){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,r,s);else{const a=e.getFilterTexture(),c=e.renderer;let d=t,p=a;this.state.blend=!1,e.applyFilter(this,d,p,Cs.CLEAR);for(let g=1;g<this.passes-1;g++){e.bindAndClear(d,Cs.BLIT),this.uniforms.uSampler=p;const _=p;p=d,d=_,c.shader.bind(this),c.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,p,r,s),e.returnFilterTexture(a)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class JE extends mn{constructor(e=8,t=4,r=mn.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new fg(!0,e,t,r,s),this.blurYFilter=new fg(!1,e,t,r,s),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,s){const a=Math.abs(this.blurXFilter.strength),c=Math.abs(this.blurYFilter.strength);if(a&&c){const d=e.getFilterTexture();this.blurXFilter.apply(e,t,d,Cs.CLEAR),this.blurYFilter.apply(e,d,r,s),e.returnFilterTexture(d)}else c?this.blurYFilter.apply(e,t,r,s):this.blurXFilter.apply(e,t,r,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var eS=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class pg extends mn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super($1,eS,e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const[r,s,a]=zt.shared.setValue(e).toArray(),c=[r,0,0,0,0,0,s,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(c,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),s=Math.sin(e),a=Math.sqrt,c=1/3,d=a(c),p=r+(1-r)*c,g=c*(1-r)-d*s,_=c*(1-r)+d*s,w=c*(1-r)+d*s,S=r+c*(1-r),b=c*(1-r)-d*s,C=c*(1-r)-d*s,R=c*(1-r)+d*s,A=r+c*(1-r),k=[p,g,_,0,0,w,S,b,0,0,C,R,A,0,0,0,0,0,1,0];this._loadMatrix(k,t)}contrast(e,t){const r=(e||0)+1,s=-.5*(r-1),a=[r,0,0,0,s,0,r,0,0,s,0,0,r,0,s,0,0,0,1,0];this._loadMatrix(a,t)}saturate(e=0,t){const r=e*2/3+1,s=(r-1)*-.5,a=[r,s,s,0,0,s,r,s,0,0,s,s,r,0,0,0,0,0,1,0];this._loadMatrix(a,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,r,s,a){e=e||.2,t=t||.15,r=r||16770432,s=s||3375104;const c=zt.shared,[d,p,g]=c.setValue(r).toArray(),[_,w,S]=c.setValue(s).toArray(),b=[.3,.59,.11,0,0,d,p,g,e,0,_,w,S,t,0,d-_,p-w,g-S,0,0];this._loadMatrix(b,a)}night(e,t){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}pg.prototype.grayscale=pg.prototype.greyscale;var tS=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,rS=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class nS extends mn{constructor(e,t){const r=new Ht;e.renderable=!1,super(rS,tS,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,t==null&&(t=20),this.scale=new ft(t,t)}apply(e,t,r,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const a=this.maskSprite.worldTransform,c=Math.sqrt(a.a*a.a+a.b*a.b),d=Math.sqrt(a.c*a.c+a.d*a.d);c!==0&&d!==0&&(this.uniforms.rotation[0]=a.a/c,this.uniforms.rotation[1]=a.b/c,this.uniforms.rotation[2]=a.c/d,this.uniforms.rotation[3]=a.d/d),e.applyFilter(this,t,r,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var iS=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,sS=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class oS extends mn{constructor(){super(sS,iS)}}var aS=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class lS extends mn{constructor(e=.5,t=Math.random()){super($1,aS,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const av={AlphaFilter:XE,BlurFilter:JE,BlurFilterPass:fg,ColorMatrixFilter:pg,DisplacementFilter:nS,FXAAFilter:oS,NoiseFilter:lS};Object.entries(av).forEach(([i,e])=>{Object.defineProperty(av,i,{get(){return dt("7.1.0",`filters.${i} has moved to ${i}`),e}})});class uS{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Dr.system.add(this.tickerUpdate,this,Ca.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Dr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Ea=new uS;class Oc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Oc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ft,this.page=new ft,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,s,a){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class pf extends Oc{constructor(){super(...arguments),this.client=new ft,this.movement=new ft,this.offset=new ft,this.global=new ft,this.screen=new ft}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,s,a,c,d,p,g,_,w,S,b,C,R){throw new Error("Method not implemented.")}}class Wi extends pf{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class rh extends pf{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}rh.DOM_DELTA_PIXEL=0,rh.DOM_DELTA_LINE=1,rh.DOM_DELTA_PAGE=2;const hS=2048,cS=new ft,Pm=new ft;class dS{constructor(e){this.dispatch=new kc,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((r,s)=>r.priority-s.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,s=t.length;r<s;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){Ea.pauseUpdate=!0;const r=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[r](this.rootTarget,this.rootTarget.eventMode,cS.set(e,t),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,a=r.length-1;s<a;s++)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=r.length-2;s>=0;s--)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this._allInteractiveElements){if(r.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(t)?t:[t];for(let a=r.length-1;a>=0;a--)s.forEach(c=>{e.currentTarget=r[a],this.notifyTarget(e,c)})}propagationPath(e){const t=[e];for(let r=0;r<hS&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,s,a,c=!1){let d=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(Ea.pauseUpdate=!1),e.interactiveChildren&&e.children){const _=e.children;for(let w=_.length-1;w>=0;w--){const S=_[w],b=this.hitTestMoveRecursive(S,this._isInteractive(t)?t:S.eventMode,r,s,a,c||a(e,r));if(b){if(b.length>0&&!b[b.length-1].parent)continue;const C=e.isInteractive();(b.length>0||C)&&(C&&this._allInteractiveElements.push(e),b.push(e)),this._hitElements.length===0&&(this._hitElements=b),d=!0}}}const p=this._isInteractive(t),g=e.isInteractive();return p&&g&&this._allInteractiveElements.push(e),c||this._hitElements.length>0?null:d?this._hitElements:p&&!a(e,r)&&s(e,r)?g?[e]:[]:null}hitTestRecursive(e,t,r,s,a){if(this._interactivePrune(e)||a(e,r))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(Ea.pauseUpdate=!1),e.interactiveChildren&&e.children){const p=e.children;for(let g=p.length-1;g>=0;g--){const _=p[g],w=this.hitTestRecursive(_,this._isInteractive(t)?t:_.eventMode,r,s,a);if(w){if(w.length>0&&!w[w.length-1].parent)continue;const S=e.isInteractive();return(w.length>0||S)&&w.push(e),w}}}const c=this._isInteractive(t),d=e.isInteractive();return c&&s(e,r)?d?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){var r;if(e.hitArea&&(e.worldTransform.applyInverse(t,Pm),!e.hitArea.contains(Pm.x,Pm.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((r=s.containsPoint)!=null&&r.call(s,t)))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var a,c;t=t??e.type;const r=`on${t}`;(c=(a=e.currentTarget)[r])==null||c.call(a,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const s=t.button===2;this.dispatchEvent(t,s?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var p,g;if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r=t.pointerType==="mouse"||t.pointerType==="pen",s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.overTargets);if(((p=s.overTargets)==null?void 0:p.length)>0&&a!==t.target){const _=e.type==="mousemove"?"mouseout":"pointerout",w=this.createPointerEvent(e,_,a);if(this.dispatchEvent(w,"pointerout"),r&&this.dispatchEvent(w,"mouseout"),!t.composedPath().includes(a)){const S=this.createPointerEvent(e,"pointerleave",a);for(S.eventPhase=S.AT_TARGET;S.target&&!t.composedPath().includes(S.target);)S.currentTarget=S.target,this.notifyTarget(S),r&&this.notifyTarget(S,"mouseleave"),S.target=S.target.parent;this.freeEvent(S)}this.freeEvent(w)}if(a!==t.target){const _=e.type==="mousemove"?"mouseover":"pointerover",w=this.clonePointerEvent(t,_);this.dispatchEvent(w,"pointerover"),r&&this.dispatchEvent(w,"mouseover");let S=a==null?void 0:a.parent;for(;S&&S!==this.rootTarget.parent&&S!==t.target;)S=S.parent;if(!S||S===this.rootTarget.parent){const b=this.clonePointerEvent(t,"pointerenter");for(b.eventPhase=b.AT_TARGET;b.target&&b.target!==a&&b.target!==this.rootTarget.parent;)b.currentTarget=b.target,this.notifyTarget(b),r&&this.notifyTarget(b,"mouseenter"),b.target=b.target.parent;this.freeEvent(b)}this.freeEvent(w)}const c=[],d=this.enableGlobalMoveEvents??!0;this.moveOnAll?c.push("pointermove"):this.dispatchEvent(t,"pointermove"),d&&c.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?c.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),d&&c.push("globaltouchmove")),r&&(this.moveOnAll?c.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),d&&c.push("globalmousemove"),this.cursor=(g=t.target)==null?void 0:g.cursor),c.length>0&&this.all(t,c),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var c;if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),s=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),s&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(c=r.target)==null?void 0:c.cursor);const a=this.clonePointerEvent(r,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),s&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(a)}mapPointerOut(e){if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(t.overTargets),a=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(a),r&&this.dispatchEvent(a,"mouseout");const c=this.createPointerEvent(e,"pointerleave",s);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),r&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;t.overTargets=null,this.freeEvent(a),this.freeEvent(c)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const d=r.button===2;this.dispatchEvent(r,d?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.pressTargetsByButton[e.button]);let c=a;if(a&&!r.composedPath().includes(a)){let d=a;for(;d&&!r.composedPath().includes(d);){if(r.currentTarget=d,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const p=r.button===2;this.notifyTarget(r,p?"rightupoutside":"mouseupoutside")}d=d.parent}delete s.pressTargetsByButton[e.button],c=d}if(c){const d=this.clonePointerEvent(r,"click");d.target=c,d.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:d.target,timeStamp:t});const p=s.clicksByButton[e.button];if(p.target===d.target&&t-p.timeStamp<200?++p.clickCount:p.clickCount=1,p.target=d.target,p.timeStamp=t,d.detail=p.clickCount,d.pointerType==="mouse"){const g=d.button===2;this.dispatchEvent(d,g?"rightclick":"click")}else d.pointerType==="touch"&&this.dispatchEvent(d,"tap");this.dispatchEvent(d,"pointertap"),this.freeEvent(d)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(r){let a=r;for(;a;)s.currentTarget=a,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),a=a.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof rh)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const s=this.allocateEvent(Wi);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=r??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],typeof t=="string"&&(s.type=t),s}createWheelEvent(e){const t=this.allocateEvent(rh);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(Wi);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof Wi&&t instanceof Wi&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof pf&&t instanceof pf&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const r=e.currentTarget._events[t];if(r&&e.currentTarget.isInteractive())if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let s=0,a=r.length;s<a&&!e.propagationImmediatelyStopped;s++)r[s].once&&e.currentTarget.removeListener(t,r[s].fn,void 0,!0),r[s].fn.call(r[s].context,e)}}const fS=1,pS={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},mg=class gg{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new dS(null),Ea.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Wi(null),this.rootWheelEvent=new rh(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...gg.defaultEventFeatures},{set:(t,r,s)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),t[r]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:r}=this.renderer;this.setTargetElement(t),this.resolution=r,gg._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,s=t.length;r<s;r++){const a=t[r],c=this.bootstrapEvent(this.rootPointerEvent,a);this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Ea.pointerMoved();const t=this.normalizeToPointerData(e);for(let r=0,s=t.length;r<s;r++){const a=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let a=0,c=s.length;a<c;a++){const d=this.bootstrapEvent(this.rootPointerEvent,s[a]);d.type+=r,this.rootBoundary.mapEvent(d)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let r=0,s=t.length;r<s;r++){const a=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,Ea.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Ea.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Ea.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},a=1/this.resolution;e.x=(t-s.left)*(this.domElement.width/s.width)*a,e.y=(r-s.top)*(this.domElement.height/s.height)*a}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,s=e.changedTouches.length;r<s;r++){const a=e.changedTouches[r];typeof a.button>"u"&&(a.button=0),typeof a.buttons>"u"&&(a.buttons=1),typeof a.isPrimary>"u"&&(a.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,a.type=e.type,t.push(a)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=fS),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=pS[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};mg.extension={name:"events",type:[Ne.RendererSystem,Ne.CanvasRendererSystem]},mg.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let yg=mg;Ve.add(yg);function lv(i){return i==="dynamic"||i==="static"}const mS={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??lv(yg.defaultEventMode)},set interactive(i){dt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=i,this.eventMode=i?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??yg.defaultEventMode},set eventMode(i){this._internalInteractive=lv(i),this._internalEventMode=i},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(i,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof t=="object"?t.signal:void 0,a=typeof t=="object"?t.once===!0:!1,c=typeof e=="function"?void 0:e;i=r?`${i}capture`:i;const d=typeof e=="function"?e:e.handleEvent,p=this;s&&s.addEventListener("abort",()=>{p.off(i,d,c)}),a?p.once(i,d,c):p.on(i,d,c)},removeEventListener(i,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof e=="function"?void 0:e;i=r?`${i}capture`:i,e=typeof e=="function"?e:e.handleEvent,this.off(i,e,s)},dispatchEvent(i){if(!(i instanceof Oc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return i.defaultPrevented=!1,i.path=null,i.target=this,i.manager.dispatchEvent(i),!i.defaultPrevented}};Xt.mixin(mS);const gS={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Xt.mixin(gS);const yS=9,Fd=100,vS=0,_S=0,uv=2,hv=1,xS=-1e3,wS=-1e3,ES=2;class J1{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(_o.tablet||_o.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${Fd}px`,t.style.height=`${Fd}px`,t.style.position="absolute",t.style.top=`${vS}px`,t.style.left=`${_S}px`,t.style.zIndex=uv.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${hv}px`,e.style.height=`${hv}px`,e.style.position="absolute",e.style.top=`${xS}px`,e.style.left=`${wS}px`,e.style.zIndex=ES.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}update(){const e=performance.now();if(_o.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:r,width:s,height:a}=this.renderer.view.getBoundingClientRect(),{width:c,height:d,resolution:p}=this.renderer,g=s/c*p,_=a/d*p;let w=this.div;w.style.left=`${t}px`,w.style.top=`${r}px`,w.style.width=`${c}px`,w.style.height=`${d}px`;for(let S=0;S<this.children.length;S++){const b=this.children[S];if(b.renderId!==this.renderId)b._accessibleActive=!1,eh(this.children,S,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,S--;else{w=b._accessibleDiv;let C=b.hitArea;const R=b.worldTransform;b.hitArea?(w.style.left=`${(R.tx+C.x*R.a)*g}px`,w.style.top=`${(R.ty+C.y*R.d)*_}px`,w.style.width=`${C.width*R.a*g}px`,w.style.height=`${C.height*R.d*_}px`):(C=b.getBounds(),this.capHitArea(C),w.style.left=`${C.x*g}px`,w.style.top=`${C.y*_}px`,w.style.width=`${C.width*g}px`,w.style.height=`${C.height*_}px`,w.title!==b.accessibleTitle&&b.accessibleTitle!==null&&(w.title=b.accessibleTitle),w.getAttribute("aria-label")!==b.accessibleHint&&b.accessibleHint!==null&&w.setAttribute("aria-label",b.accessibleHint)),(b.accessibleTitle!==w.title||b.tabIndex!==w.tabIndex)&&(w.title=b.accessibleTitle,w.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(w))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${Fd}px`,t.style.height=`${Fd}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=uv.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:r}=e.target,s=this.renderer.events.rootBoundary,a=Object.assign(new Oc(s),{target:r});s.rootTarget=this.renderer.lastObjectRendered,t.forEach(c=>s.dispatchEvent(a,c))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===yS&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}J1.extension={name:"accessibility",type:[Ne.RendererPlugin,Ne.CanvasRendererPlugin]};Ve.add(J1);const e_=class vg{constructor(e){this.stage=new gn,e=Object.assign({forceCanvas:!1},e),this.renderer=kE(e),vg._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,t){const r=vg._plugins.slice(0);r.reverse(),r.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};e_._plugins=[];let kf=e_;Ve.handleByList(Ne.Application,kf._plugins);class t_{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,r;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:a}=this._resizeTo;t=s,r=a}this.renderer.resize(t,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}t_.extension=Ne.Application;Ve.add(t_);const cv={loader:Ne.LoadParser,resolver:Ne.ResolveParser,cache:Ne.CacheParser,detection:Ne.DetectionParser};Ve.handle(Ne.Asset,i=>{const e=i.ref;Object.entries(cv).filter(([t])=>!!e[t]).forEach(([t,r])=>Ve.add(Object.assign(e[t],{extension:e[t].extension??r})))},i=>{const e=i.ref;Object.keys(cv).filter(t=>!!e[t]).forEach(t=>Ve.remove(e[t]))});class SS{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ah(i,e){if(Array.isArray(e)){for(const t of e)if(i.startsWith(`data:${t}`))return!0;return!1}return i.startsWith(`data:${e}`)}function Ia(i,e){const t=i.split("?")[0],r=Or.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Vi=(i,e,t=!1)=>(Array.isArray(i)||(i=[i]),e?i.map(r=>typeof r=="string"||t?e(r):r):i),_g=(i,e)=>{const t=e.split("?")[1];return t&&(i+=`?${t}`),i};function r_(i,e,t,r,s){const a=e[t];for(let c=0;c<a.length;c++){const d=a[c];t<e.length-1?r_(i.replace(r[t],d),e,t+1,r,s):s.push(i.replace(r[t],d))}}function bS(i){const e=/\{(.*?)\}/g,t=i.match(e),r=[];if(t){const s=[];t.forEach(a=>{const c=a.substring(1,a.length-1).split(",");s.push(c)}),r_(i,s,0,t,r)}else r.push(i);return r}const mf=i=>!Array.isArray(i);class TS{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=Vi(e);let s;for(let d=0;d<this.parsers.length;d++){const p=this.parsers[d];if(p.test(t)){s=p.getCacheableAssets(r,t);break}}s||(s={},r.forEach(d=>{s[d]=t}));const a=Object.keys(s),c={cacheKeys:a,keys:r};if(r.forEach(d=>{this._cacheMap.set(d,c)}),a.forEach(d=>{this._cache.has(d)&&this._cache.get(d)!==t&&console.warn("[Cache] already has key:",d),this._cache.set(d,s[d])}),t instanceof ke){const d=t;r.forEach(p=>{d.baseTexture!==ke.EMPTY.baseTexture&&ot.addToCache(d.baseTexture,p),ke.addToCache(d,p)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(r=>{this._cache.delete(r)}),t.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const Gl=new TS;class AS{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{var c,d;let s=null,a=null;if(t.loadParser&&(a=this._parserHash[t.loadParser],a||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!a){for(let p=0;p<this.parsers.length;p++){const g=this.parsers[p];if(g.load&&((c=g.test)!=null&&c.call(g,e,t,this))){a=g;break}}if(!a)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await a.load(e,t,this),r.parser=a;for(let p=0;p<this.parsers.length;p++){const g=this.parsers[p];g.parse&&g.parse&&await((d=g.testParse)==null?void 0:d.call(g,s,t,this))&&(s=await g.parse(s,t,this)||s,r.parser=g)}return s})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0;const s={},a=mf(e),c=Vi(e,g=>({alias:[g],src:g})),d=c.length,p=c.map(async g=>{const _=Or.toAbsolute(g.src);if(!s[g.src])try{this.promiseCache[_]||(this.promiseCache[_]=this._getLoadPromiseAndParser(_,g)),s[g.src]=await this.promiseCache[_].promise,t&&t(++r/d)}catch(w){throw delete this.promiseCache[_],delete s[g.src],new Error(`[Loader.load] Failed to load ${_}.
${w}`)}});return await Promise.all(p),a?s[c[0].src]:s}async unload(e){const t=Vi(e,r=>({alias:[r],src:r})).map(async r=>{var c,d;const s=Or.toAbsolute(r.src),a=this.promiseCache[s];if(a){const p=await a.promise;delete this.promiseCache[s],(d=(c=a.parser)==null?void 0:c.unload)==null||d.call(c,p,r,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var Ki=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(Ki||{});const CS=".json",PS="application/json",IS={extension:{type:Ne.LoadParser,priority:Ki.Low},name:"loadJson",test(i){return ah(i,PS)||Ia(i,CS)},async load(i){return await(await Be.ADAPTER.fetch(i)).json()}};Ve.add(IS);const RS=".txt",MS="text/plain",kS={name:"loadTxt",extension:{type:Ne.LoadParser,priority:Ki.Low},test(i){return ah(i,MS)||Ia(i,RS)},async load(i){return await(await Be.ADAPTER.fetch(i)).text()}};Ve.add(kS);const NS=["normal","bold","100","200","300","400","500","600","700","800","900"],DS=[".ttf",".otf",".woff",".woff2"],OS=["font/ttf","font/otf","font/woff","font/woff2"],FS=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function BS(i){const e=Or.extname(i),t=Or.basename(i,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let r=t.length>0;for(const a of t)if(!a.match(FS)){r=!1;break}let s=t.join(" ");return r||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const LS=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function US(i){return LS.test(i)?i:encodeURI(i)}const zS={extension:{type:Ne.LoadParser,priority:Ki.Low},name:"loadWebFont",test(i){return ah(i,OS)||Ia(i,DS)},async load(i,e){var r,s,a;const t=Be.ADAPTER.getFontFaceSet();if(t){const c=[],d=((r=e.data)==null?void 0:r.family)??BS(i),p=((a=(s=e.data)==null?void 0:s.weights)==null?void 0:a.filter(_=>NS.includes(_)))??["normal"],g=e.data??{};for(let _=0;_<p.length;_++){const w=p[_],S=new FontFace(d,`url(${US(i)})`,{...g,weight:w});await S.load(),t.add(S),c.push(S)}return c.length===1?c[0]:c}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(i){(Array.isArray(i)?i:[i]).forEach(e=>Be.ADAPTER.getFontFaceSet().delete(e))}};Ve.add(zS);const GS=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let nh=null,xg=class{constructor(){nh||(nh=URL.createObjectURL(new Blob([GS],{type:"application/javascript"}))),this.worker=new Worker(nh)}};xg.revokeObjectURL=function(){nh&&(URL.revokeObjectURL(nh),nh=null)};const HS=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let ih=null;class n_{constructor(){ih||(ih=URL.createObjectURL(new Blob([HS],{type:"application/javascript"}))),this.worker=new Worker(ih)}}n_.revokeObjectURL=function(){ih&&(URL.revokeObjectURL(ih),ih=null)};let dv=0,Im;class jS{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new xg;t.addEventListener("message",r=>{t.terminate(),xg.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Im===void 0&&(Im=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Im&&(this._createdWorkers++,e=new n_().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise((s,a)=>{this.queue.push({id:e,arguments:t,resolve:s,reject:a})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),r=t.id;this.resolveHash[dv]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:dv++,id:r})}}const fv=new jS;function Fc(i,e,t){i.resource.internal=!0;const r=new ke(i),s=()=>{delete e.promiseCache[t],Gl.has(t)&&Gl.remove(t)};return r.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),r.once("destroyed",()=>{i.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),r}const $S=[".jpeg",".jpg",".png",".webp",".avif"],WS=["image/jpeg","image/png","image/webp","image/avif"];async function VS(i){const e=await Be.ADAPTER.fetch(i);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${i}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const Nf={name:"loadTextures",extension:{type:Ne.LoadParser,priority:Ki.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(i){return ah(i,WS)||Ia(i,$S)},async load(i,e,t){var d;const r=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;r?this.config.preferWorkers&&await fv.isImageBitmapSupported()?s=await fv.loadImageBitmap(i):s=await VS(i):s=await new Promise((p,g)=>{const _=new Image;_.crossOrigin=this.config.crossOrigin,_.src=i,_.complete?p(_):(_.onload=()=>p(_),_.onerror=w=>g(w))});const a={...e.data};a.resolution??(a.resolution=So(i)),r&&((d=a.resourceOptions)==null?void 0:d.ownsImageBitmap)===void 0&&(a.resourceOptions={...a.resourceOptions},a.resourceOptions.ownsImageBitmap=!0);const c=new ot(s,a);return c.resource.src=i,Fc(c,t,i)},unload(i){i.destroy(!0)}};Ve.add(Nf);const XS=".svg",YS="image/svg+xml",qS={extension:{type:Ne.LoadParser,priority:Ki.High},name:"loadSVG",test(i){return ah(i,YS)||Ia(i,XS)},async testParse(i){return ug.test(i)},async parse(i,e,t){var a;const r=new ug(i,(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions);await r.load();const s=new ot(r,{resolution:So(i),...e==null?void 0:e.data});return s.resource.src=e.src,Fc(s,t,e.src)},async load(i,e){return(await Be.ADAPTER.fetch(i)).text()},unload:Nf.unload};Ve.add(qS);const QS=[".mp4",".m4v",".webm",".ogv"],KS=["video/mp4","video/webm","video/ogg"],ZS={name:"loadVideo",extension:{type:Ne.LoadParser,priority:Ki.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(i){return ah(i,KS)||Ia(i,QS)},async load(i,e,t){var c;let r;const s=await(await Be.ADAPTER.fetch(i)).blob(),a=URL.createObjectURL(s);try{const d={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(c=e==null?void 0:e.data)==null?void 0:c.resourceOptions,autoLoad:!0},p=new Q1(a,d);await p.load();const g=new ot(p,{alphaMode:await iw(),resolution:So(i),...e==null?void 0:e.data});g.resource.src=i,r=Fc(g,t,i),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(a)})}catch(d){throw URL.revokeObjectURL(a),d}return r},unload(i){i.destroy(!0)}};Ve.add(ZS);class JS{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){const{alias:t,name:r,src:s,srcs:a}=e;return Vi(t||r||s||a,c=>typeof c=="string"?c:Array.isArray(c)?c.map(d=>(d==null?void 0:d.src)??(d==null?void 0:d.srcs)??d):c!=null&&c.src||c!=null&&c.srcs?c.src??c.srcs:c,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const r=[];Array.isArray(t)?t.forEach(s=>{const a=s.src??s.srcs,c=s.alias??s.name;let d;if(typeof c=="string"){const p=this._createBundleAssetId(e,c);r.push(p),d=[c,p]}else{const p=c.map(g=>this._createBundleAssetId(e,g));r.push(...p),d=[...c,...p]}this.add({...s,alias:d,src:a})}):Object.keys(t).forEach(s=>{const a=[s,this._createBundleAssetId(e,s)];if(typeof t[s]=="string")this.add({alias:a,src:t[s]});else if(Array.isArray(t[s]))this.add({alias:a,src:t[s]});else{const c=t[s],d=c.src??c.srcs;this.add({...c,alias:a,src:Array.isArray(d)?d:[d]})}r.push(...a)}),this._bundles[e]=r}add(e,t,r,s,a){const c=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(dt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),c.push({alias:e,src:t,data:r,format:s,loadParser:a})):Array.isArray(e)?c.push(...e):c.push(e);let d;d=p=>{this.hasKey(p)&&console.warn(`[Resolver] already has key: ${p} overwriting`)},Vi(c).forEach(p=>{const{src:g,srcs:_}=p;let{data:w,format:S,loadParser:b}=p;const C=Vi(g||_).map(k=>typeof k=="string"?bS(k):Array.isArray(k)?k:[k]),R=this.getAlias(p);Array.isArray(R)?R.forEach(d):d(R);const A=[];C.forEach(k=>{k.forEach(U=>{let D={};if(typeof U!="object"){D.src=U;for(let $=0;$<this._parsers.length;$++){const O=this._parsers[$];if(O.test(U)){D=O.parse(U);break}}}else w=U.data??w,S=U.format??S,b=U.loadParser??b,D={...D,...U};if(!R)throw new Error(`[Resolver] alias is undefined for this asset: ${D.src}`);D=this.buildResolvedAsset(D,{aliases:R,data:w,format:S,loadParser:b}),A.push(D)})}),R.forEach(k=>{this._assetMap[k]=A})})}resolveBundle(e){const t=mf(e);e=Vi(e);const r={};return e.forEach(s=>{const a=this._bundles[s];if(a){const c=this.resolve(a),d={};for(const p in c){const g=c[p];d[this._extractAssetIdFromBundle(s,p)]=g}r[s]=d}}),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const r={};for(const s in t)r[s]=t[s].src;return r}return t.src}resolve(e){const t=mf(e);e=Vi(e);const r={};return e.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let a=this._assetMap[s];const c=a[0],d=this._getPreferredOrder(a);d==null||d.priority.forEach(p=>{d.params[p].forEach(g=>{const _=a.filter(w=>w[p]?w[p]===g:!1);_.length&&(a=_)})}),this._resolverHash[s]=a[0]??c}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});r[s]=this._resolverHash[s]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const r=e[0],s=this._preferredOrder.find(a=>a.params.format.includes(r.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:r,data:s,loadParser:a,format:c}=t;return(this._basePath||this._rootPath)&&(e.src=Or.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=a??e.loadParser,e.format=c??e.format??Or.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class eb{constructor(){this._detections=[],this._initialized=!1,this.resolver=new JS,this.loader=new AS,this.cache=Gl,this._backgroundLoader=new SS(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var a,c;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let d=e.manifest;typeof d=="string"&&(d=await this.load(d)),this.resolver.addManifest(d)}const t=((a=e.texturePreference)==null?void 0:a.resolution)??1,r=typeof t=="number"?[t]:t,s=await this._detectFormats({preferredFormats:(c=e.texturePreference)==null?void 0:c.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,r,s,a){this.resolver.add(e,t,r,s,a)}async load(e,t){this._initialized||await this.init();const r=mf(e),s=Vi(e).map(d=>{if(typeof d!="string"){const p=this.resolver.getAlias(d);return p.some(g=>!this.resolver.hasKey(g))&&this.add(d),Array.isArray(p)?p[0]:p}return this.resolver.hasKey(d)||this.add({alias:d,src:d}),d}),a=this.resolver.resolve(s),c=await this._mapLoadToResolve(a,t);return r?c[s[0]]:c}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const s=this.resolver.resolveBundle(e),a={},c=Object.keys(s);let d=0,p=0;const g=()=>{t==null||t(++d/p)},_=c.map(w=>{const S=s[w];return p+=Object.keys(S).length,this._mapLoadToResolve(S,g).then(b=>{a[w]=b})});return await Promise.all(_),r?a[e[0]]:a}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Gl.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=Gl.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const a=await this.loader.load(r,t);this._backgroundLoader.active=!0;const c={};return r.forEach((d,p)=>{const g=a[d.src],_=[d.src];d.alias&&_.push(...d.alias),c[s[p]]=g,Gl.set(_,g)}),c}async unload(e){this._initialized||await this.init();const t=Vi(e).map(s=>typeof s!="string"?s.src:s),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Vi(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map(s=>this._unloadFromResolved(t[s]));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(r=>{Gl.remove(r.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((r,s)=>t.indexOf(r)===s),t}get detections(){return this._detections}get preferWorkers(){return Nf.config.preferWorkers}set preferWorkers(e){dt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}}const vc=new eb;Ve.handleByList(Ne.LoadParser,vc.loader.parsers).handleByList(Ne.ResolveParser,vc.resolver.parsers).handleByList(Ne.CacheParser,vc.cache.parsers).handleByList(Ne.DetectionParser,vc.detections);const tb={extension:Ne.CacheParser,test:i=>Array.isArray(i)&&i.every(e=>e instanceof ke),getCacheableAssets:(i,e)=>{const t={};return i.forEach(r=>{e.forEach((s,a)=>{t[r+(a===0?"":a+1)]=s})}),t}};Ve.add(tb);async function i_(i){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=i});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(i)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const rb={extension:{type:Ne.DetectionParser,priority:1},test:async()=>i_("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async i=>[...i,"avif"],remove:async i=>i.filter(e=>e!=="avif")};Ve.add(rb);const nb={extension:{type:Ne.DetectionParser,priority:0},test:async()=>i_("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async i=>[...i,"webp"],remove:async i=>i.filter(e=>e!=="webp")};Ve.add(nb);const pv=["png","jpg","jpeg"],ib={extension:{type:Ne.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async i=>[...i,...pv],remove:async i=>i.filter(e=>!pv.includes(e))};Ve.add(ib);const sb="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function $g(i){return sb?!1:document.createElement("video").canPlayType(i)!==""}const ob={extension:{type:Ne.DetectionParser,priority:0},test:async()=>$g("video/webm"),add:async i=>[...i,"webm"],remove:async i=>i.filter(e=>e!=="webm")};Ve.add(ob);const ab={extension:{type:Ne.DetectionParser,priority:0},test:async()=>$g("video/mp4"),add:async i=>[...i,"mp4","m4v"],remove:async i=>i.filter(e=>e!=="mp4"&&e!=="m4v")};Ve.add(ab);const lb={extension:{type:Ne.DetectionParser,priority:0},test:async()=>$g("video/ogg"),add:async i=>[...i,"ogv"],remove:async i=>i.filter(e=>e!=="ogv")};Ve.add(lb);const ub={extension:Ne.ResolveParser,test:Nf.test,parse:i=>{var e;return{resolution:parseFloat(((e=Be.RETINA_PREFIX.exec(i))==null?void 0:e[1])??"1"),format:Or.extname(i).slice(1),src:i}}};Ve.add(ub);var Hr=(i=>(i[i.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",i[i.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",i[i.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",i[i.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",i[i.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",i[i.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",i[i.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",i[i.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",i[i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",i[i.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",i[i.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",i[i.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",i[i.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",i[i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",i[i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",i[i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",i))(Hr||{});const gf={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let bs,Yu;function mv(){Yu={bptc:bs.getExtension("EXT_texture_compression_bptc"),astc:bs.getExtension("WEBGL_compressed_texture_astc"),etc:bs.getExtension("WEBGL_compressed_texture_etc"),s3tc:bs.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:bs.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:bs.getExtension("WEBGL_compressed_texture_pvrtc")||bs.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:bs.getExtension("WEBGL_compressed_texture_etc1"),atc:bs.getExtension("WEBGL_compressed_texture_atc")}}const hb={extension:{type:Ne.DetectionParser,priority:2},test:async()=>{const i=Be.ADAPTER.createCanvas().getContext("webgl");return i?(bs=i,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async i=>{Yu||mv();const e=[];for(const t in Yu)Yu[t]&&e.push(t);return[...e,...i]},remove:async i=>(Yu||mv(),i.filter(e=>!(e in Yu)))};Ve.add(hb);class cb extends Af{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,s;typeof e=="string"?(r=e,s=new Uint8Array):(r=null,s=e),super(s,t),this.origin=r,this.buffer=s?new Qm(s):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Qm(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class jl extends cb{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=jl._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||jl._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){const s=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let a=0,c=this.levels;a<c;a++){const{levelID:d,levelWidth:p,levelHeight:g,levelBuffer:_}=this._levelBuffers[a];s.compressedTexImage2D(s.TEXTURE_2D,d,this.format,p,g,0,_)}return!0}onBlobLoaded(){this._levelBuffers=jl._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,r,s,a,c,d){const p=new Array(r);let g=e.byteOffset,_=c,w=d,S=_+s-1&~(s-1),b=w+a-1&~(a-1),C=S*b*gf[t];for(let R=0;R<r;R++)p[R]={levelID:R,levelWidth:r>1?_:S,levelHeight:r>1?w:b,levelBuffer:new Uint8Array(e.buffer,g,C)},g+=C,_=_>>1||1,w=w>>1||1,S=_+s-1&~(s-1),b=w+a-1&~(a-1),C=S*b*gf[t];return p}}const Rm=4,Bd=124,db=32,gv=20,fb=542327876,Ld={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},pb={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Ud={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},mb=1,gb=2,yb=4,vb=64,_b=512,xb=131072,wb=827611204,Eb=861165636,Sb=894720068,bb=808540228,Tb=4,Ab={[wb]:Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Eb]:Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Sb]:Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT},Cb={70:Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Hr.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Hr.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Hr.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Hr.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function Pb(i){const e=new Uint32Array(i);if(e[0]!==fb)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(i,0,Bd/Uint32Array.BYTES_PER_ELEMENT),r=t[Ld.HEIGHT],s=t[Ld.WIDTH],a=t[Ld.MIPMAP_COUNT],c=new Uint32Array(i,Ld.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,db/Uint32Array.BYTES_PER_ELEMENT),d=c[mb];if(d&yb){const p=c[pb.FOURCC];if(p!==bb){const U=Ab[p],D=Rm+Bd,$=new Uint8Array(i,D);return[new jl($,{format:U,width:s,height:r,levels:a})]}const g=Rm+Bd,_=new Uint32Array(e.buffer,g,gv/Uint32Array.BYTES_PER_ELEMENT),w=_[Ud.DXGI_FORMAT],S=_[Ud.RESOURCE_DIMENSION],b=_[Ud.MISC_FLAG],C=_[Ud.ARRAY_SIZE],R=Cb[w];if(R===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${w}`);if(b===Tb)throw new Error("DDSParser does not support cubemap textures");if(S===6)throw new Error("DDSParser does not supported 3D texture data");const A=new Array,k=Rm+Bd+gv;if(C===1)A.push(new Uint8Array(i,k));else{const U=gf[R];let D=0,$=s,O=r;for(let z=0;z<a;z++){const te=Math.max(1,$+3&-4),ce=Math.max(1,O+3&-4),le=te*ce*U;D+=le,$=$>>>1,O=O>>>1}let K=k;for(let z=0;z<C;z++)A.push(new Uint8Array(i,K,D)),K+=D}return A.map(U=>new jl(U,{format:R,width:s,height:r,levels:a}))}throw d&vb?new Error("DDSParser does not support uncompressed texture data."):d&_b?new Error("DDSParser does not supported YUV uncompressed texture data."):d&xb?new Error("DDSParser does not support single-channel (lumninance) texture data!"):d&gb?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const yv=[171,75,84,88,32,49,49,187,13,10,26,10],Ib=67305985,ji={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},wg=64,vv={[Qe.UNSIGNED_BYTE]:1,[Qe.UNSIGNED_SHORT]:2,[Qe.INT]:4,[Qe.UNSIGNED_INT]:4,[Qe.FLOAT]:4,[Qe.HALF_FLOAT]:8},Rb={[Ce.RGBA]:4,[Ce.RGB]:3,[Ce.RG]:2,[Ce.RED]:1,[Ce.LUMINANCE]:1,[Ce.LUMINANCE_ALPHA]:2,[Ce.ALPHA]:1},Mb={[Qe.UNSIGNED_SHORT_4_4_4_4]:2,[Qe.UNSIGNED_SHORT_5_5_5_1]:2,[Qe.UNSIGNED_SHORT_5_6_5]:2};function kb(i,e,t=!1){const r=new DataView(e);if(!Nb(i,r))return null;const s=r.getUint32(ji.ENDIANNESS,!0)===Ib,a=r.getUint32(ji.GL_TYPE,s),c=r.getUint32(ji.GL_FORMAT,s),d=r.getUint32(ji.GL_INTERNAL_FORMAT,s),p=r.getUint32(ji.PIXEL_WIDTH,s),g=r.getUint32(ji.PIXEL_HEIGHT,s)||1,_=r.getUint32(ji.PIXEL_DEPTH,s)||1,w=r.getUint32(ji.NUMBER_OF_ARRAY_ELEMENTS,s)||1,S=r.getUint32(ji.NUMBER_OF_FACES,s),b=r.getUint32(ji.NUMBER_OF_MIPMAP_LEVELS,s),C=r.getUint32(ji.BYTES_OF_KEY_VALUE_DATA,s);if(g===0||_!==1)throw new Error("Only 2D textures are supported");if(S!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(w!==1)throw new Error("WebGL does not support array textures");const R=4,A=4,k=p+3&-4,U=g+3&-4,D=new Array(w);let $=p*g;a===0&&($=k*U);let O;if(a!==0?vv[a]?O=vv[a]*Rb[c]:O=Mb[a]:O=gf[d],O===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const K=t?Ob(r,C,s):null;let z=$*O,te=p,ce=g,le=k,xe=U,Y=wg+C;for(let Z=0;Z<b;Z++){const ue=r.getUint32(Y,s);let _e=Y+4;for(let B=0;B<w;B++){let G=D[B];G||(G=D[B]=new Array(b)),G[Z]={levelID:Z,levelWidth:b>1||a!==0?te:le,levelHeight:b>1||a!==0?ce:xe,levelBuffer:new Uint8Array(e,_e,z)},_e+=z}Y+=ue+4,Y=Y%4!==0?Y+4-Y%4:Y,te=te>>1||1,ce=ce>>1||1,le=te+R-1&~(R-1),xe=ce+A-1&~(A-1),z=le*xe*O}return a!==0?{uncompressed:D.map(Z=>{let ue=Z[0].levelBuffer,_e=!1;return a===Qe.FLOAT?ue=new Float32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4):a===Qe.UNSIGNED_INT?(_e=!0,ue=new Uint32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4)):a===Qe.INT&&(_e=!0,ue=new Int32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4)),{resource:new Af(ue,{width:Z[0].levelWidth,height:Z[0].levelHeight}),type:a,format:_e?Db(c):c}}),kvData:K}:{compressed:D.map(Z=>new jl(null,{format:d,width:p,height:g,levels:b,levelBuffers:Z})),kvData:K}}function Nb(i,e){for(let t=0;t<yv.length;t++)if(e.getUint8(t)!==yv[t])return console.error(`${i} is not a valid *.ktx file!`),!1;return!0}function Db(i){switch(i){case Ce.RGBA:return Ce.RGBA_INTEGER;case Ce.RGB:return Ce.RGB_INTEGER;case Ce.RG:return Ce.RG_INTEGER;case Ce.RED:return Ce.RED_INTEGER;default:return i}}function Ob(i,e,t){const r=new Map;let s=0;for(;s<e;){const a=i.getUint32(wg+s,t),c=wg+s+4,d=3-(a+3)%4;if(a===0||a>e-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let p=0;for(;p<a&&i.getUint8(c+p)!==0;p++);if(p===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const g=new TextDecoder().decode(new Uint8Array(i.buffer,c,p)),_=new DataView(i.buffer,c+p+1,a-p-1);r.set(g,_),s+=4+a+d}return r}const Fb={extension:{type:Ne.LoadParser,priority:Ki.High},name:"loadDDS",test(i){return Ia(i,".dds")},async load(i,e,t){const r=await(await Be.ADAPTER.fetch(i)).arrayBuffer(),s=Pb(r).map(a=>{const c=new ot(a,{mipmap:Ms.OFF,alphaMode:Ln.NO_PREMULTIPLIED_ALPHA,resolution:So(i),...e.data});return Fc(c,t,i)});return s.length===1?s[0]:s},unload(i){Array.isArray(i)?i.forEach(e=>e.destroy(!0)):i.destroy(!0)}};Ve.add(Fb);const Bb={extension:{type:Ne.LoadParser,priority:Ki.High},name:"loadKTX",test(i){return Ia(i,".ktx")},async load(i,e,t){const r=await(await Be.ADAPTER.fetch(i)).arrayBuffer(),{compressed:s,uncompressed:a,kvData:c}=kb(i,r),d=s??a,p={mipmap:Ms.OFF,alphaMode:Ln.NO_PREMULTIPLIED_ALPHA,resolution:So(i),...e.data},g=d.map(_=>{d===a&&Object.assign(p,{type:_.type,format:_.format});const w=_.resource??_,S=new ot(w,p);return S.ktxKeyValueData=c,Fc(S,t,i)});return g.length===1?g[0]:g},unload(i){Array.isArray(i)?i.forEach(e=>e.destroy(!0)):i.destroy(!0)}};Ve.add(Bb);const Lb=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],Ub={extension:Ne.ResolveParser,test:i=>{const e=Or.extname(i).slice(1);return["basis","ktx","dds"].includes(e)},parse:i=>{var r,s;const e=i.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const a=e.pop();if(Lb.includes(a))return{resolution:parseFloat(((r=Be.RETINA_PREFIX.exec(i))==null?void 0:r[1])??"1"),format:a,src:i}}return{resolution:parseFloat(((s=Be.RETINA_PREFIX.exec(i))==null?void 0:s[1])??"1"),format:t,src:i}}};Ve.add(Ub);const zd=new lt,zb=4,s_=class _c{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,r,s){const a=new Image;return a.src=await this.base64(e,t,r,s),a}async base64(e,t,r,s){const a=this.canvas(e,s);if(a.toBlob!==void 0)return new Promise((c,d)=>{a.toBlob(p=>{if(!p){d(new Error("ICanvas.toBlob failed!"));return}const g=new FileReader;g.onload=()=>c(g.result),g.onerror=d,g.readAsDataURL(p)},t,r)});if(a.toDataURL!==void 0)return a.toDataURL(t,r);if(a.convertToBlob!==void 0){const c=await a.convertToBlob({type:t,quality:r});return new Promise((d,p)=>{const g=new FileReader;g.onload=()=>d(g.result),g.onerror=p,g.readAsDataURL(c)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:r,width:s,height:a,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);c&&_c._flipY(r,s,a),d&&_c._unpremultiplyAlpha(r);const p=new xw(s,a,1),g=new ImageData(new Uint8ClampedArray(r.buffer),s,a);return p.context.putImageData(g,0,0),p.canvas}pixels(e,t){const{pixels:r,width:s,height:a,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);return c&&_c._flipY(r,s,a),d&&_c._unpremultiplyAlpha(r),r}_rawPixels(e,t){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let s,a=!1,c=!1,d,p=!1;e&&(e instanceof Vl?d=e:(d=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),p=!0,t&&(zd.width=t.width,zd.height=t.height,t=zd)));const g=r.gl;if(d){if(s=d.baseTexture.resolution,t=t??d.frame,a=!1,c=d.baseTexture.alphaMode>0&&d.baseTexture.format===Ce.RGBA,!p){r.renderTexture.bind(d);const b=d.framebuffer.glFramebuffers[r.CONTEXT_UID];b.blitFramebuffer&&r.framebuffer.bind(b.blitFramebuffer)}}else s=r.resolution,t||(t=zd,t.width=r.width/s,t.height=r.height/s),a=!0,c=this._rendererPremultipliedAlpha,r.renderTexture.bind();const _=Math.max(Math.round(t.width*s),1),w=Math.max(Math.round(t.height*s),1),S=new Uint8Array(zb*_*w);return g.readPixels(Math.round(t.x*s),Math.round(t.y*s),_,w,g.RGBA,g.UNSIGNED_BYTE,S),p&&(d==null||d.destroy(!0)),{pixels:S,width:_,height:w,flipY:a,premultipliedAlpha:c}}destroy(){this.renderer=null}static _flipY(e,t,r){const s=t<<2,a=r>>1,c=new Uint8Array(s);for(let d=0;d<a;d++){const p=d*s,g=(r-d-1)*s;c.set(e.subarray(p,p+s)),e.copyWithin(p,g,g+s),e.set(c,g)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let r=0;r<t;r+=4){const s=e[r+3];if(s!==0){const a=255.001/s;e[r]=e[r]*a+.5,e[r+1]=e[r+1]*a+.5,e[r+2]=e[r+2]*a+.5}}}};s_.extension={name:"extract",type:Ne.RendererSystem};let Gb=s_;Ve.add(Gb);const yf={build(i){const e=i.points;let t,r,s,a,c,d;if(i.type===jr.CIRC){const C=i.shape;t=C.x,r=C.y,c=d=C.radius,s=a=0}else if(i.type===jr.ELIP){const C=i.shape;t=C.x,r=C.y,c=C.width,d=C.height,s=a=0}else{const C=i.shape,R=C.width/2,A=C.height/2;t=C.x+R,r=C.y+A,c=d=Math.max(0,Math.min(C.radius,Math.min(R,A))),s=R-c,a=A-d}if(!(c>=0&&d>=0&&s>=0&&a>=0)){e.length=0;return}const p=Math.ceil(2.3*Math.sqrt(c+d)),g=p*8+(s?4:0)+(a?4:0);if(e.length=g,g===0)return;if(p===0){e.length=8,e[0]=e[6]=t+s,e[1]=e[3]=r+a,e[2]=e[4]=t-s,e[5]=e[7]=r-a;return}let _=0,w=p*4+(s?2:0)+2,S=w,b=g;{const C=s+c,R=a,A=t+C,k=t-C,U=r+R;if(e[_++]=A,e[_++]=U,e[--w]=U,e[--w]=k,a){const D=r-R;e[S++]=k,e[S++]=D,e[--b]=D,e[--b]=A}}for(let C=1;C<p;C++){const R=Math.PI/2*(C/p),A=s+Math.cos(R)*c,k=a+Math.sin(R)*d,U=t+A,D=t-A,$=r+k,O=r-k;e[_++]=U,e[_++]=$,e[--w]=$,e[--w]=D,e[S++]=D,e[S++]=O,e[--b]=O,e[--b]=U}{const C=s,R=a+d,A=t+C,k=t-C,U=r+R,D=r-R;e[_++]=A,e[_++]=U,e[--b]=D,e[--b]=A,s&&(e[_++]=k,e[_++]=U,e[--b]=D,e[--b]=k)}},triangulate(i,e){const t=i.points,r=e.points,s=e.indices;if(t.length===0)return;let a=r.length/2;const c=a;let d,p;if(i.type!==jr.RREC){const _=i.shape;d=_.x,p=_.y}else{const _=i.shape;d=_.x+_.width/2,p=_.y+_.height/2}const g=i.matrix;r.push(i.matrix?g.a*d+g.c*p+g.tx:d,i.matrix?g.b*d+g.d*p+g.ty:p),a++,r.push(t[0],t[1]);for(let _=2;_<t.length;_+=2)r.push(t[_],t[_+1]),s.push(a++,c,a);s.push(c+1,c,a)}};function _v(i,e=!1){const t=i.length;if(t<6)return;let r=0;for(let s=0,a=i[t-2],c=i[t-1];s<t;s+=2){const d=i[s],p=i[s+1];r+=(d-a)*(p+c),a=d,c=p}if(!e&&r>0||e&&r<=0){const s=t/2;for(let a=s+s%2;a<t;a+=2){const c=t-a-2,d=t-a-1,p=a,g=a+1;[i[c],i[p]]=[i[p],i[c]],[i[d],i[g]]=[i[g],i[d]]}}}const o_={build(i){i.points=i.shape.points.slice()},triangulate(i,e){let t=i.points;const r=i.holes,s=e.points,a=e.indices;if(t.length>=6){_v(t,!1);const c=[];for(let g=0;g<r.length;g++){const _=r[g];_v(_.points,!0),c.push(t.length/2),t=t.concat(_.points)}const d=Tx(t,c,2);if(!d)return;const p=s.length/2;for(let g=0;g<d.length;g+=3)a.push(d[g]+p),a.push(d[g+1]+p),a.push(d[g+2]+p);for(let g=0;g<t.length;g++)s.push(t[g])}}},Hb={build(i){const e=i.shape,t=e.x,r=e.y,s=e.width,a=e.height,c=i.points;c.length=0,s>=0&&a>=0&&c.push(t,r,t+s,r,t+s,r+a,t,r+a)},triangulate(i,e){const t=i.points,r=e.points;if(t.length===0)return;const s=r.length/2;r.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},jb={build(i){yf.build(i)},triangulate(i,e){yf.triangulate(i,e)}};var mi=(i=>(i.MITER="miter",i.BEVEL="bevel",i.ROUND="round",i))(mi||{}),ba=(i=>(i.BUTT="butt",i.ROUND="round",i.SQUARE="square",i))(ba||{});const oh={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(i,e=20){if(!this.adaptive||!i||isNaN(i))return e;let t=Math.ceil(i/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class xv{static curveTo(e,t,r,s,a,c){const d=c[c.length-2],p=c[c.length-1]-t,g=d-e,_=s-t,w=r-e,S=Math.abs(p*w-g*_);if(S<1e-8||a===0)return(c[c.length-2]!==e||c[c.length-1]!==t)&&c.push(e,t),null;const b=p*p+g*g,C=_*_+w*w,R=p*_+g*w,A=a*Math.sqrt(b)/S,k=a*Math.sqrt(C)/S,U=A*R/b,D=k*R/C,$=A*w+k*g,O=A*_+k*p,K=g*(k+U),z=p*(k+U),te=w*(A+D),ce=_*(A+D),le=Math.atan2(z-O,K-$),xe=Math.atan2(ce-O,te-$);return{cx:$+e,cy:O+t,radius:a,startAngle:le,endAngle:xe,anticlockwise:g*_>w*p}}static arc(e,t,r,s,a,c,d,p,g){const _=d-c,w=oh._segmentsCount(Math.abs(_)*a,Math.ceil(Math.abs(_)/lf)*40),S=_/(w*2),b=S*2,C=Math.cos(S),R=Math.sin(S),A=w-1,k=A%1/A;for(let U=0;U<=A;++U){const D=U+k*U,$=S+c+b*D,O=Math.cos($),K=-Math.sin($);g.push((C*O+R*K)*a+r,(C*-K+R*O)*a+s)}}}class $b{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Wg{static curveLength(e,t,r,s,a,c,d,p){let g=0,_=0,w=0,S=0,b=0,C=0,R=0,A=0,k=0,U=0,D=0,$=e,O=t;for(let K=1;K<=10;++K)_=K/10,w=_*_,S=w*_,b=1-_,C=b*b,R=C*b,A=R*e+3*C*_*r+3*b*w*a+S*d,k=R*t+3*C*_*s+3*b*w*c+S*p,U=$-A,D=O-k,$=A,O=k,g+=Math.sqrt(U*U+D*D);return g}static curveTo(e,t,r,s,a,c,d){const p=d[d.length-2],g=d[d.length-1];d.length-=2;const _=oh._segmentsCount(Wg.curveLength(p,g,e,t,r,s,a,c));let w=0,S=0,b=0,C=0,R=0;d.push(p,g);for(let A=1,k=0;A<=_;++A)k=A/_,w=1-k,S=w*w,b=S*w,C=k*k,R=C*k,d.push(b*p+3*S*k*e+3*w*C*r+R*a,b*g+3*S*k*t+3*w*C*s+R*c)}}function wv(i,e,t,r,s,a,c,d){const p=i-t*s,g=e-r*s,_=i+t*a,w=e+r*a;let S,b;c?(S=r,b=-t):(S=-r,b=t);const C=p+S,R=g+b,A=_+S,k=w+b;return d.push(C,R,A,k),2}function Nl(i,e,t,r,s,a,c,d){const p=t-i,g=r-e;let _=Math.atan2(p,g),w=Math.atan2(s-i,a-e);d&&_<w?_+=Math.PI*2:!d&&_>w&&(w+=Math.PI*2);let S=_;const b=w-_,C=Math.abs(b),R=Math.sqrt(p*p+g*g),A=(15*C*Math.sqrt(R)/Math.PI>>0)+1,k=b/A;if(S+=k,d){c.push(i,e,t,r);for(let U=1,D=S;U<A;U++,D+=k)c.push(i,e,i+Math.sin(D)*R,e+Math.cos(D)*R);c.push(i,e,s,a)}else{c.push(t,r,i,e);for(let U=1,D=S;U<A;U++,D+=k)c.push(i+Math.sin(D)*R,e+Math.cos(D)*R,i,e);c.push(s,a,i,e)}return A*2}function Wb(i,e){const t=i.shape;let r=i.points||t.points.slice();const s=e.closePointEps;if(r.length===0)return;const a=i.lineStyle,c=new ft(r[0],r[1]),d=new ft(r[r.length-2],r[r.length-1]),p=t.type!==jr.POLY||t.closeStroke,g=Math.abs(c.x-d.x)<s&&Math.abs(c.y-d.y)<s;if(p){r=r.slice(),g&&(r.pop(),r.pop(),d.set(r[r.length-2],r[r.length-1]));const G=(c.x+d.x)*.5,P=(d.y+c.y)*.5;r.unshift(G,P),r.push(G,P)}const _=e.points,w=r.length/2;let S=r.length;const b=_.length/2,C=a.width/2,R=C*C,A=a.miterLimit*a.miterLimit;let k=r[0],U=r[1],D=r[2],$=r[3],O=0,K=0,z=-(U-$),te=k-D,ce=0,le=0,xe=Math.sqrt(z*z+te*te);z/=xe,te/=xe,z*=C,te*=C;const Y=a.alignment,Z=(1-Y)*2,ue=Y*2;p||(a.cap===ba.ROUND?S+=Nl(k-z*(Z-ue)*.5,U-te*(Z-ue)*.5,k-z*Z,U-te*Z,k+z*ue,U+te*ue,_,!0)+2:a.cap===ba.SQUARE&&(S+=wv(k,U,z,te,Z,ue,!0,_))),_.push(k-z*Z,U-te*Z,k+z*ue,U+te*ue);for(let G=1;G<w-1;++G){k=r[(G-1)*2],U=r[(G-1)*2+1],D=r[G*2],$=r[G*2+1],O=r[(G+1)*2],K=r[(G+1)*2+1],z=-(U-$),te=k-D,xe=Math.sqrt(z*z+te*te),z/=xe,te/=xe,z*=C,te*=C,ce=-($-K),le=D-O,xe=Math.sqrt(ce*ce+le*le),ce/=xe,le/=xe,ce*=C,le*=C;const P=D-k,j=U-$,N=D-O,I=K-$,L=P*N+j*I,W=j*N-I*P,J=W<0;if(Math.abs(W)<.001*Math.abs(L)){_.push(D-z*Z,$-te*Z,D+z*ue,$+te*ue),L>=0&&(a.join===mi.ROUND?S+=Nl(D,$,D-z*Z,$-te*Z,D-ce*Z,$-le*Z,_,!1)+4:S+=2,_.push(D-ce*ue,$-le*ue,D+ce*Z,$+le*Z));continue}const he=(-z+k)*(-te+$)-(-z+D)*(-te+U),me=(-ce+O)*(-le+$)-(-ce+D)*(-le+K),ge=(P*me-N*he)/W,be=(I*he-j*me)/W,Me=(ge-D)*(ge-D)+(be-$)*(be-$),Pe=D+(ge-D)*Z,Ue=$+(be-$)*Z,Ze=D-(ge-D)*ue,Je=$-(be-$)*ue,pt=Math.min(P*P+j*j,N*N+I*I),We=J?Z:ue,Ke=pt+We*We*R,or=Me<=Ke;let zn=a.join;if(zn===mi.MITER&&Me/R>A&&(zn=mi.BEVEL),or)switch(zn){case mi.MITER:{_.push(Pe,Ue,Ze,Je);break}case mi.BEVEL:{J?_.push(Pe,Ue,D+z*ue,$+te*ue,Pe,Ue,D+ce*ue,$+le*ue):_.push(D-z*Z,$-te*Z,Ze,Je,D-ce*Z,$-le*Z,Ze,Je),S+=2;break}case mi.ROUND:{J?(_.push(Pe,Ue,D+z*ue,$+te*ue),S+=Nl(D,$,D+z*ue,$+te*ue,D+ce*ue,$+le*ue,_,!0)+4,_.push(Pe,Ue,D+ce*ue,$+le*ue)):(_.push(D-z*Z,$-te*Z,Ze,Je),S+=Nl(D,$,D-z*Z,$-te*Z,D-ce*Z,$-le*Z,_,!1)+4,_.push(D-ce*Z,$-le*Z,Ze,Je));break}}else{switch(_.push(D-z*Z,$-te*Z,D+z*ue,$+te*ue),zn){case mi.MITER:{J?_.push(Ze,Je,Ze,Je):_.push(Pe,Ue,Pe,Ue),S+=2;break}case mi.ROUND:{J?S+=Nl(D,$,D+z*ue,$+te*ue,D+ce*ue,$+le*ue,_,!0)+2:S+=Nl(D,$,D-z*Z,$-te*Z,D-ce*Z,$-le*Z,_,!1)+2;break}}_.push(D-ce*Z,$-le*Z,D+ce*ue,$+le*ue),S+=2}}k=r[(w-2)*2],U=r[(w-2)*2+1],D=r[(w-1)*2],$=r[(w-1)*2+1],z=-(U-$),te=k-D,xe=Math.sqrt(z*z+te*te),z/=xe,te/=xe,z*=C,te*=C,_.push(D-z*Z,$-te*Z,D+z*ue,$+te*ue),p||(a.cap===ba.ROUND?S+=Nl(D-z*(Z-ue)*.5,$-te*(Z-ue)*.5,D-z*Z,$-te*Z,D+z*ue,$+te*ue,_,!1)+2:a.cap===ba.SQUARE&&(S+=wv(D,$,z,te,Z,ue,!1,_)));const _e=e.indices,B=oh.epsilon*oh.epsilon;for(let G=b;G<S+b-2;++G)k=_[G*2],U=_[G*2+1],D=_[(G+1)*2],$=_[(G+1)*2+1],O=_[(G+2)*2],K=_[(G+2)*2+1],!(Math.abs(k*($-K)+D*(K-U)+O*(U-$))<B)&&_e.push(G,G+1,G+2)}function Vb(i,e){let t=0;const r=i.shape,s=i.points||r.points,a=r.type!==jr.POLY||r.closeStroke;if(s.length===0)return;const c=e.points,d=e.indices,p=s.length/2,g=c.length/2;let _=g;for(c.push(s[0],s[1]),t=1;t<p;t++)c.push(s[t*2],s[t*2+1]),d.push(_,_+1),_++;a&&d.push(_,g)}function Ev(i,e){i.lineStyle.native?Vb(i,e):Wb(i,e)}class Vg{static curveLength(e,t,r,s,a,c){const d=e-2*r+a,p=t-2*s+c,g=2*r-2*e,_=2*s-2*t,w=4*(d*d+p*p),S=4*(d*g+p*_),b=g*g+_*_,C=2*Math.sqrt(w+S+b),R=Math.sqrt(w),A=2*w*R,k=2*Math.sqrt(b),U=S/R;return(A*C+R*S*(C-k)+(4*b*w-S*S)*Math.log((2*R+U+C)/(U+k)))/(4*A)}static curveTo(e,t,r,s,a){const c=a[a.length-2],d=a[a.length-1],p=oh._segmentsCount(Vg.curveLength(c,d,e,t,r,s));let g=0,_=0;for(let w=1;w<=p;++w){const S=w/p;g=c+(e-c)*S,_=d+(t-d)*S,a.push(g+(e+(r-e)*S-g)*S,_+(t+(s-t)*S-_)*S)}}}const Mm={[jr.POLY]:o_,[jr.CIRC]:yf,[jr.ELIP]:yf,[jr.RECT]:Hb,[jr.RREC]:jb},Sv=[],Gd=[];class vf{constructor(e,t=null,r=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=s,this.type=e.type}clone(){return new vf(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const ju=new ft,a_=class l_ extends p1{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new ff,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Gd.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),Sv.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,s=null){const a=new vf(e,t,r,s);return this.graphicsData.push(a),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const r=new vf(e,null,null,t),s=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=s.lineStyle,s.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let r=0;r<t.length;++r){const s=t[r];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,ju):ju.copyFrom(e),s.shape.contains(ju.x,ju.y))){let a=!1;if(s.holes){for(let c=0;c<s.holes.length;c++)if(s.holes[c].shape.contains(ju.x,ju.y)){a=!0;break}}if(!a)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let r=null,s=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],s=r.style);for(let p=this.shapeIndex;p<t.length;p++){this.shapeIndex++;const g=t[p],_=g.fillStyle,w=g.lineStyle;Mm[g.type].build(g),g.matrix&&this.transformPoints(g.points,g.matrix),(_.visible||w.visible)&&this.processHoles(g.holes);for(let S=0;S<2;S++){const b=S===0?_:w;if(!b.visible)continue;const C=b.texture.baseTexture,R=this.indices.length,A=this.points.length/2;C.wrapMode=Eo.REPEAT,S===0?this.processFill(g):this.processLine(g);const k=this.points.length/2-A;k!==0&&(r&&!this._compareStyles(s,b)&&(r.end(R,A),r=null),r||(r=Sv.pop()||new $b,r.begin(b,R,A),this.batches.push(r),s=b),this.addUvs(this.points,e,b.texture,A,k,b.matrix))}}const a=this.indices.length,c=this.points.length/2;if(r&&r.end(a,c),this.batches.length===0){this.batchable=!0;return}const d=c>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&d===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=d?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const r=this.graphicsData[e],s=r.fillStyle,a=r.lineStyle;if(s&&!s.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,r=e.length;t<r;t++){const s=e[t];for(let a=0;a<s.size;a++){const c=s.start+a;this.indicesUint16[c]=this.indicesUint16[c]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<l_.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++ot._globalBatch;for(let w=0;w<this.drawCalls.length;w++)this.drawCalls[w].texArray.clear(),Gd.push(this.drawCalls[w]);this.drawCalls.length=0;const t=this.colors,r=this.textureIds;let s=Gd.pop();s||(s=new Jm,s.texArray=new ng),s.texArray.count=0,s.start=0,s.size=0,s.type=Xi.TRIANGLES;let a=0,c=null,d=0,p=!1,g=Xi.TRIANGLES,_=0;this.drawCalls.push(s);for(let w=0;w<this.batches.length;w++){const S=this.batches[w],b=8,C=S.style,R=C.texture.baseTexture;p!==!!C.native&&(p=!!C.native,g=p?Xi.LINES:Xi.TRIANGLES,c=null,a=b,e++),c!==R&&(c=R,R._batchEnabled!==e&&(a===b&&(e++,a=0,s.size>0&&(s=Gd.pop(),s||(s=new Jm,s.texArray=new ng),this.drawCalls.push(s)),s.start=_,s.size=0,s.texArray.count=0,s.type=g),R.touched=1,R._batchEnabled=e,R._batchLocation=a,R.wrapMode=Eo.REPEAT,s.texArray.elements[s.texArray.count++]=R,a++)),s.size+=S.size,_+=S.size,d=R._batchLocation,this.addColors(t,C.color,C.alpha,S.attribSize,S.attribStart),this.addTextureIds(r,d,S.attribSize,S.attribStart)}ot._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,r=this.colors,s=this.textureIds,a=new ArrayBuffer(e.length*3*4),c=new Float32Array(a),d=new Uint32Array(a);let p=0;for(let g=0;g<e.length/2;g++)c[p++]=e[g*2],c[p++]=e[g*2+1],c[p++]=t[g*2],c[p++]=t[g*2+1],d[p++]=r[g],c[p++]=s[g];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?o_.triangulate(e,this):Mm[e.type].triangulate(e,this)}processLine(e){Ev(e,this);for(let t=0;t<e.holes.length;t++)Ev(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const r=e[t];Mm[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){const s=e[r*2],a=e[r*2+1];e[r*2]=t.a*s+t.c*a+t.tx,e[r*2+1]=t.b*s+t.d*a+t.ty}}addColors(e,t,r,s,a=0){const c=zt.shared.setValue(t).toLittleEndianNumber(),d=zt.shared.setValue(c).toPremultiplied(r);e.length=Math.max(e.length,a+s);for(let p=0;p<s;p++)e[a+p]=d}addTextureIds(e,t,r,s=0){e.length=Math.max(e.length,s+r);for(let a=0;a<r;a++)e[s+a]=t}addUvs(e,t,r,s,a,c=null){let d=0;const p=t.length,g=r.frame;for(;d<a;){let w=e[(s+d)*2],S=e[(s+d)*2+1];if(c){const b=c.a*w+c.c*S+c.tx;S=c.b*w+c.d*S+c.ty,w=b}d++,t.push(w/g.width,S/g.height)}const _=r.baseTexture;(g.width<_.width||g.height<_.height)&&this.adjustUvs(t,r,p,a)}adjustUvs(e,t,r,s){const a=t.baseTexture,c=1e-6,d=r+s*2,p=t.frame,g=p.width/a.width,_=p.height/a.height;let w=p.x/p.width,S=p.y/p.height,b=Math.floor(e[r]+c),C=Math.floor(e[r+1]+c);for(let R=r+2;R<d;R+=2)b=Math.min(b,Math.floor(e[R]+c)),C=Math.min(C,Math.floor(e[R+1]+c));w-=b,S-=C;for(let R=r;R<d;R+=2)e[R]=(e[R]+w)*g,e[R+1]=(e[R+1]+S)*_}};a_.BATCHABLE_SIZE=100;let Xb=a_;class Df{constructor(){this.color=16777215,this.alpha=1,this.texture=ke.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Df;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ke.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Xg extends Df{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=ba.BUTT,this.join=mi.MITER,this.miterLimit=10}clone(){const e=new Xg;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=ba.BUTT,this.join=mi.MITER,this.miterLimit=10}}const km={},Eg=class tf extends gn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Df,this._lineStyle=new Xg,this._matrix=null,this._holeMode=!1,this.state=Ds.for2d(),this._geometry=e||new Xb,this._geometry.refCount++,this._transformID=-1,this._tintColor=new zt(16777215),this.blendMode=rt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new tf(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,s=.5,a=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:r,alignment:s,native:a}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:ke.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:ba.BUTT,join:mi.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Hl,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Hl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,s=r[r.length-2],a=r[r.length-1];return(s!==e||a!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,s){this._initCurve();const a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),Vg.curveTo(e,t,r,s,a),this}bezierCurveTo(e,t,r,s,a,c){return this._initCurve(),Wg.curveTo(e,t,r,s,a,c,this.currentPath.points),this}arcTo(e,t,r,s,a){this._initCurve(e,t);const c=this.currentPath.points,d=xv.curveTo(e,t,r,s,a,c);if(d){const{cx:p,cy:g,radius:_,startAngle:w,endAngle:S,anticlockwise:b}=d;this.arc(p,g,_,w,S,b)}return this}arc(e,t,r,s,a,c=!1){if(s===a)return this;if(!c&&a<=s?a+=lf:c&&s<=a&&(s+=lf),a-s===0)return this;const d=e+Math.cos(s)*r,p=t+Math.sin(s)*r,g=this._geometry.closePointEps;let _=this.currentPath?this.currentPath.points:null;if(_){const w=Math.abs(_[_.length-2]-d),S=Math.abs(_[_.length-1]-p);w<g&&S<g||_.push(d,p)}else this.moveTo(d,p),_=this.currentPath.points;return xv.arc(d,p,e,t,r,s,a,c,_),this}beginFill(e=0,t){return this.beginTextureFill({texture:ke.WHITE,color:e,alpha:t})}normalizeColor(e){const t=zt.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:ke.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,s){return this.drawShape(new lt(e,t,r,s))}drawRoundedRect(e,t,r,s,a){return this.drawShape(new If(e,t,r,s,a))}drawCircle(e,t,r){return this.drawShape(new Cf(e,t,r))}drawEllipse(e,t,r,s){return this.drawShape(new Pf(e,t,r,s))}drawPolygon(...e){let t,r=!0;const s=e[0];s.points?(r=s.closeStroke,t=s.points):Array.isArray(e[0])?t=e[0]:t=e;const a=new Hl(t);return a.closeStroke=r,this.drawShape(a),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===jr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let s=0;s<r;s++){const a=e.batches[s],c=a.style.color,d=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),p=new Float32Array(e.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),g=new Uint16Array(e.indicesUint16.buffer,a.start*2,a.size),_={vertexData:d,blendMode:t,indices:g,uvs:p,_batchRGB:zt.shared.setValue(c).toRgbArray(),_tintRGB:c,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[s]=_}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){const s=this.batches[t];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const t=this._resolveDirectShader(e),r=this._geometry,s=this.worldAlpha,a=t.uniforms,c=r.drawCalls;a.translationMatrix=this.transform.worldTransform,zt.shared.setValue(this._tintColor).premultiply(s).toArray(a.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let d=0,p=c.length;d<p;d++)this._renderDrawCallDirect(e,r.drawCalls[d])}_renderDrawCallDirect(e,t){const{texArray:r,type:s,size:a,start:c}=t,d=r.count;for(let p=0;p<d;p++)e.texture.bind(r.elements[p],p);e.geometry.draw(s,a,c)}_resolveDirectShader(e){let t=this.shader;const r=this.pluginName;if(!t){if(!km[r]){const{maxTextures:s}=e.plugins[r],a=new Int32Array(s);for(let p=0;p<s;p++)a[p]=p;const c={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:Qi.from({uSamplers:a},!0)},d=e.plugins[r]._shader.program;km[r]=new Rs(d,c)}t=km[r]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:r,maxX:s,maxY:a}=e.bounds;this._bounds.addFrame(this.transform,t,r,s,a)}containsPoint(e){return this.worldTransform.applyInverse(e,tf._TEMP_POINT),this._geometry.containsPoint(tf._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=zt.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,r=t.a,s=t.b,a=t.c,c=t.d,d=t.tx,p=t.ty,g=this._geometry.points,_=this.vertexData;let w=0;for(let S=0;S<g.length;S+=2){const b=g[S],C=g[S+1];_[w++]=r*b+a*C+d,_[w++]=c*C+s*b+p}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};Eg.curves=oh,Eg._TEMP_POINT=new ft;let Tc=Eg;class Yb{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const Nm=new ft,bv=new Hl,u_=class h_ extends gn{constructor(e,t,r,s=Xi.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||Ds.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Be.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Xi.TRIANGLES&&t.length<h_.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const s=this.transform.worldTransform,a=s.a,c=s.b,d=s.c,p=s.d,g=s.tx,_=s.ty,w=this.vertexData;for(let S=0;S<w.length/2;S++){const b=t[S*2],C=t[S*2+1];w[S*2]=a*b+d*C+g,w[S*2+1]=c*b+p*C+_}if(this._roundPixels){const S=Be.RESOLUTION;for(let b=0;b<w.length;++b)w[b]=Math.round(w[b]*S)/S}this.vertexDirty=r}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Yb(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Nm);const t=this.geometry.getBuffer("aVertexPosition").data,r=bv.points,s=this.geometry.getIndex().data,a=s.length,c=this.drawMode===4?3:1;for(let d=0;d+2<a;d+=c){const p=s[d]*2,g=s[d+1]*2,_=s[d+2]*2;if(r[0]=t[p],r[1]=t[p+1],r[2]=t[g],r[3]=t[g+1],r[4]=t[_],r[5]=t[_+1],bv.contains(Nm.x,Nm.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};u_.BATCHABLE_SIZE=100;let Pc=u_;class Of extends Aa{constructor(e,t,r){super();const s=new fr(e),a=new fr(t,!0),c=new fr(r,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,Qe.FLOAT).addAttribute("aTextureCoord",a,2,!1,Qe.FLOAT).addIndex(c),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var qb=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Qb=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Ic extends Rs{constructor(e,t){const r={uSampler:e,alpha:1,uTextureMatrix:Ht.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(r,t.uniforms),super(t.program||xo.from(Qb,qb),r),this._colorDirty=!1,this.uvMatrix=new Hg(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new zt(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;zt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class Kb extends Of{constructor(e=100,t=100,r=10,s=10){super(),this.segWidth=r,this.segHeight=s,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],r=[],s=[],a=this.segWidth-1,c=this.segHeight-1,d=this.width/a,p=this.height/c;for(let _=0;_<e;_++){const w=_%this.segWidth,S=_/this.segWidth|0;t.push(w*d,S*p),r.push(w/a,S/c)}const g=a*c;for(let _=0;_<g;_++){const w=_%a,S=_/a|0,b=S*this.segWidth+w,C=S*this.segWidth+w+1,R=(S+1)*this.segWidth+w,A=(S+1)*this.segWidth+w+1;s.push(b,C,R,C,A,R)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class Zb extends Of{constructor(e=200,t,r=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));const a=r.data,c=s.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;let d=0,p=e[0];const g=this._width*this.textureScale,_=e.length;for(let S=0;S<_;S++){const b=S*4;if(this.textureScale>0){const C=p.x-e[S].x,R=p.y-e[S].y,A=Math.sqrt(C*C+R*R);p=e[S],d+=A/g}else d=S/(_-1);a[b]=d,a[b+1]=0,a[b+2]=d,a[b+3]=1}let w=0;for(let S=0;S<_-1;S++){const b=S*2;c[w++]=b,c[w++]=b+1,c[w++]=b+2,c[w++]=b+2,c[w++]=b+1,c[w++]=b+3}r.update(),s.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],r,s=0,a=0;const c=this.buffers[0].data,d=e.length,p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let g=0;g<d;g++){const _=e[g],w=g*4;g<e.length-1?r=e[g+1]:r=_,a=-(r.x-t.x),s=r.y-t.y;const S=Math.sqrt(s*s+a*a);S<1e-6?(s=0,a=0):(s/=S,a/=S,s*=p,a*=p),c[w]=_.x+s,c[w+1]=_.y+a,c[w+2]=_.x-s,c[w+3]=_.y-a,t=_}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class Jb extends Pc{constructor(e,t,r){const s=new Kb(e.width,e.height,t,r),a=new Ic(ke.WHITE);super(s,a),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:r}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Hd=10;class eT extends Jb{constructor(e,t,r,s,a){var c,d,p,g;super(ke.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??((c=e.defaultBorders)==null?void 0:c.left)??Hd,this._rightWidth=s??((d=e.defaultBorders)==null?void 0:d.right)??Hd,this._topHeight=r??((p=e.defaultBorders)==null?void 0:p.top)??Hd,this._bottomHeight=a??((g=e.defaultBorders)==null?void 0:g.bottom)??Hd,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,s=this._height>r?1:this._height/r;return Math.min(t,s)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,s=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=s*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class tT extends Pc{constructor(e=ke.EMPTY,t,r,s,a){const c=new Of(t,r,s);c.getBuffer("aVertexPosition").static=!1;const d=new Ic(e);super(c,d,null,a),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class rT extends Pc{constructor(e,t,r=0){const s=new Zb(e.height,t,r),a=new Ic(e);r>0&&(e.baseTexture.wrapMode=Eo.REPEAT),super(s,a),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class nT extends gn{constructor(e=1500,t,r=16384,s=!1){super();const a=16384;r>a&&(r=a),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=rt.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new zt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Tv{constructor(e,t,r){this.geometry=new Aa,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let a=e[s];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Qe.FLOAT,offset:a.offset},t[s]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new fr(vw(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];d.offset=t,t+=d.size,this.dynamicStride+=d.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new fr(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];d.offset=s,s+=d.size,this.staticStride+=d.size}const a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new fr(this.staticData,!0,!1);for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];e.addAttribute(d.attributeName,this.dynamicBuffer,0,d.type===Qe.UNSIGNED_BYTE,d.type,this.dynamicStride*4,d.offset*4)}for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];e.addAttribute(d.attributeName,this.staticBuffer,0,d.type===Qe.UNSIGNED_BYTE,d.type,this.staticStride*4,d.offset*4)}}uploadDynamic(e,t,r){for(let s=0;s<this.dynamicProperties.length;s++){const a=this.dynamicProperties[s];a.uploadFunction(e,t,r,a.type===Qe.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let s=0;s<this.staticProperties.length;s++){const a=this.staticProperties[s];a.uploadFunction(e,t,r,a.type===Qe.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var iT=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,sT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class c_ extends Mf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ht,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Qe.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Rs.from(sT,iT,{}),this.state=Ds.for2d()}render(e){const t=e.children,r=e._maxSize,s=e._batchSize,a=this.renderer;let c=t.length;if(c===0)return;c>r&&!e.autoResize&&(c=r);let d=e._buffers;d||(d=e._buffers=this.generateBuffers(e));const p=t[0]._texture.baseTexture,g=p.alphaMode>0;this.state.blendMode=c1(e.blendMode,g),a.state.set(this.state);const _=a.gl,w=e.worldTransform.copyTo(this.tempMatrix);w.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=w.toArray(!0),this.shader.uniforms.uColor=zt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,g).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=p,this.renderer.shader.bind(this.shader);let S=!1;for(let b=0,C=0;b<c;b+=s,C+=1){let R=c-b;R>s&&(R=s),C>=d.length&&d.push(this._generateOneMoreBuffer(e));const A=d[C];A.uploadDynamic(t,b,R);const k=e._bufferUpdateIDs[C]||0;S=S||A._updateID<k,S&&(A._updateID=e._updateID,A.uploadStatic(t,b,R)),a.geometry.bind(A.geometry),_.drawElements(_.TRIANGLES,R*6,_.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],r=e._maxSize,s=e._batchSize,a=e._properties;for(let c=0;c<r;c+=s)t.push(new Tv(this.properties,a,s));return t}_generateOneMoreBuffer(e){const t=e._batchSize,r=e._properties;return new Tv(this.properties,r,t)}uploadVertices(e,t,r,s,a,c){let d=0,p=0,g=0,_=0;for(let w=0;w<r;++w){const S=e[t+w],b=S._texture,C=S.scale.x,R=S.scale.y,A=b.trim,k=b.orig;A?(p=A.x-S.anchor.x*k.width,d=p+A.width,_=A.y-S.anchor.y*k.height,g=_+A.height):(d=k.width*(1-S.anchor.x),p=k.width*-S.anchor.x,g=k.height*(1-S.anchor.y),_=k.height*-S.anchor.y),s[c]=p*C,s[c+1]=_*R,s[c+a]=d*C,s[c+a+1]=_*R,s[c+a*2]=d*C,s[c+a*2+1]=g*R,s[c+a*3]=p*C,s[c+a*3+1]=g*R,c+=a*4}}uploadPosition(e,t,r,s,a,c){for(let d=0;d<r;d++){const p=e[t+d].position;s[c]=p.x,s[c+1]=p.y,s[c+a]=p.x,s[c+a+1]=p.y,s[c+a*2]=p.x,s[c+a*2+1]=p.y,s[c+a*3]=p.x,s[c+a*3+1]=p.y,c+=a*4}}uploadRotation(e,t,r,s,a,c){for(let d=0;d<r;d++){const p=e[t+d].rotation;s[c]=p,s[c+a]=p,s[c+a*2]=p,s[c+a*3]=p,c+=a*4}}uploadUvs(e,t,r,s,a,c){for(let d=0;d<r;++d){const p=e[t+d]._texture._uvs;p?(s[c]=p.x0,s[c+1]=p.y0,s[c+a]=p.x1,s[c+a+1]=p.y1,s[c+a*2]=p.x2,s[c+a*2+1]=p.y2,s[c+a*3]=p.x3,s[c+a*3+1]=p.y3,c+=a*4):(s[c]=0,s[c+1]=0,s[c+a]=0,s[c+a+1]=0,s[c+a*2]=0,s[c+a*2+1]=0,s[c+a*3]=0,s[c+a*3+1]=0,c+=a*4)}}uploadTint(e,t,r,s,a,c){for(let d=0;d<r;++d){const p=e[t+d],g=zt.shared.setValue(p._tintRGB).toPremultiplied(p.alpha,p.texture.baseTexture.alphaMode>0);s[c]=g,s[c+a]=g,s[c+a*2]=g,s[c+a*3]=g,c+=a*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}c_.extension={name:"particle",type:Ne.RendererPlugin};Ve.add(c_);var Ff=(i=>(i[i.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",i[i.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",i))(Ff||{});const jd={willReadFrequently:!0},Ts=class Ye{static get experimentalLetterSpacingSupported(){let e=Ye._experimentalLetterSpacingSupported;if(e!==void 0){const t=Be.ADAPTER.getCanvasRenderingContext2D().prototype;e=Ye._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,r,s,a,c,d,p,g){this.text=e,this.style=t,this.width=r,this.height=s,this.lines=a,this.lineWidths=c,this.lineHeight=d,this.maxLineWidth=p,this.fontProperties=g}static measureText(e,t,r,s=Ye._canvas){r=r??t.wordWrap;const a=t.toFontString(),c=Ye.measureFont(a);c.fontSize===0&&(c.fontSize=t.fontSize,c.ascent=t.fontSize);const d=s.getContext("2d",jd);d.font=a;const p=(r?Ye.wordWrap(e,t,s):e).split(/(?:\r\n|\r|\n)/),g=new Array(p.length);let _=0;for(let C=0;C<p.length;C++){const R=Ye._measureText(p[C],t.letterSpacing,d);g[C]=R,_=Math.max(_,R)}let w=_+t.strokeThickness;t.dropShadow&&(w+=t.dropShadowDistance);const S=t.lineHeight||c.fontSize+t.strokeThickness;let b=Math.max(S,c.fontSize+t.strokeThickness*2)+t.leading+(p.length-1)*(S+t.leading);return t.dropShadow&&(b+=t.dropShadowDistance),new Ye(e,t,w,b,p,g,S+t.leading,_,c)}static _measureText(e,t,r){let s=!1;Ye.experimentalLetterSpacingSupported&&(Ye.experimentalLetterSpacing?(r.letterSpacing=`${t}px`,r.textLetterSpacing=`${t}px`,s=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let a=r.measureText(e).width;return a>0&&(s?a-=t:a+=(Ye.graphemeSegmenter(e).length-1)*t),a}static wordWrap(e,t,r=Ye._canvas){const s=r.getContext("2d",jd);let a=0,c="",d="";const p=Object.create(null),{letterSpacing:g,whiteSpace:_}=t,w=Ye.collapseSpaces(_),S=Ye.collapseNewlines(_);let b=!w;const C=t.wordWrapWidth+g,R=Ye.tokenize(e);for(let A=0;A<R.length;A++){let k=R[A];if(Ye.isNewline(k)){if(!S){d+=Ye.addLine(c),b=!w,c="",a=0;continue}k=" "}if(w){const D=Ye.isBreakingSpace(k),$=Ye.isBreakingSpace(c[c.length-1]);if(D&&$)continue}const U=Ye.getFromCache(k,g,p,s);if(U>C)if(c!==""&&(d+=Ye.addLine(c),c="",a=0),Ye.canBreakWords(k,t.breakWords)){const D=Ye.wordWrapSplit(k);for(let $=0;$<D.length;$++){let O=D[$],K=O,z=1;for(;D[$+z];){const ce=D[$+z];if(!Ye.canBreakChars(K,ce,k,$,t.breakWords))O+=ce;else break;K=ce,z++}$+=z-1;const te=Ye.getFromCache(O,g,p,s);te+a>C&&(d+=Ye.addLine(c),b=!1,c="",a=0),c+=O,a+=te}}else{c.length>0&&(d+=Ye.addLine(c),c="",a=0);const D=A===R.length-1;d+=Ye.addLine(k,!D),b=!1,c="",a=0}else U+a>C&&(b=!1,d+=Ye.addLine(c),c="",a=0),(c.length>0||!Ye.isBreakingSpace(k)||b)&&(c+=k,a+=U)}return d+=Ye.addLine(c,!1),d}static addLine(e,t=!0){return e=Ye.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,r,s){let a=r[e];return typeof a!="number"&&(a=Ye._measureText(e,t,s)+t,r[e]=a),a}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const r=e[t];if(!Ye.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:Ye._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:Ye._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let r="";if(typeof e!="string")return t;for(let s=0;s<e.length;s++){const a=e[s],c=e[s+1];if(Ye.isBreakingSpace(a,c)||Ye.isNewline(a)){r!==""&&(t.push(r),r=""),t.push(a);continue}r+=a}return r!==""&&t.push(r),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,s,a){return!0}static wordWrapSplit(e){return Ye.graphemeSegmenter(e)}static measureFont(e){if(Ye._fonts[e])return Ye._fonts[e];const t={ascent:0,descent:0,fontSize:0},r=Ye._canvas,s=Ye._context;s.font=e;const a=Ye.METRICS_STRING+Ye.BASELINE_SYMBOL,c=Math.ceil(s.measureText(a).width);let d=Math.ceil(s.measureText(Ye.BASELINE_SYMBOL).width);const p=Math.ceil(Ye.HEIGHT_MULTIPLIER*d);if(d=d*Ye.BASELINE_MULTIPLIER|0,c===0||p===0)return Ye._fonts[e]=t,t;r.width=c,r.height=p,s.fillStyle="#f00",s.fillRect(0,0,c,p),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(a,0,d);const g=s.getImageData(0,0,c,p).data,_=g.length,w=c*4;let S=0,b=0,C=!1;for(S=0;S<d;++S){for(let R=0;R<w;R+=4)if(g[b+R]!==255){C=!0;break}if(!C)b+=w;else break}for(t.ascent=d-S,b=_-w,C=!1,S=p;S>d;--S){for(let R=0;R<w;R+=4)if(g[b+R]!==255){C=!0;break}if(!C)b-=w;else break}return t.descent=S-d,t.fontSize=t.ascent+t.descent,Ye._fonts[e]=t,t}static clearMetrics(e=""){e?delete Ye._fonts[e]:Ye._fonts={}}static get _canvas(){var e;if(!Ye.__canvas){let t;try{const r=new OffscreenCanvas(0,0);if((e=r.getContext("2d",jd))!=null&&e.measureText)return Ye.__canvas=r,r;t=Be.ADAPTER.createCanvas()}catch{t=Be.ADAPTER.createCanvas()}t.width=t.height=10,Ye.__canvas=t}return Ye.__canvas}static get _context(){return Ye.__context||(Ye.__context=Ye._canvas.getContext("2d",jd)),Ye.__context}};Ts.METRICS_STRING="|q",Ts.BASELINE_SYMBOL="M",Ts.BASELINE_MULTIPLIER=1.4,Ts.HEIGHT_MULTIPLIER=2,Ts.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const i=new Intl.Segmenter;return e=>[...i.segment(e)].map(t=>t.segment)}return i=>[...i]})(),Ts.experimentalLetterSpacing=!1,Ts._fonts={},Ts._newlines=[10,13],Ts._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let wa=Ts;const oT=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],d_=class xc{constructor(e){this.styleID=0,this.reset(),Om(this,e,e)}clone(){const e={};return Om(e,this,xc.defaultStyle),new xc(e)}reset(){Om(this,xc.defaultStyle,xc.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=Dm(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=Dm(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){aT(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=Dm(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let s=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!oT.includes(s)&&(s=`"${s}"`),t[r]=s}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};d_.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ff.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Pa=d_;function Dm(i){const e=zt.shared,t=r=>{const s=e.setValue(r);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(i)?i.map(t):t(i)}function aT(i,e){if(!Array.isArray(i)||!Array.isArray(e)||i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(i[t]!==e[t])return!1;return!0}function Om(i,e,t){for(const r in t)Array.isArray(e[r])?i[r]=e[r].slice():i[r]=e[r]}const lT={texture:!0,children:!1,baseTexture:!0},f_=class Sg extends Os{constructor(e,t,r){let s=!1;r||(r=Be.ADAPTER.createCanvas(),s=!0),r.width=3,r.height=3;const a=ke.from(r);a.orig=new lt,a.trim=new lt,super(a),this._ownCanvas=s,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=Sg.defaultResolution??Be.RESOLUTION,this._autoResolution=Sg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return wa.experimentalLetterSpacing}static set experimentalLetterSpacing(e){dt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),wa.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const r=this.context,s=wa.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,c=s.height,d=s.lines,p=s.lineHeight,g=s.lineWidths,_=s.maxLineWidth,w=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,c)+t.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;let S,b;const C=t.dropShadow?2:1;for(let R=0;R<C;++R){const A=t.dropShadow&&R===0,k=A?Math.ceil(Math.max(1,c)+t.padding*2):0,U=k*this._resolution;if(A){r.fillStyle="black",r.strokeStyle="black";const $=t.dropShadowColor,O=t.dropShadowBlur*this._resolution,K=t.dropShadowDistance*this._resolution;r.shadowColor=zt.shared.setValue($).setAlpha(t.dropShadowAlpha).toRgbaString(),r.shadowBlur=O,r.shadowOffsetX=Math.cos(t.dropShadowAngle)*K,r.shadowOffsetY=Math.sin(t.dropShadowAngle)*K+U}else r.fillStyle=this._generateFillStyle(t,d,s),r.strokeStyle=t.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let D=(p-w.fontSize)/2;p-w.fontSize<0&&(D=0);for(let $=0;$<d.length;$++)S=t.strokeThickness/2,b=t.strokeThickness/2+$*p+w.ascent+D,t.align==="right"?S+=_-g[$]:t.align==="center"&&(S+=(_-g[$])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(d[$],S+t.padding,b+t.padding-k,!0),t.fill&&this.drawLetterSpacing(d[$],S+t.padding,b+t.padding-k)}this.updateTexture()}drawLetterSpacing(e,t,r,s=!1){const a=this._style.letterSpacing;let c=!1;if(wa.experimentalLetterSpacingSupported&&(wa.experimentalLetterSpacing?(this.context.letterSpacing=`${a}px`,this.context.textLetterSpacing=`${a}px`,c=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),a===0||c){s?this.context.strokeText(e,t,r):this.context.fillText(e,t,r);return}let d=t;const p=wa.graphemeSegmenter(e);let g=this.context.measureText(e).width,_=0;for(let w=0;w<p.length;++w){const S=p[w];s?this.context.strokeText(S,d,r):this.context.fillText(S,d,r);let b="";for(let C=w+1;C<p.length;++C)b+=p[C];_=this.context.measureText(b).width,d+=g-_+a,g=_}}updateTexture(){const e=this.canvas;if(this._style.trim){const c=Ew(e);c.data&&(e.width=c.width,e.height=c.height,this.context.putImageData(c.data,0,0))}const t=this._texture,r=this._style,s=r.trim?0:r.padding,a=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-s,t.trim.y=-s,t.orig.width=t._frame.width-s*2,t.orig.height=t._frame.height-s*2,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let a;const c=e.dropShadow?e.dropShadowDistance:0,d=e.padding||0,p=this.canvas.width/this._resolution-c-d*2,g=this.canvas.height/this._resolution-c-d*2,_=s.slice(),w=e.fillGradientStops.slice();if(!w.length){const S=_.length+1;for(let b=1;b<S;++b)w.push(b/S)}if(_.unshift(s[0]),w.unshift(0),_.push(s[s.length-1]),w.push(1),e.fillGradientType===Ff.LINEAR_VERTICAL){a=this.context.createLinearGradient(p/2,d,p/2,g+d);const S=r.fontProperties.fontSize+e.strokeThickness;for(let b=0;b<t.length;b++){const C=r.lineHeight*(b-1)+S,R=r.lineHeight*b;let A=R;b>0&&C>R&&(A=(R+C)/2);const k=R+S,U=r.lineHeight*(b+1);let D=k;b+1<t.length&&U<k&&(D=(k+U)/2);const $=(D-A)/g;for(let O=0;O<_.length;O++){let K=0;typeof w[O]=="number"?K=w[O]:K=O/_.length;let z=Math.min(1,Math.max(0,A/g+K*$));z=Number(z.toFixed(5)),a.addColorStop(z,_[O])}}}else{a=this.context.createLinearGradient(d,g/2,p+d,g/2);const S=_.length+1;let b=1;for(let C=0;C<_.length;C++){let R;typeof w[C]=="number"?R=w[C]:R=b/S,a.addColorStop(R,_[C]),b++}}return a}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},lT,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=Sa(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=Sa(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Pa?this._style=e:this._style=new Pa(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};f_.defaultAutoResolution=!0;let Yg=f_;class uT{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function hT(i,e){var r;let t=!1;if((r=i==null?void 0:i._textures)!=null&&r.length){for(let s=0;s<i._textures.length;s++)if(i._textures[s]instanceof ke){const a=i._textures[s].baseTexture;e.includes(a)||(e.push(a),t=!0)}}return t}function cT(i,e){if(i.baseTexture instanceof ot){const t=i.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function dT(i,e){if(i._texture&&i._texture instanceof ke){const t=i._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function fT(i,e){return e instanceof Yg?(e.updateText(!0),!0):!1}function pT(i,e){if(e instanceof Pa){const t=e.toFontString();return wa.measureFont(t),!0}return!1}function mT(i,e){if(i instanceof Yg){e.includes(i.style)||e.push(i.style),e.includes(i)||e.push(i);const t=i._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function gT(i,e){return i instanceof Pa?(e.includes(i)||e.push(i),!0):!1}const p_=class m_{constructor(e){this.limiter=new uT(m_.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(mT),this.registerFindHook(gT),this.registerFindHook(hT),this.registerFindHook(cT),this.registerFindHook(dT),this.registerUploadHook(fT),this.registerUploadHook(pT)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,Dr.system.addOnce(this.tick,this,Ca.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let r=0,s=this.uploadHooks.length;r<s;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)Dr.system.addOnce(this.tick,this,Ca.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof gn)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&Dr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};p_.uploadsPerFrame=4;let bg=p_;Object.defineProperties(Be,{UPLOADS_PER_FRAME:{get(){return bg.uploadsPerFrame},set(i){dt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),bg.uploadsPerFrame=i}}});function g_(i,e){return e instanceof ot?(e._glTextures[i.CONTEXT_UID]||i.texture.bind(e),!0):!1}function yT(i,e){if(!(e instanceof Tc))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:r}=t;for(let s=0;s<r.length;s++){const{texture:a}=r[s].style;a&&g_(i,a.baseTexture)}return t.batchable||i.geometry.bind(t,e._resolveDirectShader(i)),!0}function vT(i,e){return i instanceof Tc?(e.push(i),!0):!1}class y_ extends bg{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(vT),this.registerUploadHook(g_),this.registerUploadHook(yT)}}y_.extension={name:"prepare",type:Ne.RendererSystem};Ve.add(y_);class Rc extends Os{constructor(e,t=!0){super(e[0]instanceof ke?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Dr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Dr.shared.add(this.update,this,Ca.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=t/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const a=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let r=0;r<e.length;++r)t.push(ke.from(e[r]));return new Rc(t)}static fromImages(e){const t=[];for(let r=0;r<e.length;++r)t.push(ke.from(e[r]));return new Rc(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ke)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Dr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Dr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const dc=new ft;class qg extends Os{constructor(e,t=100,r=100){super(e),this.tileTransform=new Rf,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new Hg(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,s)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,dc);const t=this._width,r=this._height,s=-t*this.anchor._x;if(dc.x>=s&&dc.x<s+t){const a=-r*this.anchor._y;if(dc.y>=a&&dc.y<a+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const r=e instanceof ke?e:ke.from(e,t);return new qg(r,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var _T=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,xT=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,wT=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Av=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,ET=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const $d=new Ht;class v_ extends Mf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new b1,this.state=Ds.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Rs.from(Av,ET,t),this.shader=e.context.webGLVersion>1?Rs.from(xT,_T,t):Rs.from(Av,wT,t)}render(e){const t=this.renderer,r=this.quad;let s=r.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const a=e.uvRespectAnchor?e.anchor.x:0,c=e.uvRespectAnchor?e.anchor.y:0;s=r.uvs,s[0]=s[6]=-a,s[1]=s[3]=-c,s[2]=s[4]=1-a,s[5]=s[7]=1-c,r.invalidate();const d=e._texture,p=d.baseTexture,g=p.alphaMode>0,_=e.tileTransform.localTransform,w=e.uvMatrix;let S=p.isPowerOfTwo&&d.frame.width===p.width&&d.frame.height===p.height;S&&(p._glTextures[t.CONTEXT_UID]?S=p.wrapMode!==Eo.CLAMP:p.wrapMode===Eo.CLAMP&&(p.wrapMode=Eo.REPEAT));const b=S?this.simpleShader:this.shader,C=d.width,R=d.height,A=e._width,k=e._height;$d.set(_.a*C/A,_.b*C/k,_.c*R/A,_.d*R/k,_.tx/A,_.ty/k),$d.invert(),S?$d.prepend(w.mapCoord):(b.uniforms.uMapCoord=w.mapCoord.toArray(!0),b.uniforms.uClampFrame=w.uClampFrame,b.uniforms.uClampOffset=w.uClampOffset),b.uniforms.uTransform=$d.toArray(!0),b.uniforms.uColor=zt.shared.setValue(e.tint).premultiply(e.worldAlpha,g).toArray(b.uniforms.uColor),b.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),b.uniforms.uSampler=d,t.shader.bind(b),t.geometry.bind(r),this.state.blendMode=c1(e.blendMode,g),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}v_.extension={name:"tilingSprite",type:Ne.RendererPlugin};Ve.add(v_);const __=class wc{constructor(e,t,r){this.linkedSheets=[],(e instanceof ot||e instanceof ke)&&(e={texture:e,data:t,resolutionFilename:r});const{texture:s,data:a,resolutionFilename:c=null,cachePrefix:d=""}=e;this.cachePrefix=d,this._texture=s instanceof ke?s:null,this.baseTexture=s instanceof ot?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=a;const p=this.baseTexture.resource;this.resolution=this._updateResolution(c||(p?p.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let r=So(e,null);return r===null&&(r=typeof t=="number"?t:parseFloat(t??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=wc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const r=wc.BATCH_SIZE;for(;t-e<r&&t<this._frameKeys.length;){const s=this._frameKeys[t],a=this._frames[s],c=a.frame;if(c){let d=null,p=null;const g=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,_=new lt(0,0,Math.floor(g.w)/this.resolution,Math.floor(g.h)/this.resolution);a.rotated?d=new lt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):d=new lt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(p=new lt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[s]=new ke(this.baseTexture,d,_,p,a.rotated?2:0,a.anchor,a.borders),ke.addToCache(this.textures[s],this.cachePrefix+s.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const s=e[t][r];this.animations[t].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*wc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*wc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};__.BATCH_SIZE=1e3;let Cv=__;const ST=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function x_(i,e,t){const r={};if(i.forEach(s=>{r[s]=e}),Object.keys(e.textures).forEach(s=>{r[`${e.cachePrefix}${s}`]=e.textures[s]}),!t){const s=Or.dirname(i[0]);e.linkedSheets.forEach((a,c)=>{Object.assign(r,x_([`${s}/${e.data.meta.related_multi_packs[c]}`],a,!0))})}return r}const bT={extension:Ne.Asset,cache:{test:i=>i instanceof Cv,getCacheableAssets:(i,e)=>x_(i,e,!1)},resolver:{test:i=>{const e=i.split("?")[0].split("."),t=e.pop(),r=e.pop();return t==="json"&&ST.includes(r)},parse:i=>{var t;const e=i.split(".");return{resolution:parseFloat(((t=Be.RETINA_PREFIX.exec(i))==null?void 0:t[1])??"1"),format:e[e.length-2],src:i}}},loader:{name:"spritesheetLoader",extension:{type:Ne.LoadParser,priority:Ki.Normal},async testParse(i,e){return Or.extname(e.src).toLowerCase()===".json"&&!!i.frames},async parse(i,e,t){var _,w;const{texture:r,imageFilename:s,cachePrefix:a}=(e==null?void 0:e.data)??{};let c=Or.dirname(e.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let d;if(r&&r.baseTexture)d=r;else{const S=_g(c+(s??i.meta.image),e.src);d=(await t.load([S]))[S]}const p=new Cv({texture:d.baseTexture,data:i,resolutionFilename:e.src,cachePrefix:a});await p.parse();const g=(_=i==null?void 0:i.meta)==null?void 0:_.related_multi_packs;if(Array.isArray(g)){const S=[];for(const C of g){if(typeof C!="string")continue;let R=c+C;(w=e.data)!=null&&w.ignoreMultiPack||(R=_g(R,e.src),S.push(t.load({src:R,data:{ignoreMultiPack:!0}})))}const b=await Promise.all(S);p.linkedSheets=b,b.forEach(C=>{C.linkedSheets=[p].concat(p.linkedSheets.filter(R=>R!==C))})}return p},unload(i){i.destroy(!0)}}};Ve.add(bT);class _f{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class rf{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const a in t){const c=t[a].match(/^[a-z]+/gm)[0],d=t[a].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const g in d){const _=d[g].split("="),w=_[0],S=_[1].replace(/"/gm,""),b=parseFloat(S),C=isNaN(b)?S:b;p[w]=C}r[c].push(p)}const s=new _f;return r.info.forEach(a=>s.info.push({face:a.face,size:parseInt(a.size,10)})),r.common.forEach(a=>s.common.push({lineHeight:parseInt(a.lineHeight,10)})),r.page.forEach(a=>s.page.push({id:parseInt(a.id,10),file:a.file})),r.char.forEach(a=>s.char.push({id:parseInt(a.id,10),page:parseInt(a.page,10),x:parseInt(a.x,10),y:parseInt(a.y,10),width:parseInt(a.width,10),height:parseInt(a.height,10),xoffset:parseInt(a.xoffset,10),yoffset:parseInt(a.yoffset,10),xadvance:parseInt(a.xadvance,10)})),r.kerning.forEach(a=>s.kerning.push({first:parseInt(a.first,10),second:parseInt(a.second,10),amount:parseInt(a.amount,10)})),r.distanceField.forEach(a=>s.distanceField.push({distanceRange:parseInt(a.distanceRange,10),fieldType:a.fieldType})),s}}class Tg{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new _f,r=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),c=e.getElementsByTagName("char"),d=e.getElementsByTagName("kerning"),p=e.getElementsByTagName("distanceField");for(let g=0;g<r.length;g++)t.info.push({face:r[g].getAttribute("face"),size:parseInt(r[g].getAttribute("size"),10)});for(let g=0;g<s.length;g++)t.common.push({lineHeight:parseInt(s[g].getAttribute("lineHeight"),10)});for(let g=0;g<a.length;g++)t.page.push({id:parseInt(a[g].getAttribute("id"),10)||0,file:a[g].getAttribute("file")});for(let g=0;g<c.length;g++){const _=c[g];t.char.push({id:parseInt(_.getAttribute("id"),10),page:parseInt(_.getAttribute("page"),10)||0,x:parseInt(_.getAttribute("x"),10),y:parseInt(_.getAttribute("y"),10),width:parseInt(_.getAttribute("width"),10),height:parseInt(_.getAttribute("height"),10),xoffset:parseInt(_.getAttribute("xoffset"),10),yoffset:parseInt(_.getAttribute("yoffset"),10),xadvance:parseInt(_.getAttribute("xadvance"),10)})}for(let g=0;g<d.length;g++)t.kerning.push({first:parseInt(d[g].getAttribute("first"),10),second:parseInt(d[g].getAttribute("second"),10),amount:parseInt(d[g].getAttribute("amount"),10)});for(let g=0;g<p.length;g++)t.distanceField.push({fieldType:p[g].getAttribute("fieldType"),distanceRange:parseInt(p[g].getAttribute("distanceRange"),10)});return t}}class Ag{static test(e){return typeof e=="string"&&e.includes("<font>")?Tg.test(Be.ADAPTER.parseXML(e)):!1}static parse(e){return Tg.parse(Be.ADAPTER.parseXML(e))}}const Fm=[rf,Tg,Ag];function TT(i){for(let e=0;e<Fm.length;e++)if(Fm[e].test(i))return Fm[e];return null}function AT(i,e,t,r,s,a){const c=t.fill;if(Array.isArray(c)){if(c.length===1)return c[0]}else return c;let d;const p=t.dropShadow?t.dropShadowDistance:0,g=t.padding||0,_=i.width/r-p-g*2,w=i.height/r-p-g*2,S=c.slice(),b=t.fillGradientStops.slice();if(!b.length){const C=S.length+1;for(let R=1;R<C;++R)b.push(R/C)}if(S.unshift(c[0]),b.unshift(0),S.push(c[c.length-1]),b.push(1),t.fillGradientType===Ff.LINEAR_VERTICAL){d=e.createLinearGradient(_/2,g,_/2,w+g);let C=0;const R=(a.fontProperties.fontSize+t.strokeThickness)/w;for(let A=0;A<s.length;A++){const k=a.lineHeight*A;for(let U=0;U<S.length;U++){let D=0;typeof b[U]=="number"?D=b[U]:D=U/S.length;const $=k/w+D*R;let O=Math.max(C,$);O=Math.min(O,1),d.addColorStop(O,S[U]),C=O}}}else{d=e.createLinearGradient(g,w/2,_+g,w/2);const C=S.length+1;let R=1;for(let A=0;A<S.length;A++){let k;typeof b[A]=="number"?k=b[A]:k=R/C,d.addColorStop(k,S[A]),R++}}return d}function CT(i,e,t,r,s,a,c){const d=t.text,p=t.fontProperties;e.translate(r,s),e.scale(a,a);const g=c.strokeThickness/2,_=-(c.strokeThickness/2);if(e.font=c.toFontString(),e.lineWidth=c.strokeThickness,e.textBaseline=c.textBaseline,e.lineJoin=c.lineJoin,e.miterLimit=c.miterLimit,e.fillStyle=AT(i,e,c,a,[d],t),e.strokeStyle=c.stroke,c.dropShadow){const w=c.dropShadowColor,S=c.dropShadowBlur*a,b=c.dropShadowDistance*a;e.shadowColor=zt.shared.setValue(w).setAlpha(c.dropShadowAlpha).toRgbaString(),e.shadowBlur=S,e.shadowOffsetX=Math.cos(c.dropShadowAngle)*b,e.shadowOffsetY=Math.sin(c.dropShadowAngle)*b}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;c.stroke&&c.strokeThickness&&e.strokeText(d,g,_+t.lineHeight-p.descent),c.fill&&e.fillText(d,g,_+t.lineHeight-p.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function nf(i){return i.codePointAt?i.codePointAt(0):i.charCodeAt(0)}function w_(i){return Array.from?Array.from(i):i.split("")}function PT(i){typeof i=="string"&&(i=[i]);const e=[];for(let t=0,r=i.length;t<r;t++){const s=i[t];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);const a=s[0].charCodeAt(0),c=s[1].charCodeAt(0);if(c<a)throw new Error("[BitmapFont]: Invalid character range.");for(let d=a,p=c;d<=p;d++)e.push(String.fromCharCode(d))}else e.push(...w_(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const _a=class As{constructor(e,t,r){var _;const[s]=e.info,[a]=e.common,[c]=e.page,[d]=e.distanceField,p=So(c.file),g={};this._ownsTextures=r,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/p,this.chars={},this.pageTextures=g;for(let w=0;w<e.page.length;w++){const{id:S,file:b}=e.page[w];g[S]=t instanceof Array?t[w]:t[b],d!=null&&d.fieldType&&d.fieldType!=="none"&&(g[S].baseTexture.alphaMode=Ln.NO_PREMULTIPLIED_ALPHA,g[S].baseTexture.mipmap=Ms.OFF)}for(let w=0;w<e.char.length;w++){const{id:S,page:b}=e.char[w];let{x:C,y:R,width:A,height:k,xoffset:U,yoffset:D,xadvance:$}=e.char[w];C/=p,R/=p,A/=p,k/=p,U/=p,D/=p,$/=p;const O=new lt(C+g[b].frame.x/p,R+g[b].frame.y/p,A,k);this.chars[S]={xOffset:U,yOffset:D,xAdvance:$,kerning:{},texture:new ke(g[b].baseTexture,O),page:b}}for(let w=0;w<e.kerning.length;w++){let{first:S,second:b,amount:C}=e.kerning[w];S/=p,b/=p,C/=p,this.chars[b]&&(this.chars[b].kerning[S]=C)}this.distanceFieldRange=d==null?void 0:d.distanceRange,this.distanceFieldType=((_=d==null?void 0:d.fieldType)==null?void 0:_.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,r){let s;if(e instanceof _f)s=e;else{const c=TT(e);if(!c)throw new Error("Unrecognized data format for font.");s=c.parse(e)}t instanceof ke&&(t=[t]);const a=new As(s,t,r);return As.available[a.font]=a,a}static uninstall(e){const t=As.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete As.available[e]}static from(e,t,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:a,resolution:c,textureWidth:d,textureHeight:p,...g}=Object.assign({},As.defaultOptions,r),_=PT(s),w=t instanceof Pa?t:new Pa(t),S=d,b=new _f;b.info[0]={face:w.fontFamily,size:w.fontSize},b.common[0]={lineHeight:w.fontSize};let C=0,R=0,A,k,U,D=0;const $=[];for(let K=0;K<_.length;K++){A||(A=Be.ADAPTER.createCanvas(),A.width=d,A.height=p,k=A.getContext("2d"),U=new ot(A,{resolution:c,...g}),$.push(new ke(U)),b.page.push({id:$.length-1,file:""}));const z=_[K],te=wa.measureText(z,w,!1,A),ce=te.width,le=Math.ceil(te.height),xe=Math.ceil((w.fontStyle==="italic"?2:1)*ce);if(R>=p-le*c){if(R===0)throw new Error(`[BitmapFont] textureHeight ${p}px is too small (fontFamily: '${w.fontFamily}', fontSize: ${w.fontSize}px, char: '${z}')`);--K,A=null,k=null,U=null,R=0,C=0,D=0;continue}if(D=Math.max(le+te.fontProperties.descent,D),xe*c+C>=S){if(C===0)throw new Error(`[BitmapFont] textureWidth ${d}px is too small (fontFamily: '${w.fontFamily}', fontSize: ${w.fontSize}px, char: '${z}')`);--K,R+=D*c,R=Math.ceil(R),C=0,D=0;continue}CT(A,k,te,C,R,c,w);const Y=nf(te.text);b.char.push({id:Y,page:$.length-1,x:C/c,y:R/c,width:xe,height:le,xoffset:0,yoffset:0,xadvance:ce-(w.dropShadow?w.dropShadowDistance:0)-(w.stroke?w.strokeThickness:0)}),C+=(xe+2*a)*c,C=Math.ceil(C)}if(!(r!=null&&r.skipKerning))for(let K=0,z=_.length;K<z;K++){const te=_[K];for(let ce=0;ce<z;ce++){const le=_[ce],xe=k.measureText(te).width,Y=k.measureText(le).width,Z=k.measureText(te+le).width-(xe+Y);Z&&b.kerning.push({first:nf(te),second:nf(le),amount:Z})}}const O=new As(b,$,!0);return As.available[e]!==void 0&&As.uninstall(e),As.available[e]=O,O}};_a.ALPHA=[["a","z"],["A","Z"]," "],_a.NUMERIC=[["0","9"]],_a.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],_a.ASCII=[[" ","~"]],_a.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:_a.ALPHANUMERIC},_a.available={};let xa=_a;var IT=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,RT=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Pv=[],Iv=[],Rv=[],E_=class S_ extends gn{constructor(e,t={}){super();const{align:r,tint:s,maxWidth:a,letterSpacing:c,fontName:d,fontSize:p}=Object.assign({},S_.styleDefaults,t);if(!xa.available[d])throw new Error(`Missing BitmapFont "${d}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new zt(s),this._font=void 0,this._fontName=d,this._fontSize=p,this.text=e,this._maxWidth=a,this._maxLineHeight=0,this._letterSpacing=c,this._anchor=new Ps(()=>{this.dirty=!0},this,0,0),this._roundPixels=Be.ROUND_PIXELS,this.dirty=!0,this._resolution=Be.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var xe;const e=xa.available[this._fontName],t=this.fontSize,r=t/e.size,s=new ft,a=[],c=[],d=[],p=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",g=w_(p),_=this._maxWidth*e.size/t,w=e.distanceFieldType==="none"?Pv:Iv;let S=null,b=0,C=0,R=0,A=-1,k=0,U=0,D=0,$=0;for(let Y=0;Y<g.length;Y++){const Z=g[Y],ue=nf(Z);if(/(?:\s)/.test(Z)&&(A=Y,k=b,$++),Z==="\r"||Z===`
`){c.push(b),d.push(-1),C=Math.max(C,b),++R,++U,s.x=0,s.y+=e.lineHeight,S=null,$=0;continue}const _e=e.chars[ue];if(!_e)continue;S&&_e.kerning[S]&&(s.x+=_e.kerning[S]);const B=Rv.pop()||{texture:ke.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ft};B.texture=_e.texture,B.line=R,B.charCode=ue,B.position.x=Math.round(s.x+_e.xOffset+this._letterSpacing/2),B.position.y=Math.round(s.y+_e.yOffset),B.prevSpaces=$,a.push(B),b=B.position.x+Math.max(_e.xAdvance-_e.xOffset,_e.texture.orig.width),s.x+=_e.xAdvance+this._letterSpacing,D=Math.max(D,_e.yOffset+_e.texture.height),S=ue,A!==-1&&_>0&&s.x>_&&(++U,eh(a,1+A-U,1+Y-A),Y=A,A=-1,c.push(k),d.push(a.length>0?a[a.length-1].prevSpaces:0),C=Math.max(C,k),R++,s.x=0,s.y+=e.lineHeight,S=null,$=0)}const O=g[g.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(b=k),c.push(b),C=Math.max(C,b),d.push(-1));const K=[];for(let Y=0;Y<=R;Y++){let Z=0;this._align==="right"?Z=C-c[Y]:this._align==="center"?Z=(C-c[Y])/2:this._align==="justify"&&(Z=d[Y]<0?0:(C-c[Y])/d[Y]),K.push(Z)}const z=a.length,te={},ce=[],le=this._activePagesMeshData;w.push(...le);for(let Y=0;Y<z;Y++){const Z=a[Y].texture,ue=Z.baseTexture.uid;if(!te[ue]){let _e=w.pop();if(!_e){const G=new Of;let P,j;e.distanceFieldType==="none"?(P=new Ic(ke.EMPTY),j=rt.NORMAL):(P=new Ic(ke.EMPTY,{program:xo.from(RT,IT),uniforms:{uFWidth:0}}),j=rt.NORMAL_NPM);const N=new Pc(G,P);N.blendMode=j,_e={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:N,vertices:null,uvs:null,indices:null}}_e.index=0,_e.indexCount=0,_e.vertexCount=0,_e.uvsCount=0,_e.total=0;const{_textureCache:B}=this;B[ue]=B[ue]||new ke(Z.baseTexture),_e.mesh.texture=B[ue],_e.mesh.tint=this._tintColor.value,ce.push(_e),te[ue]=_e}te[ue].total++}for(let Y=0;Y<le.length;Y++)ce.includes(le[Y])||this.removeChild(le[Y].mesh);for(let Y=0;Y<ce.length;Y++)ce[Y].mesh.parent!==this&&this.addChild(ce[Y].mesh);this._activePagesMeshData=ce;for(const Y in te){const Z=te[Y],ue=Z.total;if(!(((xe=Z.indices)==null?void 0:xe.length)>6*ue)||Z.vertices.length<Pc.BATCHABLE_SIZE*2)Z.vertices=new Float32Array(4*2*ue),Z.uvs=new Float32Array(4*2*ue),Z.indices=new Uint16Array(6*ue);else{const _e=Z.total,B=Z.vertices;for(let G=_e*4*2;G<B.length;G++)B[G]=0}Z.mesh.size=6*ue}for(let Y=0;Y<z;Y++){const Z=a[Y];let ue=Z.position.x+K[Z.line]*(this._align==="justify"?Z.prevSpaces:1);this._roundPixels&&(ue=Math.round(ue));const _e=ue*r,B=Z.position.y*r,G=Z.texture,P=te[G.baseTexture.uid],j=G.frame,N=G._uvs,I=P.index++;P.indices[I*6+0]=0+I*4,P.indices[I*6+1]=1+I*4,P.indices[I*6+2]=2+I*4,P.indices[I*6+3]=0+I*4,P.indices[I*6+4]=2+I*4,P.indices[I*6+5]=3+I*4,P.vertices[I*8+0]=_e,P.vertices[I*8+1]=B,P.vertices[I*8+2]=_e+j.width*r,P.vertices[I*8+3]=B,P.vertices[I*8+4]=_e+j.width*r,P.vertices[I*8+5]=B+j.height*r,P.vertices[I*8+6]=_e,P.vertices[I*8+7]=B+j.height*r,P.uvs[I*8+0]=N.x0,P.uvs[I*8+1]=N.y0,P.uvs[I*8+2]=N.x1,P.uvs[I*8+3]=N.y1,P.uvs[I*8+4]=N.x2,P.uvs[I*8+5]=N.y2,P.uvs[I*8+6]=N.x3,P.uvs[I*8+7]=N.y3}this._textWidth=C*r,this._textHeight=(s.y+e.lineHeight)*r;for(const Y in te){const Z=te[Y];if(this.anchor.x!==0||this.anchor.y!==0){let G=0;const P=this._textWidth*this.anchor.x,j=this._textHeight*this.anchor.y;for(let N=0;N<Z.total;N++)Z.vertices[G++]-=P,Z.vertices[G++]-=j,Z.vertices[G++]-=P,Z.vertices[G++]-=j,Z.vertices[G++]-=P,Z.vertices[G++]-=j,Z.vertices[G++]-=P,Z.vertices[G++]-=j}this._maxLineHeight=D*r;const ue=Z.mesh.geometry.getBuffer("aVertexPosition"),_e=Z.mesh.geometry.getBuffer("aTextureCoord"),B=Z.mesh.geometry.getIndex();ue.data=Z.vertices,_e.data=Z.uvs,B.data=Z.indices,ue.update(),_e.update(),B.update()}for(let Y=0;Y<a.length;Y++)Rv.push(a[Y]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:r,size:s}=xa.available[this._fontName];if(r!=="none"){const{a,b:c,c:d,d:p}=this.worldTransform,g=Math.sqrt(a*a+c*c),_=Math.sqrt(d*d+p*p),w=(Math.abs(g)+Math.abs(_))/2,S=this.fontSize/s,b=e._view.resolution;for(const C of this._activePagesMeshData)C.mesh.shader.uniforms.uFWidth=w*t*S*b}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=xa.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!xa.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??xa.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,r=xa.available[this._fontName].distanceFieldType==="none"?Pv:Iv;r.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],r.filter(s=>t[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=ke.EMPTY});for(const s in t)t[s].destroy(),delete t[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};E_.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let MT=E_;const kT=[".xml",".fnt"],NT={extension:{type:Ne.LoadParser,priority:Ki.Normal},name:"loadBitmapFont",test(i){return kT.includes(Or.extname(i).toLowerCase())},async testParse(i){return rf.test(i)||Ag.test(i)},async parse(i,e,t){const r=rf.test(i)?rf.parse(i):Ag.parse(i),{src:s}=e,{page:a}=r,c=[];for(let g=0;g<a.length;++g){const _=a[g].file;let w=Or.join(Or.dirname(s),_);w=_g(w,s),c.push(w)}const d=await t.load(c),p=c.map(g=>d[g]);return xa.install(r,p,!0)},async load(i,e){return(await Be.ADAPTER.fetch(i)).text()},unload(i){i.destroy()}};Ve.add(NT);const Cg=class qu extends Pa{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new qu(Object.keys(qu.defaultOptions).reduce((t,r)=>({...t,[r]:e[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete qu.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:r}=qu;if(r[e]){const s=r[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Be.ADAPTER.fetch(e).then(s=>s.blob()).then(async s=>new Promise((a,c)=>{const d=URL.createObjectURL(s),p=new FileReader;p.onload=()=>a([d,p.result]),p.onerror=c,p.readAsDataURL(s)})).then(async([s,a])=>{const c=Object.assign({family:Or.basename(e,Or.extname(e)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:a,refs:1,originalUrl:e,fontFace:null},t);r[e]=c,this._fonts.push(c),this.styleID++;const d=new FontFace(c.family,`url(${c.src})`,{weight:c.weight,style:c.style,display:c.display});c.fontFace=d,await d.load(),document.fonts.add(d),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(r=>!this._overrides.includes(r));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(r=>this._overrides.includes(r));t.length>0&&(this._overrides=this._overrides.filter(r=>!t.includes(r)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=gw(e)),typeof e=="number"?mw(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const a=`${r}px ${s}px`;return this.dropShadowBlur>0?`text-shadow: ${a} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${a} ${e}`}reset(){Object.assign(this,qu.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Be.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};Cg.availableFonts={},Cg.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Bm=Cg;const Wd=class Qu extends Os{constructor(e="",t={}){super(ke.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const r=new Image,s=ke.from(r,{scaleMode:Be.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new lt,s.trim=new lt,this.texture=s;const a="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xhtml",d=document.createElementNS(a,"svg"),p=document.createElementNS(a,"foreignObject"),g=document.createElementNS(c,"div"),_=document.createElementNS(c,"style");p.setAttribute("width","10000"),p.setAttribute("height","10000"),p.style.overflow="hidden",d.appendChild(p),this.maxWidth=Qu.defaultMaxWidth,this.maxHeight=Qu.defaultMaxHeight,this._domElement=g,this._styleElement=_,this._svgRoot=d,this._foreignObject=p,this._foreignObject.appendChild(_),this._foreignObject.appendChild(g),this._image=r,this._loadImage=new Image,this._autoResolution=Qu.defaultAutoResolution,this._resolution=Qu.defaultResolution??Be.RESOLUTION,this.text=e,this.style=t}measureText(e){var _,w;const{text:t,style:r,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:r.toCSS(s)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const a=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:c,height:d}=a;(c>this.maxWidth||d>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const p=Math.min(this.maxWidth,Math.ceil(c)),g=Math.min(this.maxHeight,Math.ceil(d));return this._svgRoot.setAttribute("width",p.toString()),this._svgRoot.setAttribute("height",g.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(_=this._style)==null?void 0:_.toCSS(s)}),this._styleElement.textContent=(w=this._style)==null?void 0:w.toGlobalCSS()),{width:p+r.padding*2,height:g+r.padding*2}}async updateText(e=!0){const{style:t,_image:r,_loadImage:s}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:a,height:c}=this.measureText();r.width=s.width=Math.ceil(Math.max(1,a)),r.height=s.height=Math.ceil(Math.max(1,c)),this._updateID++;const d=this._updateID;await new Promise(p=>{s.onload=async()=>{if(d<this._updateID){p();return}await t.onBeforeDraw(),r.src=s.src,s.onload=null,s.src="",this.updateTexture(),p()};const g=new XMLSerializer().serializeToString(this._svgRoot);s.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(g)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:r,resolution:s}=this,{padding:a}=e,{baseTexture:c}=t;t.trim.width=t._frame.width=r.width/s,t.trim.height=t._frame.height=r.height/s,t.trim.x=-a,t.trim.y=-a,t.orig.width=t._frame.width-a*2,t.orig.height=t._frame.height-a*2,this._onTextureUpdate(),c.setRealSize(r.width,r.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var r,s,a,c,d;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Qu.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=t,(s=this._svgRoot)==null||s.remove(),this._svgRoot=t,(a=this._domElement)==null||a.remove(),this._domElement=t,(c=this._foreignObject)==null||c.remove(),this._foreignObject=t,(d=this._styleElement)==null||d.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=Sa(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=Sa(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Bm?(this.ownsStyle=!1,this._style=e):e instanceof Pa?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Bm.from(e)):(this.ownsStyle=!0,this._style=new Bm(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Wd.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Wd.defaultMaxWidth=2024,Wd.defaultMaxHeight=2024,Wd.defaultAutoResolution=!0;var Ac={exports:{}},Lm={exports:{}},Um,Mv;function DT(){if(Mv)return Um;Mv=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Um=i,Um}var zm,kv;function OT(){if(kv)return zm;kv=1;var i=DT();function e(){}function t(){}return t.resetWarningCache=e,zm=function(){function r(c,d,p,g,_,w){if(w!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},zm}var Nv;function FT(){return Nv||(Nv=1,Lm.exports=OT()()),Lm.exports}var BT=FT();const Gt=Sf(BT);function ti(i){return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti(i)}function b_(i){var e=function(t,r){if(ti(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r||"default");if(ti(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(i,"string");return ti(e)==="symbol"?e:String(e)}function dr(i,e,t){return(e=b_(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Gm(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function To(i){return function(e){if(Array.isArray(e))return Gm(e)}(i)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(i)||function(e,t){if(e){if(typeof e=="string")return Gm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gm(e,t):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sr(i,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s]}var LT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var zT=function(i){return i==null};function Ec(i){var e=[];if(i===void 0)return e;if(typeof i=="string")e=i.split(",");else if(typeof i=="number")e=[i];else if(Array.isArray(i))e=To(i);else{if(i===null||ti(i)!=="object")return e;e=[i&&(i==null?void 0:i.x)||0,i&&(i==null?void 0:i.y)||0]}return e.filter(function(t){return!zT(t)&&!isNaN(t)}).map(Number)}function Dv(i,e){if(i.length!==e.length)return!1;for(var t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function Hm(i){return i instanceof ft||i instanceof Ps}var xf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function jm(i,e,t){if(Hm(i[e])&&Hm(t))i[e].copyFrom(t);else if(Hm(i[e])){var r=Ec(t);sr(r!==void 0&&r.length>0&&r.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),ti(t)),i[e].set(r.shift(),r.shift())}else i[e]=t}var $u,T_=function(i){var e,t=i;if(!Array.isArray(t)){if(e=i,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(i)}var r={};return t.forEach(function(s){r[s]=!0}),function(s){return r[s]!==void 0}},A_=function(i){return function(){return!i.apply(void 0,arguments)}},Pg="children",GT=(dr($u={},Pg,!0),dr($u,"parent",!0),dr($u,"worldAlpha",!0),dr($u,"worldTransform",!0),dr($u,"worldVisible",!0),$u),Ig={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},ks=function(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(d){return requestAnimationFrame(function(){var p,g;d==null||(p=d.__reactpixi)===null||p===void 0||(g=p.root)===null||g===void 0||g.emit("__REACT_PIXI_REQUEST_RENDER__")})},s=function(d,p){if(t.hasOwnProperty(d))return sr(p.typeofs.some(function(g){return ti(t[d])===g})||p.instanceofs.some(function(g){return t[d]instanceof g}),"".concat(i," ").concat(d," prop is invalid")),t[d]};if(t.texture)return sr(t.texture instanceof ke,"".concat(i," texture needs to be typeof `Texture`")),t.texture;var a=s("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||s("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||s("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ke]});sr(!!a,"".concat(i," could not get texture from props"));var c=ke.from(a);return c.__reactpixi={root:e},c.once("update",r),c.once("loaded",r),c.valid&&r(c),c},HT=A_(T_([].concat(To(Object.keys(GT)),To(xf))));function Ns(i,e,t){var r=!1;if(sr(Xt.prototype.isPrototypeOf(i),"instance needs to be typeof `DisplayObject`, got `%s`",ti(i)),!t.ignoreEvents)for(var s=typeof i.removeListener=="function",a=typeof i.on=="function",c=0;c<xf.length;c++){var d=xf[c];e[d]!==t[d]&&(r=!0,typeof e[d]=="function"&&s&&i.removeListener(d,e[d]),typeof t[d]=="function"&&a&&i.on(d,t[d]))}var p=Object.keys(t||{});if(t.overwriteProps){for(var g=0;g<p.length;g++){var _=p[g];e[_]!==t[_]&&(r=!0,jm(i,_,t[_]))}return r}for(var w=p.filter(HT),S=0;S<w.length;S++){var b=w[S],C=t[b];t[b]!==e[b]&&(r=!0),C!==void 0?jm(i,b,C):b in Ig?(console.warn("setting default value: ".concat(b,", from: ").concat(i[b]," to: ").concat(C," for"),i),r=!0,jm(i,b,Ig[b])):console.warn("ignoring prop: ".concat(b,", from ").concat(i[b]," to ").concat(C," for"),i)}return r}var jT=function(i,e){var t=e.text,r=e.style;return new MT(t,r)},$T=function(){return new gn};function Ra(i,e){if(i==null)return{};var t,r,s=function(c,d){if(c==null)return{};var p,g,_={},w=Object.keys(c);for(g=0;g<w.length;g++)p=w[g],d.indexOf(p)>=0||(_[p]=c[p]);return _}(i,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(i,t)&&(s[t]=i[t])}return s}var WT=["draw","geometry"],VT=function(i,e){var t=e.geometry;sr(!t||t instanceof Tc,"Graphics geometry needs to be a `Graphics`");var r=t?new Tc(t.geometry):new Tc;return r.applyProps=function(s,a,c){var d=c.draw;c.geometry;var p=Ns(s,a,Ra(c,WT));return a.draw!==d&&typeof d=="function"&&(p=!0,d.call(r,r)),p},r},XT=["image","texture"],YT=function(i,e){var t=e.leftWidth,r=t===void 0?10:t,s=e.topHeight,a=s===void 0?10:s,c=e.rightWidth,d=c===void 0?10:c,p=e.bottomHeight,g=p===void 0?10:p,_=ks("NineSlicePlane",i,e),w=new eT(_,r,a,d,g);return w.applyProps=function(S,b,C){var R=C.image,A=C.texture,k=Ns(S,b,Ra(C,XT));return(R||A)&&(A!==b.texture&&(k=!0),S.texture=ks("NineSlicePlane",i,C)),k},w};function Ov(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function Vd(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ov(Object(t),!0).forEach(function(r){dr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ov(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var qT=function(i,e){var t=e.maxSize,r=t===void 0?1500:t,s=e.batchSize,a=s===void 0?16384:s,c=e.autoResize,d=c!==void 0&&c,p=Vd(Vd({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),g=Vd(Vd({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),_=new nT(r,p,a,d);return _.willUnmount=function(w,S,b){w.destroy(g)},_},QT=["image","texture"],KT=function(i,e){var t=new Os(ks("Sprite",i,e));return t.applyProps=function(r,s,a){var c=a.image,d=a.texture,p=Ns(r,s,Ra(a,QT));return(d&&s.texture!==a.texture||c&&s.image!==a.image)&&(s.texture!==a.texture&&(p=!0),r.texture=ks("Sprite",i,a)),p},t},ZT=["textures","isPlaying","initialFrame","images"],JT=function(i,e){var t=e.textures,r=e.images,s=e.isPlaying,a=s===void 0||s,c=e.initialFrame,d=function(g){return g.map(function(_){return sr(_ instanceof ke||(_==null?void 0:_.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),_})},p=r?Rc.fromImages(r):new Rc(d(t));return p[a?"gotoAndPlay":"gotoAndStop"](c||0),p.applyProps=function(g,_,w){var S=w.textures,b=w.isPlaying,C=w.initialFrame,R=w.images,A=Ns(g,_,Ra(w,ZT));if(R&&_.images!==R){for(var k=[],U=0;U<R.length;++U)k.push(ke.from(R[U]));g.textures=k,A=!0}if(S&&_.textures!==S&&(g.textures=d(S),A=!0),b!==_.isPlaying||C!==_.initialFrame){var D=typeof C=="number"?C:p.currentFrame||0;p[b?"gotoAndPlay":"gotoAndStop"](D),A=!0}return A},p},eA=function(i,e){var t=e.text,r=t===void 0?"":t,s=e.style,a=s===void 0?{}:s,c=e.isSprite,d=new Yg(r,a);return c?(d.updateText(),new Os(d.texture)):d},tA=["tileScale","tilePosition","image","texture"],rA=function(i,e){var t=e.width,r=t===void 0?100:t,s=e.height,a=s===void 0?100:s,c=ks("TilingSprite",i,e),d=new qg(c,r,a);return d.applyProps=function(p,g,_){var w=_.tileScale,S=_.tilePosition,b=_.image,C=_.texture,R=Ns(p,g,Ra(_,tA));if(S){var A,k=Ec(S);(A=p.tilePosition).set.apply(A,To(k)),R=!Dv(Ec(g.tilePosition),k)||R}if(w){var U,D=Ec(w);(U=p.tileScale).set.apply(U,To(D)),R=!Dv(Ec(g.tileScale),D)||R}return(b||C)&&(C!==g.texture&&(R=!0),p.texture=ks("Sprite",i,_)),R},d},nA=["image","texture"],iA=function(i,e){var t=ks("Mesh",i,e),r=e.vertices,s=e.uvs,a=e.indices,c=e.drawMode,d=c===void 0?Xi.TRIANGLES:c,p=new tT(t,r,s,a,d);return p.applyProps=function(g,_,w){var S=w.image,b=w.texture,C=Ns(g,_,Ra(w,nA));return(S||b)&&(b!==_.texture&&(C=!0),g.texture=ks("Mesh",i,w)),C},p},sA=["image","texture"],oA=function(i,e){var t=ks("SimpleRope",i,e),r=e.points,s=new rT(t,r);return s.applyProps=function(a,c,d){var p=d.image,g=d.texture,_=Ra(d,sA);sr(Array.isArray(d.points),"SimpleRope points needs to be %s","Array<Point>");var w=Ns(a,c,_);return(p||g)&&(g!==c.texture&&(w=!0),a.texture=ks("SimpleRope",i,d)),w},s},aA=Object.freeze({__proto__:null,BitmapText:jT,Container:$T,Graphics:VT,NineSlicePlane:YT,ParticleContainer:qT,Sprite:KT,Text:eA,TilingSprite:rA,SimpleMesh:iA,SimpleRope:oA,AnimatedSprite:JT});function Fv(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function Bv(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fv(Object(t),!0).forEach(function(r){dr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Fv(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Un={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},lA=Object.keys(Un).reduce(function(i,e){return Bv(Bv({},i),{},dr({},e,aA[e]))},{}),C_={};function uA(i,e){return sr(!!i,"Expect type to be defined, got `%s`",i),sr(!Un[i],"Component `%s` could not be created, already exists in default components.",i),C_[i]=e,i}var Lv,Uv,zv,Gv,Rg={},Mg={},hA={get exports(){return Mg},set exports(i){Mg=i}},Hv={};function cA(){return Uv||(Uv=1,hA.exports=(Lv||(Lv=1,function(i){function e(P,j){var N=P.length;P.push(j);e:for(;0<N;){var I=N-1>>>1,L=P[I];if(!(0<s(L,j)))break e;P[I]=j,P[N]=L,N=I}}function t(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var j=P[0],N=P.pop();if(N!==j){P[0]=N;e:for(var I=0,L=P.length,W=L>>>1;I<W;){var J=2*(I+1)-1,he=P[J],me=J+1,ge=P[me];if(0>s(he,N))me<L&&0>s(ge,he)?(P[I]=ge,P[me]=N,I=me):(P[I]=he,P[J]=N,I=J);else{if(!(me<L&&0>s(ge,N)))break e;P[I]=ge,P[me]=N,I=me}}}return j}function s(P,j){var N=P.sortIndex-j.sortIndex;return N!==0?N:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,w=null,S=3,b=!1,C=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function D(P){for(var j=t(g);j!==null;){if(j.callback===null)r(g);else{if(!(j.startTime<=P))break;r(g),j.sortIndex=j.expirationTime,e(p,j)}j=t(g)}}function $(P){if(R=!1,D(P),!C)if(t(p)!==null)C=!0,B(O);else{var j=t(g);j!==null&&G($,j.startTime-P)}}function O(P,j){C=!1,R&&(R=!1,k(ce),ce=-1),b=!0;var N=S;try{for(D(j),w=t(p);w!==null&&(!(w.expirationTime>j)||P&&!Y());){var I=w.callback;if(typeof I=="function"){w.callback=null,S=w.priorityLevel;var L=I(w.expirationTime<=j);j=i.unstable_now(),typeof L=="function"?w.callback=L:w===t(p)&&r(p),D(j)}else r(p);w=t(p)}if(w!==null)var W=!0;else{var J=t(g);J!==null&&G($,J.startTime-j),W=!1}return W}finally{w=null,S=N,b=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var K,z=!1,te=null,ce=-1,le=5,xe=-1;function Y(){return!(i.unstable_now()-xe<le)}function Z(){if(te!==null){var P=i.unstable_now();xe=P;var j=!0;try{j=te(!0,P)}finally{j?K():(z=!1,te=null)}}else z=!1}if(typeof U=="function")K=function(){U(Z)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,_e=ue.port2;ue.port1.onmessage=Z,K=function(){_e.postMessage(null)}}else K=function(){A(Z,0)};function B(P){te=P,z||(z=!0,K())}function G(P,j){ce=A(function(){P(i.unstable_now())},j)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_continueExecution=function(){C||b||(C=!0,B(O))},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(P){switch(S){case 1:case 2:case 3:var j=3;break;default:j=S}var N=S;S=j;try{return P()}finally{S=N}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var N=S;S=P;try{return j()}finally{S=N}},i.unstable_scheduleCallback=function(P,j,N){var I=i.unstable_now();switch(N=typeof N=="object"&&N!==null&&typeof(N=N.delay)=="number"&&0<N?I+N:I,P){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return P={id:_++,callback:j,priorityLevel:P,startTime:N,expirationTime:L=N+L,sortIndex:-1},N>I?(P.sortIndex=N,e(g,P),t(p)===null&&P===t(g)&&(R?(k(ce),ce=-1):R=!0,G($,N-I))):(P.sortIndex=L,e(p,P),C||b||(C=!0,B(O))),P},i.unstable_shouldYield=Y,i.unstable_wrapCallback=function(P){var j=S;return function(){var N=S;S=j;try{return P.apply(this,arguments)}finally{S=N}}}}(Hv)),Hv)),Mg}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function dA(){return Gv||(Gv=1,zv=function(i){var e={},t=wo,r=cA(),s=Object.assign;function a(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),b=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),$=Symbol.iterator;function O(l){return l===null||typeof l!="object"?null:typeof(l=$&&l[$]||l["@@iterator"])=="function"?l:null}function K(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case g:return"Fragment";case p:return"Portal";case w:return"Profiler";case _:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case b:return(l.displayName||"Context")+".Consumer";case S:return(l._context.displayName||"Context")+".Provider";case C:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case k:return(u=l.displayName||null)!==null?u:K(l.type)||"Memo";case U:u=l._payload,l=l._init;try{return K(l(u))}catch{}}return null}function z(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(u);case 8:return u===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function te(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function ce(l){if(te(l)!==l)throw Error(a(188))}function le(l){var u=l.alternate;if(!u){if((u=te(l))===null)throw Error(a(188));return u!==l?null:l}for(var m=l,v=u;;){var x=m.return;if(x===null)break;var T=x.alternate;if(T===null){if((v=x.return)!==null){m=v;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===m)return ce(x),l;if(T===v)return ce(x),u;T=T.sibling}throw Error(a(188))}if(m.return!==v.return)m=x,v=T;else{for(var F=!1,X=x.child;X;){if(X===m){F=!0,m=x,v=T;break}if(X===v){F=!0,v=x,m=T;break}X=X.sibling}if(!F){for(X=T.child;X;){if(X===m){F=!0,m=T,v=x;break}if(X===v){F=!0,v=T,m=x;break}X=X.sibling}if(!F)throw Error(a(189))}}if(m.alternate!==v)throw Error(a(190))}if(m.tag!==3)throw Error(a(188));return m.stateNode.current===m?l:u}function xe(l){return(l=le(l))!==null?Y(l):null}function Y(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Y(l);if(u!==null)return u;l=l.sibling}return null}function Z(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=Z(l);if(u!==null)return u}l=l.sibling}return null}var ue,_e=Array.isArray,B=i.getPublicInstance,G=i.getRootHostContext,P=i.getChildHostContext,j=i.prepareForCommit,N=i.resetAfterCommit,I=i.createInstance,L=i.appendInitialChild,W=i.finalizeInitialChildren,J=i.prepareUpdate,he=i.shouldSetTextContent,me=i.createTextInstance,ge=i.scheduleTimeout,be=i.cancelTimeout,Me=i.noTimeout,Pe=i.isPrimaryRenderer,Ue=i.supportsMutation,Ze=i.supportsPersistence,Je=i.supportsHydration,pt=i.getInstanceFromNode,We=i.preparePortalMount,Ke=i.getCurrentEventPriority,or=i.detachDeletedInstance,zn=i.supportsMicrotasks,Ao=i.scheduleMicrotask,Gn=i.supportsTestSelectors,Zi=i.findFiberRoot,Ma=i.getBoundingRect,Xl=i.getTextContent,Ji=i.isHiddenSubtree,Yl=i.matchAccessibilityRole,ka=i.setFocusIfFocusable,Na=i.setupIntersectionObserver,ri=i.appendChild,Co=i.appendChildToContainer,es=i.commitTextUpdate,Fs=i.commitMount,lh=i.commitUpdate,Po=i.insertBefore,Bs=i.insertInContainerBefore,ne=i.removeChild,se=i.removeChildFromContainer,ut=i.resetTextContent,wt=i.hideInstance,bt=i.hideTextInstance,it=i.unhideInstance,Fr=i.unhideTextInstance,$r=i.clearContainer,br=i.cloneInstance,yn=i.createContainerChildSet,Ls=i.appendChildToContainerChildSet,vi=i.finalizeContainerChildren,Tr=i.replaceContainerChildren,Us=i.cloneHiddenInstance,Io=i.cloneHiddenTextInstance,ts=i.canHydrateInstance,_i=i.canHydrateTextInstance,xi=i.canHydrateSuspenseInstance,zs=i.isSuspenseInstancePending,Hn=i.isSuspenseInstanceFallback,rs=i.getSuspenseInstanceFallbackErrorDetails,Gs=i.registerSuspenseInstanceRetry,wi=i.getNextHydratableSibling,Da=i.getFirstHydratableChild,ql=i.getFirstHydratableChildWithinContainer,Oa=i.getFirstHydratableChildWithinSuspenseInstance,ni=i.hydrateInstance,Ql=i.hydrateTextInstance,Ro=i.hydrateSuspenseInstance,ns=i.getNextHydratableInstanceAfterSuspenseInstance,Hs=i.commitHydratedContainer,Kl=i.commitHydratedSuspenseInstance,Fa=i.clearSuspenseBoundary,Bc=i.clearSuspenseBoundaryFromContainer,Uf=i.shouldDeleteUnhydratedTailInstances,zf=i.didNotMatchHydratedContainerTextInstance,Yt=i.didNotMatchHydratedTextInstance;function Ba(l){if(ue===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);ue=u&&u[1]||""}return`
`+ue+l}var La=!1;function Zl(l,u){if(!l||La)return"";La=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(de){var v=de}Reflect.construct(l,[],u)}else{try{u.call()}catch(de){v=de}l.call(u.prototype)}else{try{throw Error()}catch(de){v=de}l()}}catch(de){if(de&&v&&typeof de.stack=="string"){for(var x=de.stack.split(`
`),T=v.stack.split(`
`),F=x.length-1,X=T.length-1;1<=F&&0<=X&&x[F]!==T[X];)X--;for(;1<=F&&0<=X;F--,X--)if(x[F]!==T[X]){if(F!==1||X!==1)do if(F--,0>--X||x[F]!==T[X]){var re=`
`+x[F].replace(" at new "," at ");return l.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",l.displayName)),re}while(1<=F&&0<=X);break}}}finally{La=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Ba(l):""}var Jl=Object.prototype.hasOwnProperty,uh=[],js=-1;function jn(l){return{current:l}}function mt(l){0>js||(l.current=uh[js],uh[js]=null,js--)}function It(l,u){js++,uh[js]=l.current,l.current=u}var pr={},Ar=jn(pr),Wr=jn(!1),$s=pr;function Ei(l,u){var m=l.type.contextTypes;if(!m)return pr;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var x,T={};for(x in m)T[x]=u[x];return v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=T),T}function Cr(l){return(l=l.childContextTypes)!=null}function Ws(){mt(Wr),mt(Ar)}function Ua(l,u,m){if(Ar.current!==pr)throw Error(a(168));It(Ar,u),It(Wr,m)}function Lc(l,u,m){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return m;for(var x in v=v.getChildContext())if(!(x in u))throw Error(a(108,z(l)||"Unknown",x));return s({},m,v)}function eu(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||pr,$s=Ar.current,It(Ar,l),It(Wr,Wr.current),!0}function tu(l,u,m){var v=l.stateNode;if(!v)throw Error(a(169));m?(l=Lc(l,u,$s),v.__reactInternalMemoizedMergedChildContext=l,mt(Wr),mt(Ar),It(Ar,l)):mt(Wr),It(Wr,m)}var vn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(hh(l)/za|0)|0},hh=Math.log,za=Math.LN2,ch=64,Ga=4194304;function gt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ha(l,u){var m=l.pendingLanes;if(m===0)return 0;var v=0,x=l.suspendedLanes,T=l.pingedLanes,F=268435455&m;if(F!==0){var X=F&~x;X!==0?v=gt(X):(T&=F)!==0&&(v=gt(T))}else(F=m&~x)!==0?v=gt(F):T!==0&&(v=gt(T));if(v===0)return 0;if(u!==0&&u!==v&&!(u&x)&&((x=v&-v)>=(T=u&-u)||x===16&&4194240&T))return u;if(4&v&&(v|=16&m),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=v;0<u;)x=1<<(m=31-vn(u)),v|=l[m],u&=~x;return v}function Uc(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function ja(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function dh(){var l=ch;return!(4194240&(ch<<=1))&&(ch=64),l}function ru(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Mo(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-vn(u)]=m}function $a(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var v=31-vn(m),x=1<<v;x&u|l[v]&u&&(l[v]|=u),m&=~x}}var ct=0;function Si(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var ii=r.unstable_scheduleCallback,bi=r.unstable_cancelCallback,Wa=r.unstable_shouldYield,Va=r.unstable_requestPaint,Dt=r.unstable_now,fh=r.unstable_ImmediatePriority,zc=r.unstable_UserBlockingPriority,ko=r.unstable_NormalPriority,Gf=r.unstable_IdlePriority,Xa=null,nn=null,_n=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},Ti=null,is=!1,Vs=!1;function Xs(l){Ti===null?Ti=[l]:Ti.push(l)}function sn(){if(!Vs&&Ti!==null){Vs=!0;var l=0,u=ct;try{var m=Ti;for(ct=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}Ti=null,is=!1}catch(x){throw Ti!==null&&(Ti=Ti.slice(l+1)),ii(fh,sn),x}finally{ct=u,Vs=!1}}return null}var No=[],Do=0,Oo=null,Ys=0,Vr=[],on=0,Xr=null,xn=1,wn="";function ss(l,u){No[Do++]=Ys,No[Do++]=Oo,Oo=l,Ys=u}function Ya(l,u,m){Vr[on++]=xn,Vr[on++]=wn,Vr[on++]=Xr,Xr=l;var v=xn;l=wn;var x=32-vn(v)-1;v&=~(1<<x),m+=1;var T=32-vn(u)+x;if(30<T){var F=x-x%5;T=(v&(1<<F)-1).toString(32),v>>=F,x-=F,xn=1<<32-vn(u)+x|m<<x|v,wn=T+l}else xn=1<<T|m<<x|v,wn=l}function Fo(l){l.return!==null&&(ss(l,1),Ya(l,1,0))}function nu(l){for(;l===Oo;)Oo=No[--Do],No[Do]=null,Ys=No[--Do],No[Do]=null;for(;l===Xr;)Xr=Vr[--on],Vr[on]=null,wn=Vr[--on],Vr[on]=null,xn=Vr[--on],Vr[on]=null}var Ot=null,yr=null,Rt=!1,Ai=!1,$n=null;function iu(l,u){var m=dn(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,(u=l.deletions)===null?(l.deletions=[m],l.flags|=16):u.push(m)}function su(l,u){switch(l.tag){case 5:return(u=ts(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Ot=l,yr=Da(u),!0);case 6:return(u=_i(u,l.pendingProps))!==null&&(l.stateNode=u,Ot=l,yr=null,!0);case 13:if((u=xi(u))!==null){var m=Xr!==null?{id:xn,overflow:wn}:null;return l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},(m=dn(18,null,null,0)).stateNode=u,m.return=l,l.child=m,Ot=l,yr=null,!0}return!1;default:return!1}}function qs(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Bo(l){if(Rt){var u=yr;if(u){var m=u;if(!su(l,u)){if(qs(l))throw Error(a(418));u=wi(m);var v=Ot;u&&su(l,u)?iu(v,m):(l.flags=-4097&l.flags|2,Rt=!1,Ot=l)}}else{if(qs(l))throw Error(a(418));l.flags=-4097&l.flags|2,Rt=!1,Ot=l}}}function ph(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ot=l}function ou(l){if(!Je||l!==Ot)return!1;if(!Rt)return ph(l),Rt=!0,!1;if(l.tag!==3&&(l.tag!==5||Uf(l.type)&&!he(l.type,l.memoizedProps))){var u=yr;if(u){if(qs(l))throw Gc(),Error(a(418));for(;u;)iu(l,u),u=wi(u)}}if(ph(l),l.tag===13){if(!Je)throw Error(a(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(a(317));yr=ns(l)}else yr=Ot?wi(l.stateNode):null;return!0}function Gc(){for(var l=yr;l;)l=wi(l)}function Lo(){Je&&(yr=Ot=null,Ai=Rt=!1)}function qa(l){$n===null?$n=[l]:$n.push(l)}var Hf=c.ReactCurrentBatchConfig;function au(l,u){if(_n(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),v=Object.keys(u);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var x=m[v];if(!Jl.call(u,x)||!_n(l[x],u[x]))return!1}return!0}function jf(l){switch(l.tag){case 5:return Ba(l.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 2:case 15:return l=Zl(l.type,!1);case 11:return l=Zl(l.type.render,!1);case 1:return l=Zl(l.type,!0);default:return""}}function Wn(l,u){if(l&&l.defaultProps){for(var m in u=s({},u),l=l.defaultProps)u[m]===void 0&&(u[m]=l[m]);return u}return u}var lu=jn(null),Qa=null,Uo=null,mh=null;function gh(){mh=Uo=Qa=null}function Hc(l,u,m){Pe?(It(lu,u._currentValue),u._currentValue=m):(It(lu,u._currentValue2),u._currentValue2=m)}function Ka(l){var u=lu.current;mt(lu),Pe?l._currentValue=u:l._currentValue2=u}function yh(l,u,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===m)break;l=l.return}}function zo(l,u){Qa=l,mh=Uo=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&($t=!0),l.firstContext=null)}function En(l){var u=Pe?l._currentValue:l._currentValue2;if(mh!==l)if(l={context:l,memoizedValue:u,next:null},Uo===null){if(Qa===null)throw Error(a(308));Uo=l,Qa.dependencies={lanes:0,firstContext:l}}else Uo=Uo.next=l;return u}var os=null;function vh(l){os===null?os=[l]:os.push(l)}function jc(l,u,m,v){var x=u.interleaved;return x===null?(m.next=m,vh(u)):(m.next=x.next,x.next=m),u.interleaved=m,si(l,v)}function si(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,(m=l.alternate)!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var as=!1;function _h(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $c(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ci(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function oi(l,u,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(2&st)!=0){var x=v.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),v.pending=u,si(l,m)}return(x=v.interleaved)===null?(u.next=u,vh(v)):(u.next=x.next,x.next=u),v.interleaved=u,si(l,m)}function ls(l,u,m){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&m)!=0)){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,$a(l,m)}}function Wc(l,u){var m=l.updateQueue,v=l.alternate;if(v!==null&&m===(v=v.updateQueue)){var x=null,T=null;if((m=m.firstBaseUpdate)!==null){do{var F={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?x=T=F:T=T.next=F,m=m.next}while(m!==null);T===null?x=T=u:T=T.next=u}else x=T=u;return m={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:v.shared,effects:v.effects},void(l.updateQueue=m)}(l=m.lastBaseUpdate)===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function Za(l,u,m,v){var x=l.updateQueue;as=!1;var T=x.firstBaseUpdate,F=x.lastBaseUpdate,X=x.shared.pending;if(X!==null){x.shared.pending=null;var re=X,de=re.next;re.next=null,F===null?T=de:F.next=de,F=re;var ye=l.alternate;ye!==null&&(X=(ye=ye.updateQueue).lastBaseUpdate)!==F&&(X===null?ye.firstBaseUpdate=de:X.next=de,ye.lastBaseUpdate=re)}if(T!==null){var Re=x.baseState;for(F=0,ye=de=re=null,X=T;;){var fe=X.lane,Ae=X.eventTime;if((v&fe)===fe){ye!==null&&(ye=ye.next={eventTime:Ae,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Ge=l,at=X;switch(fe=u,Ae=m,at.tag){case 1:if(typeof(Ge=at.payload)=="function"){Re=Ge.call(Ae,Re,fe);break e}Re=Ge;break e;case 3:Ge.flags=-65537&Ge.flags|128;case 0:if((fe=typeof(Ge=at.payload)=="function"?Ge.call(Ae,Re,fe):Ge)==null)break e;Re=s({},Re,fe);break e;case 2:as=!0}}X.callback!==null&&X.lane!==0&&(l.flags|=64,(fe=x.effects)===null?x.effects=[X]:fe.push(X))}else Ae={eventTime:Ae,lane:fe,tag:X.tag,payload:X.payload,callback:X.callback,next:null},ye===null?(de=ye=Ae,re=Re):ye=ye.next=Ae,F|=fe;if((X=X.next)===null){if((X=x.shared.pending)===null)break;X=(fe=X).next,fe.next=null,x.lastBaseUpdate=fe,x.shared.pending=null}}if(ye===null&&(re=Re),x.baseState=re,x.firstBaseUpdate=de,x.lastBaseUpdate=ye,(u=x.shared.interleaved)!==null){x=u;do F|=x.lane,x=x.next;while(x!==u)}else T===null&&(x.shared.lanes=0);vs|=F,l.lanes=F,l.memoizedState=Re}}function xh(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],x=v.callback;if(x!==null){if(v.callback=null,v=m,typeof x!="function")throw Error(a(191,x));x.call(v)}}}var wh=new t.Component().refs;function uu(l,u,m,v){m=(m=m(v,u=l.memoizedState))==null?u:s({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Ja={isMounted:function(l){return!!(l=l._reactInternals)&&te(l)===l},enqueueSetState:function(l,u,m){l=l._reactInternals;var v=ur(),x=Dn(l),T=Ci(v,x);T.payload=u,m!=null&&(T.callback=m),(u=oi(l,T,x))!==null&&(Rr(u,l,x,v),ls(u,l,x))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var v=ur(),x=Dn(l),T=Ci(v,x);T.tag=1,T.payload=u,m!=null&&(T.callback=m),(u=oi(l,T,x))!==null&&(Rr(u,l,x,v),ls(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=ur(),v=Dn(l),x=Ci(m,v);x.tag=2,u!=null&&(x.callback=u),(u=oi(l,x,v))!==null&&(Rr(u,l,v,m),ls(u,l,v))}};function Qs(l,u,m,v,x,T,F){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,T,F):!u.prototype||!u.prototype.isPureReactComponent||!au(m,v)||!au(x,T)}function Vc(l,u,m){var v=!1,x=pr,T=u.contextType;return typeof T=="object"&&T!==null?T=En(T):(x=Cr(u)?$s:Ar.current,T=(v=(v=u.contextTypes)!=null)?Ei(l,x):pr),u=new u(m,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ja,l.stateNode=u,u._reactInternals=l,v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=x,l.__reactInternalMemoizedMaskedChildContext=T),u}function Xc(l,u,m,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,v),u.state!==l&&Ja.enqueueReplaceState(u,u.state,null)}function Eh(l,u,m,v){var x=l.stateNode;x.props=m,x.state=l.memoizedState,x.refs=wh,_h(l);var T=u.contextType;typeof T=="object"&&T!==null?x.context=En(T):(T=Cr(u)?$s:Ar.current,x.context=Ei(l,T)),x.state=l.memoizedState,typeof(T=u.getDerivedStateFromProps)=="function"&&(uu(l,u,T,m),x.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(u=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),u!==x.state&&Ja.enqueueReplaceState(x,x.state,null),Za(l,m,x,v),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308)}function Go(l,u,m){if((l=m.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner){if(m.tag!==1)throw Error(a(309));var v=m.stateNode}if(!v)throw Error(a(147,l));var x=v,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(F){var X=x.refs;X===wh&&(X=x.refs={}),F===null?delete X[T]:X[T]=F},u._stringRef=T,u)}if(typeof l!="string")throw Error(a(284));if(!m._owner)throw Error(a(290,l))}return l}function el(l,u){throw l=Object.prototype.toString.call(u),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Ho(l){return(0,l._init)(l._payload)}function jo(l){function u(ve,Q){if(l){var ae=ve.deletions;ae===null?(ve.deletions=[Q],ve.flags|=16):ae.push(Q)}}function m(ve,Q){if(!l)return null;for(;Q!==null;)u(ve,Q),Q=Q.sibling;return null}function v(ve,Q){for(ve=new Map;Q!==null;)Q.key!==null?ve.set(Q.key,Q):ve.set(Q.index,Q),Q=Q.sibling;return ve}function x(ve,Q){return(ve=Li(ve,Q)).index=0,ve.sibling=null,ve}function T(ve,Q,ae){return ve.index=ae,l?(ae=ve.alternate)!==null?(ae=ae.index)<Q?(ve.flags|=2,Q):ae:(ve.flags|=2,Q):(ve.flags|=1048576,Q)}function F(ve){return l&&ve.alternate===null&&(ve.flags|=2),ve}function X(ve,Q,ae,Se){return Q===null||Q.tag!==6?((Q=Ou(ae,ve.mode,Se)).return=ve,Q):((Q=x(Q,ae)).return=ve,Q)}function re(ve,Q,ae,Se){var qe=ae.type;return qe===g?ye(ve,Q,ae.props.children,Se,ae.key):Q!==null&&(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===U&&Ho(qe)===Q.type)?((Se=x(Q,ae.props)).ref=Go(ve,Q,ae),Se.return=ve,Se):((Se=bl(ae.type,ae.key,ae.props,null,ve.mode,Se)).ref=Go(ve,Q,ae),Se.return=ve,Se)}function de(ve,Q,ae,Se){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ae.containerInfo||Q.stateNode.implementation!==ae.implementation?((Q=Kh(ae,ve.mode,Se)).return=ve,Q):((Q=x(Q,ae.children||[])).return=ve,Q)}function ye(ve,Q,ae,Se,qe){return Q===null||Q.tag!==7?((Q=xs(ae,ve.mode,Se,qe)).return=ve,Q):((Q=x(Q,ae)).return=ve,Q)}function Re(ve,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return(Q=Ou(""+Q,ve.mode,ae)).return=ve,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case d:return(ae=bl(Q.type,Q.key,Q.props,null,ve.mode,ae)).ref=Go(ve,null,Q),ae.return=ve,ae;case p:return(Q=Kh(Q,ve.mode,ae)).return=ve,Q;case U:return Re(ve,(0,Q._init)(Q._payload),ae)}if(_e(Q)||O(Q))return(Q=xs(Q,ve.mode,ae,null)).return=ve,Q;el(ve,Q)}return null}function fe(ve,Q,ae,Se){var qe=Q!==null?Q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return qe!==null?null:X(ve,Q,""+ae,Se);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case d:return ae.key===qe?re(ve,Q,ae,Se):null;case p:return ae.key===qe?de(ve,Q,ae,Se):null;case U:return fe(ve,Q,(qe=ae._init)(ae._payload),Se)}if(_e(ae)||O(ae))return qe!==null?null:ye(ve,Q,ae,Se,null);el(ve,ae)}return null}function Ae(ve,Q,ae,Se,qe){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return X(Q,ve=ve.get(ae)||null,""+Se,qe);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case d:return re(Q,ve=ve.get(Se.key===null?ae:Se.key)||null,Se,qe);case p:return de(Q,ve=ve.get(Se.key===null?ae:Se.key)||null,Se,qe);case U:return Ae(ve,Q,ae,(0,Se._init)(Se._payload),qe)}if(_e(Se)||O(Se))return ye(Q,ve=ve.get(ae)||null,Se,qe,null);el(Q,Se)}return null}function Ge(ve,Q,ae,Se){for(var qe=null,vt=null,je=Q,yt=Q=0,hr=null;je!==null&&yt<ae.length;yt++){je.index>yt?(hr=je,je=null):hr=je.sibling;var _t=fe(ve,je,ae[yt],Se);if(_t===null){je===null&&(je=hr);break}l&&je&&_t.alternate===null&&u(ve,je),Q=T(_t,Q,yt),vt===null?qe=_t:vt.sibling=_t,vt=_t,je=hr}if(yt===ae.length)return m(ve,je),Rt&&ss(ve,yt),qe;if(je===null){for(;yt<ae.length;yt++)(je=Re(ve,ae[yt],Se))!==null&&(Q=T(je,Q,yt),vt===null?qe=je:vt.sibling=je,vt=je);return Rt&&ss(ve,yt),qe}for(je=v(ve,je);yt<ae.length;yt++)(hr=Ae(je,ve,yt,ae[yt],Se))!==null&&(l&&hr.alternate!==null&&je.delete(hr.key===null?yt:hr.key),Q=T(hr,Q,yt),vt===null?qe=hr:vt.sibling=hr,vt=hr);return l&&je.forEach(function(ci){return u(ve,ci)}),Rt&&ss(ve,yt),qe}function at(ve,Q,ae,Se){var qe=O(ae);if(typeof qe!="function")throw Error(a(150));if((ae=qe.call(ae))==null)throw Error(a(151));for(var vt=qe=null,je=Q,yt=Q=0,hr=null,_t=ae.next();je!==null&&!_t.done;yt++,_t=ae.next()){je.index>yt?(hr=je,je=null):hr=je.sibling;var ci=fe(ve,je,_t.value,Se);if(ci===null){je===null&&(je=hr);break}l&&je&&ci.alternate===null&&u(ve,je),Q=T(ci,Q,yt),vt===null?qe=ci:vt.sibling=ci,vt=ci,je=hr}if(_t.done)return m(ve,je),Rt&&ss(ve,yt),qe;if(je===null){for(;!_t.done;yt++,_t=ae.next())(_t=Re(ve,_t.value,Se))!==null&&(Q=T(_t,Q,yt),vt===null?qe=_t:vt.sibling=_t,vt=_t);return Rt&&ss(ve,yt),qe}for(je=v(ve,je);!_t.done;yt++,_t=ae.next())(_t=Ae(je,ve,yt,_t.value,Se))!==null&&(l&&_t.alternate!==null&&je.delete(_t.key===null?yt:_t.key),Q=T(_t,Q,yt),vt===null?qe=_t:vt.sibling=_t,vt=_t);return l&&je.forEach(function(nd){return u(ve,nd)}),Rt&&ss(ve,yt),qe}return function ve(Q,ae,Se,qe){if(typeof Se=="object"&&Se!==null&&Se.type===g&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case d:e:{for(var vt=Se.key,je=ae;je!==null;){if(je.key===vt){if((vt=Se.type)===g){if(je.tag===7){m(Q,je.sibling),(ae=x(je,Se.props.children)).return=Q,Q=ae;break e}}else if(je.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===U&&Ho(vt)===je.type){m(Q,je.sibling),(ae=x(je,Se.props)).ref=Go(Q,je,Se),ae.return=Q,Q=ae;break e}m(Q,je);break}u(Q,je),je=je.sibling}Se.type===g?((ae=xs(Se.props.children,Q.mode,qe,Se.key)).return=Q,Q=ae):((qe=bl(Se.type,Se.key,Se.props,null,Q.mode,qe)).ref=Go(Q,ae,Se),qe.return=Q,Q=qe)}return F(Q);case p:e:{for(je=Se.key;ae!==null;){if(ae.key===je){if(ae.tag===4&&ae.stateNode.containerInfo===Se.containerInfo&&ae.stateNode.implementation===Se.implementation){m(Q,ae.sibling),(ae=x(ae,Se.children||[])).return=Q,Q=ae;break e}m(Q,ae);break}u(Q,ae),ae=ae.sibling}(ae=Kh(Se,Q.mode,qe)).return=Q,Q=ae}return F(Q);case U:return ve(Q,ae,(je=Se._init)(Se._payload),qe)}if(_e(Se))return Ge(Q,ae,Se,qe);if(O(Se))return at(Q,ae,Se,qe);el(Q,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,ae!==null&&ae.tag===6?(m(Q,ae.sibling),(ae=x(ae,Se)).return=Q,Q=ae):(m(Q,ae),(ae=Ou(Se,Q.mode,qe)).return=Q,Q=ae),F(Q)):m(Q,ae)}}var $o=jo(!0),tl=jo(!1),rl={},an=jn(rl),Ks=jn(rl),us=jn(rl);function Vn(l){if(l===rl)throw Error(a(174));return l}function hu(l,u){It(us,u),It(Ks,l),It(an,rl),l=G(u),mt(an),It(an,l)}function Zs(){mt(an),mt(Ks),mt(us)}function Yc(l){var u=Vn(us.current),m=Vn(an.current);m!==(u=P(m,l.type,u))&&(It(Ks,l),It(an,u))}function Sh(l){Ks.current===l&&(mt(an),mt(Ks))}var jt=jn(0);function cu(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&((m=m.dehydrated)===null||zs(m)||Hn(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var bh=[];function ln(){for(var l=0;l<bh.length;l++){var u=bh[l];Pe?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}bh.length=0}var hs=c.ReactCurrentDispatcher,du=c.ReactCurrentBatchConfig,cs=0,Ut=null,ar=null,Zt=null,fu=!1,nl=!1,ai=0,Th=0;function Jt(){throw Error(a(321))}function il(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!_n(l[m],u[m]))return!1;return!0}function pu(l,u,m,v,x,T){if(cs=T,Ut=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,hs.current=l===null||l.memoizedState===null?Dh:Oh,l=m(v,x),nl){T=0;do{if(nl=!1,ai=0,25<=T)throw Error(a(301));T+=1,Zt=ar=null,u.updateQueue=null,hs.current=Fh,l=m(v,x)}while(nl)}if(hs.current=Ko,u=ar!==null&&ar.next!==null,cs=0,Zt=ar=Ut=null,fu=!1,u)throw Error(a(300));return l}function Wo(){var l=ai!==0;return ai=0,l}function Br(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ut.memoizedState=Zt=l:Zt=Zt.next=l,Zt}function Yr(){if(ar===null){var l=Ut.alternate;l=l!==null?l.memoizedState:null}else l=ar.next;var u=Zt===null?Ut.memoizedState:Zt.next;if(u!==null)Zt=u,ar=l;else{if(l===null)throw Error(a(310));l={memoizedState:(ar=l).memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},Zt===null?Ut.memoizedState=Zt=l:Zt=Zt.next=l}return Zt}function Vo(l,u){return typeof u=="function"?u(l):u}function Xo(l){var u=Yr(),m=u.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=l;var v=ar,x=v.baseQueue,T=m.pending;if(T!==null){if(x!==null){var F=x.next;x.next=T.next,T.next=F}v.baseQueue=x=T,m.pending=null}if(x!==null){T=x.next,v=v.baseState;var X=F=null,re=null,de=T;do{var ye=de.lane;if((cs&ye)===ye)re!==null&&(re=re.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),v=de.hasEagerState?de.eagerState:l(v,de.action);else{var Re={lane:ye,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};re===null?(X=re=Re,F=v):re=re.next=Re,Ut.lanes|=ye,vs|=ye}de=de.next}while(de!==null&&de!==T);re===null?F=v:re.next=X,_n(v,u.memoizedState)||($t=!0),u.memoizedState=v,u.baseState=F,u.baseQueue=re,m.lastRenderedState=v}if((l=m.interleaved)!==null){x=l;do T=x.lane,Ut.lanes|=T,vs|=T,x=x.next;while(x!==l)}else x===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function mu(l){var u=Yr(),m=u.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=l;var v=m.dispatch,x=m.pending,T=u.memoizedState;if(x!==null){m.pending=null;var F=x=x.next;do T=l(T,F.action),F=F.next;while(F!==x);_n(T,u.memoizedState)||($t=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),m.lastRenderedState=T}return[T,v]}function Ah(){}function Ch(l,u){var m=Ut,v=Yr(),x=u(),T=!_n(v.memoizedState,x);if(T&&(v.memoizedState=x,$t=!0),v=v.queue,_u(Rh.bind(null,m,v,l),[l]),v.getSnapshot!==u||T||Zt!==null&&1&Zt.memoizedState.tag){if(m.flags|=2048,sl(9,Ih.bind(null,m,v,x,u),void 0,null),tr===null)throw Error(a(349));30&cs||Ph(m,u,x)}return x}function Ph(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},(u=Ut.updateQueue)===null?(u={lastEffect:null,stores:null},Ut.updateQueue=u,u.stores=[l]):(m=u.stores)===null?u.stores=[l]:m.push(l)}function Ih(l,u,m,v){u.value=m,u.getSnapshot=v,Pi(u)&&gu(l)}function Rh(l,u,m){return m(function(){Pi(u)&&gu(l)})}function Pi(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!_n(l,m)}catch{return!0}}function gu(l){var u=si(l,1);u!==null&&Rr(u,l,1,-1)}function yu(l){var u=Br();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:l},u.queue=l,l=l.dispatch=Wf.bind(null,Ut,l),[u.memoizedState,l]}function sl(l,u,m,v){return l={tag:l,create:u,destroy:m,deps:v,next:null},(u=Ut.updateQueue)===null?(u={lastEffect:null,stores:null},Ut.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect)===null?u.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,u.lastEffect=l),l}function qc(){return Yr().memoizedState}function ds(l,u,m,v){var x=Br();Ut.flags|=l,x.memoizedState=sl(1|u,m,void 0,v===void 0?null:v)}function vu(l,u,m,v){var x=Yr();v=v===void 0?null:v;var T=void 0;if(ar!==null){var F=ar.memoizedState;if(T=F.destroy,v!==null&&il(v,F.deps))return void(x.memoizedState=sl(u,m,T,v))}Ut.flags|=l,x.memoizedState=sl(1|u,m,T,v)}function Mh(l,u){return ds(8390656,8,l,u)}function _u(l,u){return vu(2048,8,l,u)}function Mt(l,u){return vu(4,2,l,u)}function xu(l,u){return vu(4,4,l,u)}function ol(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function Yo(l,u,m){return m=m!=null?m.concat([l]):null,vu(4,4,ol.bind(null,u,l),m)}function wu(){}function Eu(l,u){var m=Yr();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&il(u,v[1])?v[0]:(m.memoizedState=[l,u],l)}function qo(l,u){var m=Yr();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&il(u,v[1])?v[0]:(l=l(),m.memoizedState=[l,u],l)}function al(l,u,m){return 21&cs?(_n(m,u)||(m=dh(),Ut.lanes|=m,vs|=m,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,$t=!0),l.memoizedState=m)}function Qo(l,u){var m=ct;ct=m!==0&&4>m?m:4,l(!0);var v=du.transition;du.transition={};try{l(!1),u()}finally{ct=m,du.transition=v}}function kh(){return Yr().memoizedState}function $f(l,u,m){var v=Dn(l);m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},Nh(l)?ll(u,m):(m=jc(l,u,m,v))!==null&&(Rr(m,l,v,ur()),ul(m,u,v))}function Wf(l,u,m){var v=Dn(l),x={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(Nh(l))ll(u,x);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer)!==null)try{var F=u.lastRenderedState,X=T(F,m);if(x.hasEagerState=!0,x.eagerState=X,_n(X,F)){var re=u.interleaved;return re===null?(x.next=x,vh(u)):(x.next=re.next,re.next=x),void(u.interleaved=x)}}catch{}(m=jc(l,u,x,v))!==null&&(Rr(m,l,v,x=ur()),ul(m,u,v))}}function Nh(l){var u=l.alternate;return l===Ut||u!==null&&u===Ut}function ll(l,u){nl=fu=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function ul(l,u,m){if(4194240&m){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,$a(l,m)}}var Ko={readContext:En,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},Dh={readContext:En,useCallback:function(l,u){return Br().memoizedState=[l,u===void 0?null:u],l},useContext:En,useEffect:Mh,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,ds(4194308,4,ol.bind(null,u,l),m)},useLayoutEffect:function(l,u){return ds(4194308,4,l,u)},useInsertionEffect:function(l,u){return ds(4,2,l,u)},useMemo:function(l,u){var m=Br();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var v=Br();return u=m!==void 0?m(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=$f.bind(null,Ut,l),[v.memoizedState,l]},useRef:function(l){return l={current:l},Br().memoizedState=l},useState:yu,useDebugValue:wu,useDeferredValue:function(l){return Br().memoizedState=l},useTransition:function(){var l=yu(!1),u=l[0];return l=Qo.bind(null,l[1]),Br().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var v=Ut,x=Br();if(Rt){if(m===void 0)throw Error(a(407));m=m()}else{if(m=u(),tr===null)throw Error(a(349));30&cs||Ph(v,u,m)}x.memoizedState=m;var T={value:m,getSnapshot:u};return x.queue=T,Mh(Rh.bind(null,v,T,l),[l]),v.flags|=2048,sl(9,Ih.bind(null,v,T,m,u),void 0,null),m},useId:function(){var l=Br(),u=tr.identifierPrefix;if(Rt){var m=wn;u=":"+u+"R"+(m=(xn&~(1<<32-vn(xn)-1)).toString(32)+m),0<(m=ai++)&&(u+="H"+m.toString(32)),u+=":"}else u=":"+u+"r"+(m=Th++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},Oh={readContext:En,useCallback:Eu,useContext:En,useEffect:_u,useImperativeHandle:Yo,useInsertionEffect:Mt,useLayoutEffect:xu,useMemo:qo,useReducer:Xo,useRef:qc,useState:function(){return Xo(Vo)},useDebugValue:wu,useDeferredValue:function(l){return al(Yr(),ar.memoizedState,l)},useTransition:function(){return[Xo(Vo)[0],Yr().memoizedState]},useMutableSource:Ah,useSyncExternalStore:Ch,useId:kh,unstable_isNewReconciler:!1},Fh={readContext:En,useCallback:Eu,useContext:En,useEffect:_u,useImperativeHandle:Yo,useInsertionEffect:Mt,useLayoutEffect:xu,useMemo:qo,useReducer:mu,useRef:qc,useState:function(){return mu(Vo)},useDebugValue:wu,useDeferredValue:function(l){var u=Yr();return ar===null?u.memoizedState=l:al(u,ar.memoizedState,l)},useTransition:function(){return[mu(Vo)[0],Yr().memoizedState]},useMutableSource:Ah,useSyncExternalStore:Ch,useId:kh,unstable_isNewReconciler:!1};function Zo(l,u){try{var m="",v=u;do m+=jf(v),v=v.return;while(v);var x=m}catch(T){x=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:x,digest:null}}function Su(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function Bh(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var Vf=typeof WeakMap=="function"?WeakMap:Map;function bu(l,u,m){(m=Ci(-1,m)).tag=3,m.payload={element:null};var v=u.value;return m.callback=function(){Nt||(Nt=!0,la=v),Bh(0,u)},m}function Ii(l,u,m){(m=Ci(-1,m)).tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var x=u.value;m.payload=function(){return v(x)},m.callback=function(){Bh(0,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){Bh(0,u),typeof v!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var F=u.stack;this.componentDidCatch(u.value,{componentStack:F!==null?F:""})}),m}function Lh(l,u,m){var v=l.pingCache;if(v===null){v=l.pingCache=new Vf;var x=new Set;v.set(u,x)}else(x=v.get(u))===void 0&&(x=new Set,v.set(u,x));x.has(m)||(x.add(m),l=Nu.bind(null,l,u,m),u.then(l,l))}function Js(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function Xn(l,u,m,v,x){return 1&l.mode?(l.flags|=65536,l.lanes=x,l):(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:((u=Ci(-1,1)).tag=2,oi(m,u,1))),m.lanes|=1),l)}var hl=c.ReactCurrentOwner,$t=!1;function Pr(l,u,m,v){u.child=l===null?tl(u,null,m,v):$o(u,l.child,m,v)}function Qc(l,u,m,v,x){m=m.render;var T=u.ref;return zo(u,x),v=pu(l,u,m,v,T,x),m=Wo(),l===null||$t?(Rt&&m&&Fo(u),u.flags|=1,Pr(l,u,v,x),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,Tn(l,u,x))}function Kc(l,u,m,v,x){if(l===null){var T=m.type;return typeof T!="function"||Sl(T)||T.defaultProps!==void 0||m.compare!==null||m.defaultProps!==void 0?((l=bl(m.type,null,v,u,u.mode,x)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=T,fs(l,u,T,v,x))}if(T=l.child,(l.lanes&x)==0){var F=T.memoizedProps;if((m=(m=m.compare)!==null?m:au)(F,v)&&l.ref===u.ref)return Tn(l,u,x)}return u.flags|=1,(l=Li(T,v)).ref=u.ref,l.return=u,u.child=l}function fs(l,u,m,v,x){if(l!==null){var T=l.memoizedProps;if(au(T,v)&&l.ref===u.ref){if($t=!1,u.pendingProps=v=T,(l.lanes&x)==0)return u.lanes=l.lanes,Tn(l,u,x);131072&l.flags&&($t=!0)}}return ea(l,u,m,v,x)}function Jo(l,u,m){var v=u.pendingProps,x=v.children,T=l!==null?l.memoizedState:null;if(v.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Di,rr),rr|=m;else{if(!(1073741824&m))return l=T!==null?T.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,It(Di,rr),rr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:m,It(Di,rr),rr|=v}else T!==null?(v=T.baseLanes|m,u.memoizedState=null):v=m,It(Di,rr),rr|=v;return Pr(l,u,x,m),u.child}function eo(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function ea(l,u,m,v,x){var T=Cr(m)?$s:Ar.current;return T=Ei(u,T),zo(u,x),m=pu(l,u,m,v,T,x),v=Wo(),l===null||$t?(Rt&&v&&Fo(u),u.flags|=1,Pr(l,u,m,x),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,Tn(l,u,x))}function Tu(l,u,m,v,x){if(Cr(m)){var T=!0;eu(u)}else T=!1;if(zo(u,x),u.stateNode===null)bn(l,u),Vc(u,m,v),Eh(u,m,v,x),v=!0;else if(l===null){var F=u.stateNode,X=u.memoizedProps;F.props=X;var re=F.context,de=m.contextType;typeof de=="object"&&de!==null?de=En(de):de=Ei(u,de=Cr(m)?$s:Ar.current);var ye=m.getDerivedStateFromProps,Re=typeof ye=="function"||typeof F.getSnapshotBeforeUpdate=="function";Re||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(X!==v||re!==de)&&Xc(u,F,v,de),as=!1;var fe=u.memoizedState;F.state=fe,Za(u,v,F,x),re=u.memoizedState,X!==v||fe!==re||Wr.current||as?(typeof ye=="function"&&(uu(u,m,ye,v),re=u.memoizedState),(X=as||Qs(u,m,X,v,fe,re,de))?(Re||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(u.flags|=4194308)):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=re),F.props=v,F.state=re,F.context=de,v=X):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{F=u.stateNode,$c(l,u),X=u.memoizedProps,de=u.type===u.elementType?X:Wn(u.type,X),F.props=de,Re=u.pendingProps,fe=F.context,typeof(re=m.contextType)=="object"&&re!==null?re=En(re):re=Ei(u,re=Cr(m)?$s:Ar.current);var Ae=m.getDerivedStateFromProps;(ye=typeof Ae=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(X!==Re||fe!==re)&&Xc(u,F,v,re),as=!1,fe=u.memoizedState,F.state=fe,Za(u,v,F,x);var Ge=u.memoizedState;X!==Re||fe!==Ge||Wr.current||as?(typeof Ae=="function"&&(uu(u,m,Ae,v),Ge=u.memoizedState),(de=as||Qs(u,m,de,v,fe,Ge,re)||!1)?(ye||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,Ge,re),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,Ge,re)),typeof F.componentDidUpdate=="function"&&(u.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof F.componentDidUpdate!="function"||X===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||X===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ge),F.props=v,F.state=Ge,F.context=re,v=de):(typeof F.componentDidUpdate!="function"||X===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||X===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),v=!1)}return ps(l,u,m,v,T,x)}function ps(l,u,m,v,x,T){eo(l,u);var F=(128&u.flags)!=0;if(!v&&!F)return x&&tu(u,m,!1),Tn(l,u,T);v=u.stateNode,hl.current=u;var X=F&&typeof m.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&F?(u.child=$o(u,l.child,null,T),u.child=$o(u,null,X,T)):Pr(l,u,X,T),u.memoizedState=v.state,x&&tu(u,m,!0),u.child}function Ri(l){var u=l.stateNode;u.pendingContext?Ua(0,u.pendingContext,u.pendingContext!==u.context):u.context&&Ua(0,u.context,!1),hu(l,u.containerInfo)}function kt(l,u,m,v,x){return Lo(),qa(x),u.flags|=256,Pr(l,u,m,v),u.child}var Et,Sn,lr,vr,Mi={dehydrated:null,treeContext:null,retryLane:0};function ms(l){return{baseLanes:l,cachePool:null,transitions:null}}function Lr(l,u,m){var v,x=u.pendingProps,T=jt.current,F=!1,X=(128&u.flags)!=0;if((v=X)||(v=(l===null||l.memoizedState!==null)&&(2&T)!=0),v?(F=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(T|=1),It(jt,1&T),l===null)return Bo(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?Hn(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(X=x.children,l=x.fallback,F?(x=u.mode,F=u.child,X={mode:"hidden",children:X},!(1&x)&&F!==null?(F.childLanes=0,F.pendingProps=X):F=Du(X,x,0,null),l=xs(l,x,m,null),F.return=u,l.return=u,F.sibling=l,u.child=F,u.child.memoizedState=ms(m),u.memoizedState=Mi,l):ta(u,X));if((T=l.memoizedState)!==null&&(v=T.dehydrated)!==null)return function(de,ye,Re,fe,Ae,Ge,at){if(Re)return 256&ye.flags?(ye.flags&=-257,cl(de,ye,at,fe=Su(Error(a(422))))):ye.memoizedState!==null?(ye.child=de.child,ye.flags|=128,null):(Ge=fe.fallback,Ae=ye.mode,fe=Du({mode:"visible",children:fe.children},Ae,0,null),(Ge=xs(Ge,Ae,at,null)).flags|=2,fe.return=ye,Ge.return=ye,fe.sibling=Ge,ye.child=fe,1&ye.mode&&$o(ye,de.child,null,at),ye.child.memoizedState=ms(at),ye.memoizedState=Mi,Ge);if(!(1&ye.mode))return cl(de,ye,at,null);if(Hn(Ae))return fe=rs(Ae).digest,Ge=Error(a(419)),fe=Su(Ge,fe,void 0),cl(de,ye,at,fe);if(Re=(at&de.childLanes)!=0,$t||Re){if((fe=tr)!==null){switch(at&-at){case 4:Ae=2;break;case 16:Ae=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ae=32;break;case 536870912:Ae=268435456;break;default:Ae=0}(Ae=Ae&(fe.suspendedLanes|at)?0:Ae)!==0&&Ae!==Ge.retryLane&&(Ge.retryLane=Ae,si(de,Ae),Rr(fe,de,Ae,-1))}return ku(),cl(de,ye,at,fe=Su(Error(a(421))))}return zs(Ae)?(ye.flags|=128,ye.child=de.child,ye=qh.bind(null,de),Gs(Ae,ye),null):(de=Ge.treeContext,Je&&(yr=Oa(Ae),Ot=ye,Rt=!0,$n=null,Ai=!1,de!==null&&(Vr[on++]=xn,Vr[on++]=wn,Vr[on++]=Xr,xn=de.id,wn=de.overflow,Xr=ye)),ye=ta(ye,fe.children),ye.flags|=4096,ye)}(l,u,X,x,v,T,m);if(F){F=x.fallback,X=u.mode,v=(T=l.child).sibling;var re={mode:"hidden",children:x.children};return!(1&X)&&u.child!==T?((x=u.child).childLanes=0,x.pendingProps=re,u.deletions=null):(x=Li(T,re)).subtreeFlags=14680064&T.subtreeFlags,v!==null?F=Li(v,F):(F=xs(F,X,m,null)).flags|=2,F.return=u,x.return=u,x.sibling=F,u.child=x,x=F,F=u.child,X=(X=l.child.memoizedState)===null?ms(m):{baseLanes:X.baseLanes|m,cachePool:null,transitions:X.transitions},F.memoizedState=X,F.childLanes=l.childLanes&~m,u.memoizedState=Mi,x}return l=(F=l.child).sibling,x=Li(F,{mode:"visible",children:x.children}),!(1&u.mode)&&(x.lanes=m),x.return=u,x.sibling=null,l!==null&&((m=u.deletions)===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=x,u.memoizedState=null,x}function ta(l,u){return(u=Du({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function cl(l,u,m,v){return v!==null&&qa(v),$o(u,l.child,null,m),(l=ta(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function Uh(l,u,m){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),yh(l.return,u,m)}function ra(l,u,m,v,x){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:x}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=m,T.tailMode=x)}function zh(l,u,m){var v=u.pendingProps,x=v.revealOrder,T=v.tail;if(Pr(l,u,v.children,m),(2&(v=jt.current))!=0)v=1&v|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Uh(l,m,u);else if(l.tag===19)Uh(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(It(jt,v),(1&u.mode)==0)u.memoizedState=null;else switch(x){case"forwards":for(m=u.child,x=null;m!==null;)(l=m.alternate)!==null&&cu(l)===null&&(x=m),m=m.sibling;(m=x)===null?(x=u.child,u.child=null):(x=m.sibling,m.sibling=null),ra(u,!1,x,m,T);break;case"backwards":for(m=null,x=u.child,u.child=null;x!==null;){if((l=x.alternate)!==null&&cu(l)===null){u.child=x;break}l=x.sibling,x.sibling=m,m=x,x=l}ra(u,!0,m,null,T);break;case"together":ra(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function bn(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Tn(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),vs|=u.lanes,(m&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(a(153));if(u.child!==null){for(m=Li(l=u.child,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,(m=m.sibling=Li(l,l.pendingProps)).return=u;m.sibling=null}return u.child}function An(l){l.flags|=4}function Gh(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Ue)Et=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)L(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Sn=function(){},lr=function(l,u,m,v,x){if((l=l.memoizedProps)!==v){var T=u.stateNode,F=Vn(an.current);m=J(T,m,l,v,x,F),(u.updateQueue=m)&&An(u)}},vr=function(l,u,m,v){m!==v&&An(u)};else if(Ze){Et=function(l,u,m,v){for(var x=u.child;x!==null;){if(x.tag===5){var T=x.stateNode;m&&v&&(T=Us(T,x.type,x.memoizedProps,x)),L(l,T)}else if(x.tag===6)T=x.stateNode,m&&v&&(T=Io(T,x.memoizedProps,x)),L(l,T);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(T=x.child)!==null&&(T.return=x),Et(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var Zc=function(l,u,m,v){for(var x=u.child;x!==null;){if(x.tag===5){var T=x.stateNode;m&&v&&(T=Us(T,x.type,x.memoizedProps,x)),Ls(l,T)}else if(x.tag===6)T=x.stateNode,m&&v&&(T=Io(T,x.memoizedProps,x)),Ls(l,T);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(T=x.child)!==null&&(T.return=x),Zc(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};Sn=function(l,u){var m=u.stateNode;if(!Gh(l,u)){l=m.containerInfo;var v=yn(l);Zc(v,u,!1,!1),m.pendingChildren=v,An(u),vi(l,v)}},lr=function(l,u,m,v,x){var T=l.stateNode,F=l.memoizedProps;if((l=Gh(l,u))&&F===v)u.stateNode=T;else{var X=u.stateNode,re=Vn(an.current),de=null;F!==v&&(de=J(X,m,F,v,x,re)),l&&de===null?u.stateNode=T:(T=br(T,de,m,F,v,u,l,X),W(T,m,v,x,re)&&An(u),u.stateNode=T,l?An(u):Et(T,u,!1,!1))}},vr=function(l,u,m,v){m!==v?(l=Vn(us.current),m=Vn(an.current),u.stateNode=me(v,l,m,u),An(u)):u.stateNode=l.stateNode}}else Sn=function(){},lr=function(){},vr=function(){};function Cn(l,u){if(!Rt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function er(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(u)for(var x=l.child;x!==null;)m|=x.lanes|x.childLanes,v|=14680064&x.subtreeFlags,v|=14680064&x.flags,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)m|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=v,l.childLanes=m,u}function na(l,u,m){var v=u.pendingProps;switch(nu(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(u),null;case 1:case 17:return Cr(u.type)&&Ws(),er(u),null;case 3:return m=u.stateNode,Zs(),mt(Wr),mt(Ar),ln(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),l!==null&&l.child!==null||(ou(u)?An(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,$n!==null&&(wl($n),$n=null))),Sn(l,u),er(u),null;case 5:Sh(u),m=Vn(us.current);var x=u.type;if(l!==null&&u.stateNode!=null)lr(l,u,x,v,m),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(a(166));return er(u),null}if(l=Vn(an.current),ou(u)){if(!Je)throw Error(a(175));l=ni(u.stateNode,u.type,u.memoizedProps,m,l,u,!Ai),u.updateQueue=l,l!==null&&An(u)}else{var T=I(x,v,m,l,u);Et(T,u,!1,!1),u.stateNode=T,W(T,x,v,m,l)&&An(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return er(u),null;case 6:if(l&&u.stateNode!=null)vr(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(a(166));if(l=Vn(us.current),m=Vn(an.current),ou(u)){if(!Je)throw Error(a(176));if(l=u.stateNode,m=u.memoizedProps,(v=Ql(l,m,u,!Ai))&&(x=Ot)!==null)switch(x.tag){case 3:zf(x.stateNode.containerInfo,l,m,(1&x.mode)!=0);break;case 5:Yt(x.type,x.memoizedProps,x.stateNode,l,m,(1&x.mode)!=0)}v&&An(u)}else u.stateNode=me(v,l,m,u)}return er(u),null;case 13:if(mt(jt),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Rt&&yr!==null&&1&u.mode&&!(128&u.flags))Gc(),Lo(),u.flags|=98560,x=!1;else if(x=ou(u),v!==null&&v.dehydrated!==null){if(l===null){if(!x)throw Error(a(318));if(!Je)throw Error(a(344));if(!(x=(x=u.memoizedState)!==null?x.dehydrated:null))throw Error(a(317));Ro(x,u)}else Lo(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;er(u),x=!1}else $n!==null&&(wl($n),$n=null),x=!0;if(!x)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=m,u):((m=v!==null)!=(l!==null&&l.memoizedState!==null)&&m&&(u.child.flags|=8192,1&u.mode&&(l===null||1&jt.current?nr===0&&(nr=3):ku())),u.updateQueue!==null&&(u.flags|=4),er(u),null);case 4:return Zs(),Sn(l,u),l===null&&We(u.stateNode.containerInfo),er(u),null;case 10:return Ka(u.type._context),er(u),null;case 19:if(mt(jt),(x=u.memoizedState)===null)return er(u),null;if(v=(128&u.flags)!=0,(T=x.rendering)===null)if(v)Cn(x,!1);else{if(nr!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((T=cu(l))!==null){for(u.flags|=128,Cn(x,!1),(l=T.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=m,m=u.child;m!==null;)x=l,(v=m).flags&=14680066,(T=v.alternate)===null?(v.childLanes=0,v.lanes=x,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,x=T.dependencies,v.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),m=m.sibling;return It(jt,1&jt.current|2),u.child}l=l.sibling}x.tail!==null&&Dt()>_l&&(u.flags|=128,v=!0,Cn(x,!1),u.lanes=4194304)}else{if(!v)if((l=cu(T))!==null){if(u.flags|=128,v=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),Cn(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!Rt)return er(u),null}else 2*Dt()-x.renderingStartTime>_l&&m!==1073741824&&(u.flags|=128,v=!0,Cn(x,!1),u.lanes=4194304);x.isBackwards?(T.sibling=u.child,u.child=T):((l=x.last)!==null?l.sibling=T:u.child=T,x.last=T)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=Dt(),u.sibling=null,l=jt.current,It(jt,v?1&l|2:1&l),u):(er(u),null);case 22:case 23:return uo(),m=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(u.flags|=8192),m&&1&u.mode?1073741824&rr&&(er(u),Ue&&6&u.subtreeFlags&&(u.flags|=8192)):er(u),null;case 24:case 25:return null}throw Error(a(156,u.tag))}function Au(l,u){switch(nu(u),u.tag){case 1:return Cr(u.type)&&Ws(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return Zs(),mt(Wr),mt(Ar),ln(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return Sh(u),null;case 13:if(mt(jt),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(a(340));Lo()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return mt(jt),null;case 4:return Zs(),null;case 10:return Ka(u.type._context),null;case 22:case 23:return uo(),null;default:return null}}var to=!1,Ct=!1,Pn=typeof WeakSet=="function"?WeakSet:Set,De=null;function qr(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){Pt(l,u,v)}else m.current=null}function li(l,u,m){try{m()}catch(v){Pt(l,u,v)}}var gs=!1;function ia(l,u,m){var v=u.updateQueue;if((v=v!==null?v.lastEffect:null)!==null){var x=v=v.next;do{if((x.tag&l)===l){var T=x.destroy;x.destroy=void 0,T!==void 0&&li(u,m,T)}x=x.next}while(x!==v)}}function sa(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var m=u=u.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==u)}}function dl(l){var u=l.ref;if(u!==null){var m=l.stateNode;l.tag===5?l=B(m):l=m,typeof u=="function"?u(l):u.current=l}}function Qr(l){var u=l.alternate;u!==null&&(l.alternate=null,Qr(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&or(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Kr(l){return l.tag===5||l.tag===3||l.tag===4}function Ft(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Kr(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function un(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?Bs(m,l,u):Co(m,l);else if(v!==4&&(l=l.child)!==null)for(un(l,u,m),l=l.sibling;l!==null;)un(l,u,m),l=l.sibling}function Cu(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?Po(m,l,u):ri(m,l);else if(v!==4&&(l=l.child)!==null)for(Cu(l,u,m),l=l.sibling;l!==null;)Cu(l,u,m),l=l.sibling}var Ir=null,In=!1;function Rn(l,u,m){for(m=m.child;m!==null;)Pu(l,u,m),m=m.sibling}function Pu(l,u,m){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Xa,m)}catch{}switch(m.tag){case 5:Ct||qr(m,u);case 6:if(Ue){var v=Ir,x=In;Ir=null,Rn(l,u,m),In=x,(Ir=v)!==null&&(In?se(Ir,m.stateNode):ne(Ir,m.stateNode))}else Rn(l,u,m);break;case 18:Ue&&Ir!==null&&(In?Bc(Ir,m.stateNode):Fa(Ir,m.stateNode));break;case 4:Ue?(v=Ir,x=In,Ir=m.stateNode.containerInfo,In=!0,Rn(l,u,m),Ir=v,In=x):(Ze&&(v=m.stateNode.containerInfo,x=yn(v),Tr(v,x)),Rn(l,u,m));break;case 0:case 11:case 14:case 15:if(!Ct&&(v=m.updateQueue)!==null&&(v=v.lastEffect)!==null){x=v=v.next;do{var T=x,F=T.destroy;T=T.tag,F!==void 0&&(2&T||4&T)&&li(m,u,F),x=x.next}while(x!==v)}Rn(l,u,m);break;case 1:if(!Ct&&(qr(m,u),typeof(v=m.stateNode).componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(X){Pt(m,u,X)}Rn(l,u,m);break;case 21:Rn(l,u,m);break;case 22:1&m.mode?(Ct=(v=Ct)||m.memoizedState!==null,Rn(l,u,m),Ct=v):Rn(l,u,m);break;default:Rn(l,u,m)}}function fl(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new Pn),u.forEach(function(v){var x=td.bind(null,l,v);m.has(v)||(m.add(v),v.then(x,x))})}}function Mn(l,u){var m=u.deletions;if(m!==null)for(var v=0;v<m.length;v++){var x=m[v];try{var T=l,F=u;if(Ue){var X=F;e:for(;X!==null;){switch(X.tag){case 5:Ir=X.stateNode,In=!1;break e;case 3:case 4:Ir=X.stateNode.containerInfo,In=!0;break e}X=X.return}if(Ir===null)throw Error(a(160));Pu(T,F,x),Ir=null,In=!1}else Pu(T,F,x);var re=x.alternate;re!==null&&(re.return=null),x.return=null}catch(de){Pt(x,u,de)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)ro(u,l),u=u.sibling}function ro(l,u){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Mn(u,l),kn(l),4&v){try{ia(3,l,l.return),sa(3,l)}catch(fe){Pt(l,l.return,fe)}try{ia(5,l,l.return)}catch(fe){Pt(l,l.return,fe)}}break;case 1:Mn(u,l),kn(l),512&v&&m!==null&&qr(m,m.return);break;case 5:if(Mn(u,l),kn(l),512&v&&m!==null&&qr(m,m.return),Ue){if(32&l.flags){var x=l.stateNode;try{ut(x)}catch(fe){Pt(l,l.return,fe)}}if(4&v&&(x=l.stateNode)!=null){var T=l.memoizedProps;if(m=m!==null?m.memoizedProps:T,v=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{lh(x,u,v,m,T,l)}catch(fe){Pt(l,l.return,fe)}}}break;case 6:if(Mn(u,l),kn(l),4&v&&Ue){if(l.stateNode===null)throw Error(a(162));x=l.stateNode,T=l.memoizedProps,m=m!==null?m.memoizedProps:T;try{es(x,m,T)}catch(fe){Pt(l,l.return,fe)}}break;case 3:if(Mn(u,l),kn(l),4&v){if(Ue&&Je&&m!==null&&m.memoizedState.isDehydrated)try{Hs(u.containerInfo)}catch(fe){Pt(l,l.return,fe)}if(Ze){x=u.containerInfo,T=u.pendingChildren;try{Tr(x,T)}catch(fe){Pt(l,l.return,fe)}}}break;case 4:if(Mn(u,l),kn(l),4&v&&Ze){x=(T=l.stateNode).containerInfo,T=T.pendingChildren;try{Tr(x,T)}catch(fe){Pt(l,l.return,fe)}}break;case 13:Mn(u,l),kn(l),8192&(x=l.child).flags&&(T=x.memoizedState!==null,x.stateNode.isHidden=T,!T||x.alternate!==null&&x.alternate.memoizedState!==null||(Fi=Dt())),4&v&&fl(l);break;case 22:var F=m!==null&&m.memoizedState!==null;if(1&l.mode?(Ct=(m=Ct)||F,Mn(u,l),Ct=m):Mn(u,l),kn(l),8192&v){if(m=l.memoizedState!==null,(l.stateNode.isHidden=m)&&!F&&(1&l.mode)!=0)for(De=l,v=l.child;v!==null;){for(u=De=v;De!==null;){var X=(F=De).child;switch(F.tag){case 0:case 11:case 14:case 15:ia(4,F,F.return);break;case 1:qr(F,F.return);var re=F.stateNode;if(typeof re.componentWillUnmount=="function"){var de=F,ye=F.return;try{var Re=de;re.props=Re.memoizedProps,re.state=Re.memoizedState,re.componentWillUnmount()}catch(fe){Pt(de,ye,fe)}}break;case 5:qr(F,F.return);break;case 22:if(F.memoizedState!==null){Hh(u);continue}}X!==null?(X.return=F,De=X):Hh(u)}v=v.sibling}if(Ue){e:if(v=null,Ue)for(u=l;;){if(u.tag===5){if(v===null){v=u;try{x=u.stateNode,m?wt(x):it(u.stateNode,u.memoizedProps)}catch(fe){Pt(l,l.return,fe)}}}else if(u.tag===6){if(v===null)try{T=u.stateNode,m?bt(T):Fr(T,u.memoizedProps)}catch(fe){Pt(l,l.return,fe)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Mn(u,l),kn(l),4&v&&fl(l);break;case 21:break;default:Mn(u,l),kn(l)}}function kn(l){var u=l.flags;if(2&u){try{if(Ue){e:{for(var m=l.return;m!==null;){if(Kr(m)){var v=m;break e}m=m.return}throw Error(a(160))}switch(v.tag){case 5:var x=v.stateNode;32&v.flags&&(ut(x),v.flags&=-33),Cu(l,Ft(l),x);break;case 3:case 4:var T=v.stateNode.containerInfo;un(l,Ft(l),T);break;default:throw Error(a(161))}}}catch(F){Pt(l,l.return,F)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function Xf(l,u,m){De=l,oa(l)}function oa(l,u,m){for(var v=(1&l.mode)!=0;De!==null;){var x=De,T=x.child;if(x.tag===22&&v){var F=x.memoizedState!==null||to;if(!F){var X=x.alternate,re=X!==null&&X.memoizedState!==null||Ct;X=to;var de=Ct;if(to=F,(Ct=re)&&!de)for(De=x;De!==null;)re=(F=De).child,F.tag===22&&F.memoizedState!==null?jh(x):re!==null?(re.return=F,De=re):jh(x);for(;T!==null;)De=T,oa(T),T=T.sibling;De=x,to=X,Ct=de}pl(l)}else 8772&x.subtreeFlags&&T!==null?(T.return=x,De=T):pl(l)}}function pl(l){for(;De!==null;){var u=De;if(8772&u.flags){var m=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:Ct||sa(5,u);break;case 1:var v=u.stateNode;if(4&u.flags&&!Ct)if(m===null)v.componentDidMount();else{var x=u.elementType===u.type?m.memoizedProps:Wn(u.type,m.memoizedProps);v.componentDidUpdate(x,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&xh(u,T,v);break;case 3:var F=u.updateQueue;if(F!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=B(u.child.stateNode);break;case 1:m=u.child.stateNode}xh(u,F,m)}break;case 5:var X=u.stateNode;m===null&&4&u.flags&&Fs(X,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Je&&u.memoizedState===null){var re=u.alternate;if(re!==null){var de=re.memoizedState;if(de!==null){var ye=de.dehydrated;ye!==null&&Kl(ye)}}}break;default:throw Error(a(163))}Ct||512&u.flags&&dl(u)}catch(Re){Pt(u,u.return,Re)}}if(u===l){De=null;break}if((m=u.sibling)!==null){m.return=u.return,De=m;break}De=u.return}}function Hh(l){for(;De!==null;){var u=De;if(u===l){De=null;break}var m=u.sibling;if(m!==null){m.return=u.return,De=m;break}De=u.return}}function jh(l){for(;De!==null;){var u=De;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{sa(4,u)}catch(re){Pt(u,m,re)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var x=u.return;try{v.componentDidMount()}catch(re){Pt(u,x,re)}}var T=u.return;try{dl(u)}catch(re){Pt(u,T,re)}break;case 5:var F=u.return;try{dl(u)}catch(re){Pt(u,F,re)}}}catch(re){Pt(u,u.return,re)}if(u===l){De=null;break}var X=u.sibling;if(X!==null){X.return=u.return,De=X;break}De=u.return}}var ki=0,ml=1,no=2,io=3,Ni=4;if(typeof Symbol=="function"&&Symbol.for){var so=Symbol.for;ki=so("selector.component"),ml=so("selector.has_pseudo_class"),no=so("selector.role"),io=so("selector.test_id"),Ni=so("selector.text")}function gl(l){var u=pt(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(a(364));return u}if((l=Zi(l))===null)throw Error(a(362));return l.stateNode.current}function yl(l,u){switch(u.$$typeof){case ki:if(l.type===u.value)return!0;break;case ml:e:{u=u.value,l=[l,0];for(var m=0;m<l.length;){var v=l[m++],x=l[m++],T=u[x];if(v.tag!==5||!Ji(v)){for(;T!=null&&yl(v,T);)T=u[++x];if(x===u.length){u=!0;break e}for(v=v.child;v!==null;)l.push(v,x),v=v.sibling}}u=!1}return u;case no:if(l.tag===5&&Yl(l.stateNode,u.value))return!0;break;case Ni:if((l.tag===5||l.tag===6)&&(l=Xl(l))!==null&&0<=l.indexOf(u.value))return!0;break;case io:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(a(365))}return!1}function vl(l){switch(l.$$typeof){case ki:return"<"+(K(l.value)||"Unknown")+">";case ml:return":has("+(vl(l)||"")+")";case no:return'[role="'+l.value+'"]';case Ni:return'"'+l.value+'"';case io:return'[data-testname="'+l.value+'"]';default:throw Error(a(365))}}function oo(l,u){var m=[];l=[l,0];for(var v=0;v<l.length;){var x=l[v++],T=l[v++],F=u[T];if(x.tag!==5||!Ji(x)){for(;F!=null&&yl(x,F);)F=u[++T];if(T===u.length)m.push(x);else for(x=x.child;x!==null;)l.push(x,T),x=x.sibling}}return m}function Zr(l,u){if(!Gn)throw Error(a(363));l=oo(l=gl(l),u),u=[],l=Array.from(l);for(var m=0;m<l.length;){var v=l[m++];if(v.tag===5)Ji(v)||u.push(v.stateNode);else for(v=v.child;v!==null;)l.push(v),v=v.sibling}return u}var ao=Math.ceil,aa=c.ReactCurrentDispatcher,Iu=c.ReactCurrentOwner,Tt=c.ReactCurrentBatchConfig,st=0,tr=null,qt=null,Bt=0,rr=0,Di=jn(0),nr=0,ys=null,vs=0,_s=0,Nn=0,Oi=null,_r=null,Fi=0,_l=1/0,hn=null;function lo(){_l=Dt()+500}var Ru,Nt=!1,la=null,ui=null,ua=!1,Yn=null,ha=0,qn=0,Lt=null,Wt=-1,Qt=0;function ur(){return 6&st?Dt():Wt!==-1?Wt:Wt=Dt()}function Dn(l){return 1&l.mode?2&st&&Bt!==0?Bt&-Bt:Hf.transition!==null?(Qt===0&&(Qt=dh()),Qt):(l=ct)!==0?l:Ke():1}function Rr(l,u,m,v){if(50<qn)throw qn=0,Lt=null,Error(a(185));Mo(l,m,v),2&st&&l===tr||(l===tr&&(!(2&st)&&(_s|=m),nr===4&&hi(l,Bt)),Jr(l,v),m===1&&st===0&&!(1&u.mode)&&(lo(),is&&sn()))}function Jr(l,u){var m=l.callbackNode;(function(x,T){for(var F=x.suspendedLanes,X=x.pingedLanes,re=x.expirationTimes,de=x.pendingLanes;0<de;){var ye=31-vn(de),Re=1<<ye,fe=re[ye];fe===-1?Re&F&&!(Re&X)||(re[ye]=Uc(Re,T)):fe<=T&&(x.expiredLanes|=Re),de&=~Re}})(l,u);var v=Ha(l,l===tr?Bt:0);if(v===0)m!==null&&bi(m),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(m!=null&&bi(m),u===1)l.tag===0?function(x){is=!0,Xs(x)}(Qn.bind(null,l)):Xs(Qn.bind(null,l)),zn?Ao(function(){!(6&st)&&sn()}):ii(fh,sn),m=null;else{switch(Si(v)){case 1:m=fh;break;case 4:m=zc;break;case 16:default:m=ko;break;case 536870912:m=Gf}m=Qh(m,xr.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function xr(l,u){if(Wt=-1,Qt=0,(6&st)!=0)throw Error(a(327));var m=l.callbackNode;if(Kn()&&l.callbackNode!==m)return null;var v=Ha(l,l===tr?Bt:0);if(v===0)return null;if(30&v||v&l.expiredLanes||u)u=El(l,v);else{u=v;var x=st;st|=2;var T=$h();for(tr===l&&Bt===u||(hn=null,lo(),Bi(l,u));;)try{ed();break}catch(X){Mu(l,X)}gh(),aa.current=T,st=x,qt!==null?u=0:(tr=null,Bt=0,u=nr)}if(u!==0){if(u===2&&(x=ja(l))!==0&&(v=x,u=xl(l,x)),u===1)throw m=ys,Bi(l,0),hi(l,v),Jr(l,Dt()),m;if(u===6)hi(l,v);else{if(x=l.current.alternate,(30&v)==0&&!function(X){for(var re=X;;){if(16384&re.flags){var de=re.updateQueue;if(de!==null&&(de=de.stores)!==null)for(var ye=0;ye<de.length;ye++){var Re=de[ye],fe=Re.getSnapshot;Re=Re.value;try{if(!_n(fe(),Re))return!1}catch{return!1}}}if(de=re.child,16384&re.subtreeFlags&&de!==null)de.return=re,re=de;else{if(re===X)break;for(;re.sibling===null;){if(re.return===null||re.return===X)return!0;re=re.return}re.sibling.return=re.return,re=re.sibling}}return!0}(x)&&((u=El(l,v))===2&&(T=ja(l))!==0&&(v=T,u=xl(l,T)),u===1))throw m=ys,Bi(l,0),hi(l,v),Jr(l,Dt()),m;switch(l.finishedWork=x,l.finishedLanes=v,u){case 0:case 1:throw Error(a(345));case 2:case 5:ho(l,_r,hn);break;case 3:if(hi(l,v),(130023424&v)===v&&10<(u=Fi+500-Dt())){if(Ha(l,0)!==0)break;if(((x=l.suspendedLanes)&v)!==v){ur(),l.pingedLanes|=l.suspendedLanes&x;break}l.timeoutHandle=ge(ho.bind(null,l,_r,hn),u);break}ho(l,_r,hn);break;case 4:if(hi(l,v),(4194240&v)===v)break;for(u=l.eventTimes,x=-1;0<v;){var F=31-vn(v);T=1<<F,(F=u[F])>x&&(x=F),v&=~T}if(v=x,10<(v=(120>(v=Dt()-v)?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*ao(v/1960))-v)){l.timeoutHandle=ge(ho.bind(null,l,_r,hn),v);break}ho(l,_r,hn);break;default:throw Error(a(329))}}}return Jr(l,Dt()),l.callbackNode===m?xr.bind(null,l):null}function xl(l,u){var m=Oi;return l.current.memoizedState.isDehydrated&&(Bi(l,u).flags|=256),(l=El(l,u))!==2&&(u=_r,_r=m,u!==null&&wl(u)),l}function wl(l){_r===null?_r=l:_r.push.apply(_r,l)}function hi(l,u){for(u&=~Nn,u&=~_s,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-vn(u),v=1<<m;l[m]=-1,u&=~v}}function Qn(l){if(6&st)throw Error(a(327));Kn();var u=Ha(l,0);if(!(1&u))return Jr(l,Dt()),null;var m=El(l,u);if(l.tag!==0&&m===2){var v=ja(l);v!==0&&(u=v,m=xl(l,v))}if(m===1)throw m=ys,Bi(l,0),hi(l,u),Jr(l,Dt()),m;if(m===6)throw Error(a(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,ho(l,_r,hn),Jr(l,Dt()),null}function cn(l){Yn!==null&&Yn.tag===0&&!(6&st)&&Kn();var u=st;st|=1;var m=Tt.transition,v=ct;try{if(Tt.transition=null,ct=1,l)return l()}finally{ct=v,Tt.transition=m,!(6&(st=u))&&sn()}}function uo(){rr=Di.current,mt(Di)}function Bi(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==Me&&(l.timeoutHandle=Me,be(m)),qt!==null)for(m=qt.return;m!==null;){var v=m;switch(nu(v),v.tag){case 1:(v=v.type.childContextTypes)!=null&&Ws();break;case 3:Zs(),mt(Wr),mt(Ar),ln();break;case 5:Sh(v);break;case 4:Zs();break;case 13:case 19:mt(jt);break;case 10:Ka(v.type._context);break;case 22:case 23:uo()}m=m.return}if(tr=l,qt=l=Li(l.current,null),Bt=rr=u,nr=0,ys=null,Nn=_s=vs=0,_r=Oi=null,os!==null){for(u=0;u<os.length;u++)if((v=(m=os[u]).interleaved)!==null){m.interleaved=null;var x=v.next,T=m.pending;if(T!==null){var F=T.next;T.next=x,v.next=F}m.pending=v}os=null}return l}function Mu(l,u){for(;;){var m=qt;try{if(gh(),hs.current=Ko,fu){for(var v=Ut.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}fu=!1}if(cs=0,Zt=ar=Ut=null,nl=!1,ai=0,Iu.current=null,m===null||m.return===null){nr=1,ys=u,qt=null;break}e:{var T=l,F=m.return,X=m,re=u;if(u=Bt,X.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var de=re,ye=X,Re=ye.tag;if(!(1&ye.mode)&&(Re===0||Re===11||Re===15)){var fe=ye.alternate;fe?(ye.updateQueue=fe.updateQueue,ye.memoizedState=fe.memoizedState,ye.lanes=fe.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Ae=Js(F);if(Ae!==null){Ae.flags&=-257,Xn(Ae,F,X,0,u),1&Ae.mode&&Lh(T,de,u),re=de;var Ge=(u=Ae).updateQueue;if(Ge===null){var at=new Set;at.add(re),u.updateQueue=at}else Ge.add(re);break e}if(!(1&u)){Lh(T,de,u),ku();break e}re=Error(a(426))}else if(Rt&&1&X.mode){var ve=Js(F);if(ve!==null){!(65536&ve.flags)&&(ve.flags|=256),Xn(ve,F,X,0,u),qa(Zo(re,X));break e}}T=re=Zo(re,X),nr!==4&&(nr=2),Oi===null?Oi=[T]:Oi.push(T),T=F;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u,Wc(T,bu(0,re,u));break e;case 1:X=re;var Q=T.type,ae=T.stateNode;if(!(128&T.flags)&&(typeof Q.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(ui===null||!ui.has(ae)))){T.flags|=65536,u&=-u,T.lanes|=u,Wc(T,Ii(T,X,u));break e}}T=T.return}while(T!==null)}Vh(m)}catch(Se){u=Se,qt===m&&m!==null&&(qt=m=m.return);continue}break}}function $h(){var l=aa.current;return aa.current=Ko,l===null?Ko:l}function ku(){nr!==0&&nr!==3&&nr!==2||(nr=4),tr===null||!(268435455&vs)&&!(268435455&_s)||hi(tr,Bt)}function El(l,u){var m=st;st|=2;var v=$h();for(tr===l&&Bt===u||(hn=null,Bi(l,u));;)try{Jc();break}catch(x){Mu(l,x)}if(gh(),st=m,aa.current=v,qt!==null)throw Error(a(261));return tr=null,Bt=0,nr}function Jc(){for(;qt!==null;)Wh(qt)}function ed(){for(;qt!==null&&!Wa();)Wh(qt)}function Wh(l){var u=Ru(l.alternate,l,rr);l.memoizedProps=l.pendingProps,u===null?Vh(l):qt=u,Iu.current=null}function Vh(l){var u=l;do{var m=u.alternate;if(l=u.return,(32768&u.flags)==0){if((m=na(m,u,rr))!==null)return void(qt=m)}else{if((m=Au(m,u))!==null)return m.flags&=32767,void(qt=m);if(l===null)return nr=6,void(qt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(qt=u);qt=u=l}while(u!==null);nr===0&&(nr=5)}function ho(l,u,m){var v=ct,x=Tt.transition;try{Tt.transition=null,ct=1,function(T,F,X,re){do Kn();while(Yn!==null);if(6&st)throw Error(a(327));X=T.finishedWork;var de=T.finishedLanes;if(X===null)return null;if(T.finishedWork=null,T.finishedLanes=0,X===T.current)throw Error(a(177));T.callbackNode=null,T.callbackPriority=0;var ye=X.lanes|X.childLanes;if(function(Ae,Ge){var at=Ae.pendingLanes&~Ge;Ae.pendingLanes=Ge,Ae.suspendedLanes=0,Ae.pingedLanes=0,Ae.expiredLanes&=Ge,Ae.mutableReadLanes&=Ge,Ae.entangledLanes&=Ge,Ge=Ae.entanglements;var ve=Ae.eventTimes;for(Ae=Ae.expirationTimes;0<at;){var Q=31-vn(at),ae=1<<Q;Ge[Q]=0,ve[Q]=-1,Ae[Q]=-1,at&=~ae}}(T,ye),T===tr&&(qt=tr=null,Bt=0),!(2064&X.subtreeFlags)&&!(2064&X.flags)||ua||(ua=!0,Qh(ko,function(){return Kn(),null})),ye=(15990&X.flags)!=0,(15990&X.subtreeFlags)!=0||ye){ye=Tt.transition,Tt.transition=null;var Re=ct;ct=1;var fe=st;st|=4,Iu.current=null,function(Ae,Ge){for(j(Ae.containerInfo),De=Ge;De!==null;)if(Ge=(Ae=De).child,(1028&Ae.subtreeFlags)!=0&&Ge!==null)Ge.return=Ae,De=Ge;else for(;De!==null;){Ae=De;try{var at=Ae.alternate;if(1024&Ae.flags)switch(Ae.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(at!==null){var ve=at.memoizedProps,Q=at.memoizedState,ae=Ae.stateNode,Se=ae.getSnapshotBeforeUpdate(Ae.elementType===Ae.type?ve:Wn(Ae.type,ve),Q);ae.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:Ue&&$r(Ae.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(qe){Pt(Ae,Ae.return,qe)}if((Ge=Ae.sibling)!==null){Ge.return=Ae.return,De=Ge;break}De=Ae.return}at=gs,gs=!1}(T,X),ro(X,T),N(T.containerInfo),T.current=X,Xf(X),Va(),st=fe,ct=Re,Tt.transition=ye}else T.current=X;if(ua&&(ua=!1,Yn=T,ha=de),ye=T.pendingLanes,ye===0&&(ui=null),function(Ae){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Xa,Ae,void 0,(128&Ae.current.flags)==128)}catch{}}(X.stateNode),Jr(T,Dt()),F!==null)for(re=T.onRecoverableError,X=0;X<F.length;X++)de=F[X],re(de.value,{componentStack:de.stack,digest:de.digest});if(Nt)throw Nt=!1,T=la,la=null,T;1&ha&&T.tag!==0&&Kn(),ye=T.pendingLanes,1&ye?T===Lt?qn++:(qn=0,Lt=T):qn=0,sn()}(l,u,m,v)}finally{Tt.transition=x,ct=v}return null}function Kn(){if(Yn!==null){var l=Si(ha),u=Tt.transition,m=ct;try{if(Tt.transition=null,ct=16>l?16:l,Yn===null)var v=!1;else{if(l=Yn,Yn=null,ha=0,(6&st)!=0)throw Error(a(331));var x=st;for(st|=4,De=l.current;De!==null;){var T=De,F=T.child;if(16&De.flags){var X=T.deletions;if(X!==null){for(var re=0;re<X.length;re++){var de=X[re];for(De=de;De!==null;){var ye=De;switch(ye.tag){case 0:case 11:case 15:ia(8,ye,T)}var Re=ye.child;if(Re!==null)Re.return=ye,De=Re;else for(;De!==null;){var fe=(ye=De).sibling,Ae=ye.return;if(Qr(ye),ye===de){De=null;break}if(fe!==null){fe.return=Ae,De=fe;break}De=Ae}}}var Ge=T.alternate;if(Ge!==null){var at=Ge.child;if(at!==null){Ge.child=null;do{var ve=at.sibling;at.sibling=null,at=ve}while(at!==null)}}De=T}}if(2064&T.subtreeFlags&&F!==null)F.return=T,De=F;else e:for(;De!==null;){if(2048&(T=De).flags)switch(T.tag){case 0:case 11:case 15:ia(9,T,T.return)}var Q=T.sibling;if(Q!==null){Q.return=T.return,De=Q;break e}De=T.return}}var ae=l.current;for(De=ae;De!==null;){var Se=(F=De).child;if(2064&F.subtreeFlags&&Se!==null)Se.return=F,De=Se;else e:for(F=ae;De!==null;){if(2048&(X=De).flags)try{switch(X.tag){case 0:case 11:case 15:sa(9,X)}}catch(vt){Pt(X,X.return,vt)}if(X===F){De=null;break e}var qe=X.sibling;if(qe!==null){qe.return=X.return,De=qe;break e}De=X.return}}if(st=x,sn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Xa,l)}catch{}v=!0}return v}finally{ct=m,Tt.transition=u}}return!1}function Xh(l,u,m){l=oi(l,u=bu(0,u=Zo(m,u),1),1),u=ur(),l!==null&&(Mo(l,1,u),Jr(l,u))}function Pt(l,u,m){if(l.tag===3)Xh(l,l,m);else for(;u!==null;){if(u.tag===3){Xh(u,l,m);break}if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ui===null||!ui.has(v))){u=oi(u,l=Ii(u,l=Zo(m,l),1),1),l=ur(),u!==null&&(Mo(u,1,l),Jr(u,l));break}}u=u.return}}function Nu(l,u,m){var v=l.pingCache;v!==null&&v.delete(u),u=ur(),l.pingedLanes|=l.suspendedLanes&m,tr===l&&(Bt&m)===m&&(nr===4||nr===3&&(130023424&Bt)===Bt&&500>Dt()-Fi?Bi(l,0):Nn|=m),Jr(l,u)}function Yh(l,u){u===0&&(1&l.mode?(u=Ga,!(130023424&(Ga<<=1))&&(Ga=4194304)):u=1);var m=ur();(l=si(l,u))!==null&&(Mo(l,u,m),Jr(l,m))}function qh(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),Yh(l,m)}function td(l,u){var m=0;switch(l.tag){case 13:var v=l.stateNode,x=l.memoizedState;x!==null&&(m=x.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(a(314))}v!==null&&v.delete(u),Yh(l,m)}function Qh(l,u){return ii(l,u)}function rd(l,u,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(l,u,m,v){return new rd(l,u,m,v)}function Sl(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Li(l,u){var m=l.alternate;return m===null?((m=dn(l.tag,u,l.key,l.mode)).elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=14680064&l.flags,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function bl(l,u,m,v,x,T){var F=2;if(v=l,typeof l=="function")Sl(l)&&(F=1);else if(typeof l=="string")F=5;else e:switch(l){case g:return xs(m.children,x,T,u);case _:F=8,x|=8;break;case w:return(l=dn(12,m,u,2|x)).elementType=w,l.lanes=T,l;case R:return(l=dn(13,m,u,x)).elementType=R,l.lanes=T,l;case A:return(l=dn(19,m,u,x)).elementType=A,l.lanes=T,l;case D:return Du(m,x,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:F=10;break e;case b:F=9;break e;case C:F=11;break e;case k:F=14;break e;case U:F=16,v=null;break e}throw Error(a(130,l==null?l:typeof l,""))}return(u=dn(F,m,u,x)).elementType=l,u.type=v,u.lanes=T,u}function xs(l,u,m,v){return(l=dn(7,l,v,u)).lanes=m,l}function Du(l,u,m,v){return(l=dn(22,l,v,u)).elementType=D,l.lanes=m,l.stateNode={isHidden:!1},l}function Ou(l,u,m){return(l=dn(6,l,null,u)).lanes=m,l}function Kh(l,u,m){return(u=dn(4,l.children!==null?l.children:[],l.key,u)).lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function Yf(l,u,m,v,x){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ru(0),this.expirationTimes=ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ru(0),this.identifierPrefix=v,this.onRecoverableError=x,Je&&(this.mutableSourceEagerHydrationData=null)}function Zh(l,u,m,v,x,T,F,X,re){return l=new Yf(l,u,m,X,re),u===1?(u=1,T===!0&&(u|=8)):u=0,T=dn(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},_h(T),l}function Jh(l){if(!l)return pr;e:{if(te(l=l._reactInternals)!==l||l.tag!==1)throw Error(a(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Cr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(a(171))}if(l.tag===1){var m=l.type;if(Cr(m))return Lc(l,m,u)}return u}function ec(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return(l=xe(u))===null?null:l.stateNode}function Tl(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Fu(l,u){Tl(l,u),(l=l.alternate)&&Tl(l,u)}function qf(l){return(l=xe(l))===null?null:l.stateNode}function Qf(){return null}return Ru=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||Wr.current)$t=!0;else{if(!(l.lanes&m)&&!(128&u.flags))return $t=!1,function(Re,fe,Ae){switch(fe.tag){case 3:Ri(fe),Lo();break;case 5:Yc(fe);break;case 1:Cr(fe.type)&&eu(fe);break;case 4:hu(fe,fe.stateNode.containerInfo);break;case 10:Hc(0,fe.type._context,fe.memoizedProps.value);break;case 13:var Ge=fe.memoizedState;if(Ge!==null)return Ge.dehydrated!==null?(It(jt,1&jt.current),fe.flags|=128,null):Ae&fe.child.childLanes?Lr(Re,fe,Ae):(It(jt,1&jt.current),(Re=Tn(Re,fe,Ae))!==null?Re.sibling:null);It(jt,1&jt.current);break;case 19:if(Ge=(Ae&fe.childLanes)!=0,(128&Re.flags)!=0){if(Ge)return zh(Re,fe,Ae);fe.flags|=128}var at=fe.memoizedState;if(at!==null&&(at.rendering=null,at.tail=null,at.lastEffect=null),It(jt,jt.current),Ge)break;return null;case 22:case 23:return fe.lanes=0,Jo(Re,fe,Ae)}return Tn(Re,fe,Ae)}(l,u,m);$t=(131072&l.flags)!=0}else $t=!1,Rt&&1048576&u.flags&&Ya(u,Ys,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;bn(l,u),l=u.pendingProps;var x=Ei(u,Ar.current);zo(u,m),x=pu(null,u,v,l,x,m);var T=Wo();return u.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Cr(v)?(T=!0,eu(u)):T=!1,u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,_h(u),x.updater=Ja,u.stateNode=x,x._reactInternals=u,Eh(u,v,l,m),u=ps(null,u,v,!0,T,m)):(u.tag=0,Rt&&T&&Fo(u),Pr(null,u,x,m),u=u.child),u;case 16:v=u.elementType;e:{switch(bn(l,u),l=u.pendingProps,v=(x=v._init)(v._payload),u.type=v,x=u.tag=function(Re){if(typeof Re=="function")return Sl(Re)?1:0;if(Re!=null){if((Re=Re.$$typeof)===C)return 11;if(Re===k)return 14}return 2}(v),l=Wn(v,l),x){case 0:u=ea(null,u,v,l,m);break e;case 1:u=Tu(null,u,v,l,m);break e;case 11:u=Qc(null,u,v,l,m);break e;case 14:u=Kc(null,u,v,Wn(v.type,l),m);break e}throw Error(a(306,v,""))}return u;case 0:return v=u.type,x=u.pendingProps,ea(l,u,v,x=u.elementType===v?x:Wn(v,x),m);case 1:return v=u.type,x=u.pendingProps,Tu(l,u,v,x=u.elementType===v?x:Wn(v,x),m);case 3:e:{if(Ri(u),l===null)throw Error(a(387));v=u.pendingProps,x=(T=u.memoizedState).element,$c(l,u),Za(u,v,null,m);var F=u.memoizedState;if(v=F.element,Je&&T.isDehydrated){if(T={element:v,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},u.updateQueue.baseState=T,u.memoizedState=T,256&u.flags){u=kt(l,u,v,m,x=Zo(Error(a(423)),u));break e}if(v!==x){u=kt(l,u,v,m,x=Zo(Error(a(424)),u));break e}for(Je&&(yr=ql(u.stateNode.containerInfo),Ot=u,Rt=!0,$n=null,Ai=!1),m=tl(u,null,v,m),u.child=m;m;)m.flags=-3&m.flags|4096,m=m.sibling}else{if(Lo(),v===x){u=Tn(l,u,m);break e}Pr(l,u,v,m)}u=u.child}return u;case 5:return Yc(u),l===null&&Bo(u),v=u.type,x=u.pendingProps,T=l!==null?l.memoizedProps:null,F=x.children,he(v,x)?F=null:T!==null&&he(v,T)&&(u.flags|=32),eo(l,u),Pr(l,u,F,m),u.child;case 6:return l===null&&Bo(u),null;case 13:return Lr(l,u,m);case 4:return hu(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=$o(u,null,v,m):Pr(l,u,v,m),u.child;case 11:return v=u.type,x=u.pendingProps,Qc(l,u,v,x=u.elementType===v?x:Wn(v,x),m);case 7:return Pr(l,u,u.pendingProps,m),u.child;case 8:case 12:return Pr(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(v=u.type._context,x=u.pendingProps,T=u.memoizedProps,Hc(0,v,F=x.value),T!==null)if(_n(T.value,F)){if(T.children===x.children&&!Wr.current){u=Tn(l,u,m);break e}}else for((T=u.child)!==null&&(T.return=u);T!==null;){var X=T.dependencies;if(X!==null){F=T.child;for(var re=X.firstContext;re!==null;){if(re.context===v){if(T.tag===1){(re=Ci(-1,m&-m)).tag=2;var de=T.updateQueue;if(de!==null){var ye=(de=de.shared).pending;ye===null?re.next=re:(re.next=ye.next,ye.next=re),de.pending=re}}T.lanes|=m,(re=T.alternate)!==null&&(re.lanes|=m),yh(T.return,m,u),X.lanes|=m;break}re=re.next}}else if(T.tag===10)F=T.type===u.type?null:T.child;else if(T.tag===18){if((F=T.return)===null)throw Error(a(341));F.lanes|=m,(X=F.alternate)!==null&&(X.lanes|=m),yh(F,m,u),F=T.sibling}else F=T.child;if(F!==null)F.return=T;else for(F=T;F!==null;){if(F===u){F=null;break}if((T=F.sibling)!==null){T.return=F.return,F=T;break}F=F.return}T=F}Pr(l,u,x.children,m),u=u.child}return u;case 9:return x=u.type,v=u.pendingProps.children,zo(u,m),v=v(x=En(x)),u.flags|=1,Pr(l,u,v,m),u.child;case 14:return x=Wn(v=u.type,u.pendingProps),Kc(l,u,v,x=Wn(v.type,x),m);case 15:return fs(l,u,u.type,u.pendingProps,m);case 17:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:Wn(v,x),bn(l,u),u.tag=1,Cr(v)?(l=!0,eu(u)):l=!1,zo(u,m),Vc(u,v,x),Eh(u,v,x,m),ps(null,u,v,!0,l,m);case 19:return zh(l,u,m);case 22:return Jo(l,u,m)}throw Error(a(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=si(l,134217728);u!==null&&Rr(u,l,134217728,ur()),Fu(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=si(l,1);u!==null&&Rr(u,l,1,ur()),Fu(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=Dn(l),m=si(l,u);m!==null&&Rr(m,l,u,ur()),Fu(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=gt(u.pendingLanes);m!==0&&($a(u,1|m),Jr(u,Dt()),!(6&st)&&(lo(),sn()))}break;case 13:cn(function(){var v=si(l,1);if(v!==null){var x=ur();Rr(v,l,1,x)}}),Fu(l,1)}},e.batchedUpdates=function(l,u){var m=st;st|=1;try{return l(u)}finally{(st=m)===0&&(lo(),is&&sn())}},e.createComponentSelector=function(l){return{$$typeof:ki,value:l}},e.createContainer=function(l,u,m,v,x,T,F){return Zh(l,u,!1,null,0,v,0,T,F)},e.createHasPseudoClassSelector=function(l){return{$$typeof:ml,value:l}},e.createHydrationContainer=function(l,u,m,v,x,T,F,X,re){return(l=Zh(m,v,!0,l,0,T,0,X,re)).context=Jh(null),m=l.current,(T=Ci(v=ur(),x=Dn(m))).callback=u??null,oi(m,T,x),l.current.lanes=x,Mo(l,x,v),Jr(l,v),l},e.createPortal=function(l,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:v==null?null:""+v,children:l,containerInfo:u,implementation:m}},e.createRoleSelector=function(l){return{$$typeof:no,value:l}},e.createTestNameSelector=function(l){return{$$typeof:io,value:l}},e.createTextSelector=function(l){return{$$typeof:Ni,value:l}},e.deferredUpdates=function(l){var u=ct,m=Tt.transition;try{return Tt.transition=null,ct=16,l()}finally{ct=u,Tt.transition=m}},e.discreteUpdates=function(l,u,m,v,x){var T=ct,F=Tt.transition;try{return Tt.transition=null,ct=1,l(u,m,v,x)}finally{ct=T,Tt.transition=F,st===0&&lo()}},e.findAllNodes=Zr,e.findBoundingRects=function(l,u){if(!Gn)throw Error(a(363));u=Zr(l,u),l=[];for(var m=0;m<u.length;m++)l.push(Ma(u[m]));for(u=l.length-1;0<u;u--)for(var v=(m=l[u]).x,x=v+m.width,T=m.y,F=T+m.height,X=u-1;0<=X;X--)if(u!==X){var re=l[X],de=re.x,ye=de+re.width,Re=re.y,fe=Re+re.height;if(v>=de&&T>=Re&&x<=ye&&F<=fe){l.splice(u,1);break}if(!(v!==de||m.width!==re.width||fe<T||Re>F)){Re>T&&(re.height+=Re-T,re.y=T),fe<F&&(re.height=F-Re),l.splice(u,1);break}if(!(T!==Re||m.height!==re.height||ye<v||de>x)){de>v&&(re.width+=de-v,re.x=v),ye<x&&(re.width=x-de),l.splice(u,1);break}}return l},e.findHostInstance=ec,e.findHostInstanceWithNoPortals=function(l){return(l=(l=le(l))!==null?Z(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return ec(l)},e.flushControlled=function(l){var u=st;st|=1;var m=Tt.transition,v=ct;try{Tt.transition=null,ct=1,l()}finally{ct=v,Tt.transition=m,(st=u)===0&&(lo(),sn())}},e.flushPassiveEffects=Kn,e.flushSync=cn,e.focusWithin=function(l,u){if(!Gn)throw Error(a(363));for(u=oo(l=gl(l),u),u=Array.from(u),l=0;l<u.length;){var m=u[l++];if(!Ji(m)){if(m.tag===5&&ka(m.stateNode))return!0;for(m=m.child;m!==null;)u.push(m),m=m.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ct},e.getFindAllNodesFailureDescription=function(l,u){if(!Gn)throw Error(a(363));var m=0,v=[];l=[gl(l),0];for(var x=0;x<l.length;){var T=l[x++],F=l[x++],X=u[F];if((T.tag!==5||!Ji(T))&&(yl(T,X)&&(v.push(vl(X)),++F>m&&(m=F)),F<u.length))for(T=T.child;T!==null;)l.push(T,F),T=T.sibling}if(m<u.length){for(l=[];m<u.length;m++)l.push(vl(u[m]));return`findAllNodes was able to match part of the selector:
  `+v.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?B(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:qf,findFiberByHostInstance:l.findFiberByHostInstance||Qf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{Xa=u.inject(l),nn=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,m,v){if(!Gn)throw Error(a(363));l=Zr(l,u);var x=Na(l,m,v).disconnect;return{disconnect:function(){x()}}},e.registerMutableSourceForHydration=function(l,u){var m=u._getVersion;m=m(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,m]:l.mutableSourceEagerHydrationData.push(u,m)},e.runWithPriority=function(l,u){var m=ct;try{return ct=l,u()}finally{ct=m}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,m,v){var x=u.current,T=ur(),F=Dn(x);return m=Jh(m),u.context===null?u.context=m:u.pendingContext=m,(u=Ci(T,F)).payload={element:l},(v=v===void 0?null:v)!==null&&(u.callback=v),(l=oi(x,u,F))!==null&&(Rr(l,x,F,T),ls(l,x,F)),F},e}),zv}({get exports(){return Rg},set exports(i){Rg=i}}).exports=dA();var fA=UT(Rg),P_={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},kg={},Xd={get exports(){return kg},set exports(i){kg=i}};(function(){var i,e,t,r,s,a;typeof performance<"u"&&performance!==null&&performance.now?Xd.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Xd.exports=function(){return(i()-s)/1e6},e=process.hrtime,r=(i=function(){var c;return 1e9*(c=e())[0]+c[1]})(),a=1e9*process.uptime(),s=r-a):Date.now?(Xd.exports=function(){return Date.now()-t},t=Date.now()):(Xd.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(LT);var jv,Zu={},Dl={};({get exports(){return Zu},set exports(i){Zu=i}}).exports=(jv||(jv=1,Dl.ConcurrentRoot=1,Dl.ContinuousEventPriority=4,Dl.DefaultEventPriority=16,Dl.DiscreteEventPriority=1,Dl.IdleEventPriority=536870912,Dl.LegacyRoot=0),Dl);var pA={};function $m(i,e){i.addChild&&(i.addChild(e),typeof e.didMount=="function"&&e.didMount(e,i))}function I_(i,e){var t,r,s;(t=i.willUnmount)===null||t===void 0||t.call(i,i,e),((r=i.config)===null||r===void 0?void 0:r.destroyChildren)!==!1&&(s=i.children)!==null&&s!==void 0&&s.length&&To(i.children).forEach(function(a){I_(a,i)})}function $v(i,e){var t;I_(e,i),i.removeChild(e);var r=(t=e.config)!==null&&t!==void 0?t:{},s=r.destroy,a=s===void 0||s,c=r.destroyChildren,d=c===void 0||c,p=r.destroyTexture,g=p!==void 0&&p,_=r.destroyBaseTexture,w=_!==void 0&&_;a&&e.destroy({children:d,texture:g,baseTexture:w})}function Wv(i,e,t){var r,s;sr(e!==t,"Cannot insert node before itself"),i.children.indexOf(e)!==-1&&i.removeChild(e);var a=i.getChildIndex(t);i.addChildAt(e,a),(r=i.__reactpixi)===null||r===void 0||(s=r.root)===null||s===void 0||s.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var Vv=null,Yi=fA({getRootHostContext:function(){return pA},getChildHostContext:function(i){return i},getChildHostContextForEventComponent:function(i){return i},getPublicInstance:function(i){return i},getCurrentEventPriority:function(){return function(){var i,e;if(typeof window>"u")return Zu.DefaultEventPriority;switch((i=window)===null||i===void 0||(e=i.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Zu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Zu.ContinuousEventPriority;default:return Zu.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(i){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=lA[i];if(typeof a=="function"&&(e=a(s,r)),!e){var c=C_[i];c&&((e=c.create(r,{root:s})).didMount=c.didMount?c.didMount.bind(e):void 0,e.willUnmount=c.willUnmount?c.willUnmount.bind(e):void 0,e.applyProps=c.applyProps?c.applyProps.bind(e):void 0,e.config=c.config)}return e&&(e.__reactpixi={root:s},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:Ns)(e,{},r)),e},hideInstance:function(i){i.visible=!1},unhideInstance:function(i,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;i.visible=t},finalizeInitialChildren:function(i,e,t){return!1},prepareUpdate:function(i,e,t,r,s,a){return Vv=function(c,d,p,g){var _=null;for(var w in p)!g.hasOwnProperty(w)&&p.hasOwnProperty(w)&&p[w]!==null&&(w===Pg||(_||(_=[]),_.push(w,null)));for(var S in g){var b=g[S],C=p!==null?p[S]:void 0;!g.hasOwnProperty(S)||b===C||b===null&&C===null||S===Pg||(_||(_=[]),_.push(S,b))}return _}(0,0,t,r)},shouldSetTextContent:function(i,e){return!1},shouldDeprioritizeSubtree:function(i,e){var t=e.alpha===void 0||e.alpha>0,r=e.renderable===void 0||e.renderable===!0,s=e.visible===void 0||e.visible===!0;return!(t&&r&&s)},createTextInstance:function(i,e,t){sr(!1,'Error trying to add text node "'.concat(i,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(i,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:kg,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=$m.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),a},appendChild:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=$m.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),a},appendChildToContainer:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=$m.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),a},removeChild:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=$v.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),a},removeChildFromContainer:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=$v.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),a},insertBefore:Wv,insertInContainerBefore:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Wv.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),a},commitUpdate:function(i,e,t,r,s){var a,c,d=i&&i.applyProps;typeof d!="function"&&(d=Ns),(d(i,r,s)||Vv)&&((a=i.__reactpixi)===null||a===void 0||(c=a.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(i,e,t,r,s){},commitTextUpdate:function(i,e,t){},resetTextContent:function(i){},clearContainer:function(i){},getFundamentalComponentInstance:function(i){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(i){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(i){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(i){throw new Error("Not yet implemented.")},getInstanceFromNode:function(i){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(i){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(i){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(i){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(i){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(i){}}),mA=P_.dependencies["react-dom"].replace(/[^0-9.]/g,""),gA=P_.name;Yi.injectIntoDevTools({bundleType:0,version:mA,rendererPackageName:gA,findHostInstanceByFiber:Yi.findHostInstance});var Ta=new Map;function R_(i){if(sr(gn.prototype.isPrototypeOf(i),"Invalid argument `container`, expected instance of `Container`."),Ta.has(i)){var e=Ta.get(i).pixiFiberContainer;Yi.updateContainer(null,e,void 0,function(){Ta.delete(i)})}}function M_(i){sr(gn.prototype.isPrototypeOf(i),"Invalid argument `container`, expected instance of `Container`.");var e=Ta.get(i);if(sr(!e,"createRoot should only be called once"),!e){var t=Yi.createContainer(i);e={pixiFiberContainer:t,reactRoot:{render:function(r){return Yi.updateContainer(r,t,void 0),Yi.getPublicRootInstance(t)},unmount:function(){R_(i),Ta.delete(i)}}},Ta.set(i,e)}return e.reactRoot}function yA(i,e,t){var r;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Ta.has(e)?r=Ta.get(e).reactRoot:r=M_(e),r.render(i)}function vA(i){R_(i)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Mc.apply(this,arguments)}function _A(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function xA(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,b_(r.key),r)}}function go(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function wf(i,e){return wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},wf(i,e)}function wA(i,e){if(e&&(ti(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return go(i)}function Ef(i){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ef(i)}var Bf=wo.createContext(null),k_=Bf.Provider,N_=Bf.Consumer,EA=function(i){var e=wo.forwardRef(function(t,r){return wo.createElement(N_,null,function(s){return wo.createElement(i,Mc({},t,{ref:r,app:s}))})});return e.displayName="withPIXIApp(".concat(i.displayName||i.name,")"),e};function SA(i){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ef(i);if(e){var s=Ef(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return wA(this,t)}}function Xv(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function Yd(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xv(Object(t),!0).forEach(function(r){dr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Xv(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Yv=function(){},D_={width:Gt.number,height:Gt.number,onMount:Gt.func,onUnmount:Gt.func,raf:Gt.bool,renderOnComponentChange:Gt.bool,children:Gt.node,options:Gt.shape({autoStart:Gt.bool,width:Gt.number,height:Gt.number,useContextAlpha:Gt.bool,backgroundAlpha:Gt.number,autoDensity:Gt.bool,antialias:Gt.bool,preserveDrawingBuffer:Gt.bool,resolution:Gt.number,forceCanvas:Gt.bool,backgroundColor:Gt.number,clearBeforeRender:Gt.bool,powerPreference:Gt.string,sharedTicker:Gt.bool,sharedLoader:Gt.bool,resizeTo:function(i,e){var t=i[e];t&&sr(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(ti(t),", expect `window` or an `HTMLElement`."))},view:function(i,e,t){var r=i[e];r&&sr(r instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(ti(r),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},bA={width:800,height:600,onMount:Yv,onUnmount:Yv,raf:!0,renderOnComponentChange:!0},Ng=function(i){(function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),c&&wf(a,c)})(s,wo.Component);var e,t,r=SA(s);function s(){var a;_A(this,s);for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return dr(go(a=r.call.apply(r,[this].concat(d))),"_canvas",null),dr(go(a),"_mediaQuery",null),dr(go(a),"_ticker",null),dr(go(a),"_needsUpdate",!0),dr(go(a),"app",null),dr(go(a),"updateSize",function(){var g=a.props,_=g.width,w=g.height,S=g.options;S!=null&&S.resolution||(a.app.renderer.resolution=window.devicePixelRatio,a.resetInteractionManager()),a.app.renderer.resize(_,w)}),dr(go(a),"needsRenderUpdate",function(){a._needsUpdate=!0}),dr(go(a),"renderStage",function(){var g=a.props,_=g.renderOnComponentChange;!g.raf&&_&&a._needsUpdate&&(a._needsUpdate=!1,a.app.renderer.render(a.app.stage))}),a}return e=s,(t=[{key:"componentDidMount",value:function(){var a=this.props,c=a.onMount,d=a.width,p=a.height,g=a.options,_=a.raf,w=a.renderOnComponentChange;this.app=new kf(Yd(Yd({width:d,height:p,view:this._canvas},g),{},{autoDensity:(g==null?void 0:g.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[_?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Yi.createContainer(this.app.stage),Yi.updateContainer(this.getChildren(),this.mountNode,this),c(this.app),g!=null&&g.autoDensity&&window.matchMedia&&(g==null?void 0:g.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),w&&!_&&(this._ticker=new Dr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(a,c,d){var p,g=this.props,_=g.width,w=g.height,S=g.raf,b=g.renderOnComponentChange,C=g.options;(C==null?void 0:C.resolution)!==void 0&&(a==null?void 0:a.options.resolution)!==(C==null?void 0:C.resolution)&&(this.app.renderer.resolution=C.resolution,this.resetInteractionManager()),a.height===w&&a.width===_&&((p=a.options)===null||p===void 0?void 0:p.resolution)===(C==null?void 0:C.resolution)||this.updateSize(),a.raf!==S&&this.app.ticker[S?"start":"stop"](),Yi.updateContainer(this.getChildren(),this.mountNode,this),a.width===_&&a.height===w&&a.raf===S&&a.renderOnComponentChange===b&&a.options===C||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var a=this.app.renderer.plugins.interaction;a!=null&&a.resolution&&(a.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var a=this.props.children;return wo.createElement(k_,{value:this.app},a)}},{key:"componentDidCatch",value:function(a,c){console.error("Error occurred in `Stage`."),console.error(a),console.error(c)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Yi.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var a,c,d=this,p=this.props.options;return p&&p.view?(sr(p.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):wo.createElement("canvas",Mc({},(a=this.props,c=[].concat(To(Object.keys(D_)),To(Object.keys(Ig))),Object.keys(a).filter(function(g){return!c.includes(g)}).reduce(function(g,_){return Yd(Yd({},g),{},dr({},_,a[_]))},{})),{ref:function(g){return d._canvas=g}}))}}])&&xA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),s}();Ng.propTypes=D_,Ng.defaultProps=bA;var TA=Ng;function O_(){var i=Vt.useContext(Bf);return sr(i instanceof kf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),i}function AA(i){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=O_();sr(typeof i=="function","`useTick` needs a callback function."),sr(t instanceof kf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var r=Vt.useRef(null);Vt.useEffect(function(){r.current=i},[i]),Vt.useEffect(function(){if(e){var s=function(a){return r.current.apply(t.ticker,[a,t.ticker])};return t.ticker.add(s),function(){t.ticker&&t.ticker.remove(s)}}},[e])}function CA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dg(i,e,t){return Dg=CA()?Reflect.construct.bind():function(r,s,a){var c=[null];c.push.apply(c,s);var d=new(Function.bind.apply(r,c));return a&&wf(d,a.prototype),d},Dg.apply(null,arguments)}var PA=["children","apply"];function qv(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function qd(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qv(Object(t),!0).forEach(function(r){dr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):qv(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var IA=function(i,e){sr(ti(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),r=function(s){var a=s.children,c=s.apply,d=Ra(s,PA),p=Vt.useRef(Vt.useMemo(function(){return t.map(function(w){var S,b=(d==null||(S=d[w])===null||S===void 0?void 0:S.construct)||[];return Dg(e[w],To(b))})},[t])),g=Vt.useMemo(function(){return t.reduce(function(w,S,b){return qd(qd({},w),{},dr({},S,p.current[b]))},{})},[t]),_=Vt.useMemo(function(){return Object.keys(d).filter(A_(T_(t))).reduce(function(w,S){return qd(qd({},w),{},dr({},S,d[S]))},{})},[d,t]);return t.forEach(function(w,S){return Object.assign(p.current[S],d[w])}),c&&function(){for(var w=arguments.length,S=new Array(w),b=0;b<w;b++)S[b]=arguments[b];return S.every(function(C){return typeof C=="function"})}(c)&&c.call(i,g),wo.createElement(i,Mc({},_,{filters:p.current}),a)};return r.displayName="FilterWrapper",r.propTypes={children:Gt.node,apply:Gt.func},r},RA=Un.BitmapText,MA=Un.Container,kA=Un.Graphics,NA=Un.NineSlicePlane,DA=Un.ParticleContainer,OA=Un.Sprite,FA=Un.AnimatedSprite,BA=Un.Text,LA=Un.TilingSprite,UA=Un.SimpleMesh,zA=Un.SimpleRope;const GA=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:FA,AppConsumer:N_,AppContext:Bf,AppProvider:k_,BitmapText:RA,Container:MA,Graphics:kA,NineSlicePlane:NA,ParticleContainer:DA,PixiComponent:uA,PixiFiber:Yi,SimpleMesh:UA,SimpleRope:zA,Sprite:OA,Stage:TA,TYPES:Un,Text:BA,TilingSprite:LA,applyDefaultProps:Ns,createRoot:M_,eventHandlers:xf,render:yA,unmountComponentAtNode:vA,useApp:O_,useTick:AA,withFilters:IA,withPixiApp:EA},Symbol.toStringTag,{value:"Module"})),HA=t1(GA);var Qv;function jA(){return Qv||(Qv=1,Ac.exports=HA),Ac.exports}var sh=jA(),$A=Object.defineProperty,Lf=(i,e)=>$A(i,"name",{value:e,configurable:!0});function yo(i,e){return(i%e+e)%e}Lf(yo,"mod");function At(i,e,t=!1){let r=1/0,s;return i==0&&e==0?t?s=NaN:s=0:i==0&&rn(e)?s=0*1:rn(i)&&e==0?s=i*1:rn(i)&&rn(e)?t?s=NaN:i==e?s=1:s=-1:e==0?(t&&(s=NaN),s=r*i):rn(e)?(t&&(s=NaN),s=0*i):s=i/e,s}Lf(At,"safeDivide");function rn(i){return i===-1/0||i===1/0}Lf(rn,"isInfinity");function Sc(i,e){if(e==0)return i;if(rn(e))return 1/0;let t=Math.pow(e,-1),r=Math.pow(e/10,-1),s=Math.round(i*r)/r,a=Math.round(s*t)/t;return Math.round((a+Number.EPSILON)*t)/t}Lf(Sc,"roundTo");var WA=Object.defineProperty,Kv=(i,e)=>WA(i,"name",{value:e,configurable:!0});const Le=class Le{constructor(...e){pn(this,"x");pn(this,"y");if(e[0]instanceof Object){let t=e[0];this.x=(t==null?void 0:t.x)||0,this.y=(t==null?void 0:t.y)||0}else if(e[0]instanceof Array){let t=e[0];this.x=t[0],this.y=t[1]}else if(typeof e[0]=="number"&&typeof e[1]=="number"){let[t,r]=e;this.x=t,this.y=r}else this.x=0,this.y=0}static get ZERO(){return new Le(0,0)}static get ONE(){return new Le(1,1)}static get NEG_ONE(){return new Le(-1,-1)}static get INF(){return new Le(1/0,1/0)}static get NEG_INF(){return new Le(-1/0,-1/0)}static get EPSILON(){return new Le(Number.MIN_VALUE,Number.MIN_VALUE)}static get UP(){return new Le(0,-1)}static get DOWN(){return new Le(0,1)}static get LEFT(){return new Le(-1,0)}static get RIGHT(){return new Le(1,0)}static ADD(e,t){return new Le(e.x+t.x,e.y+t.y)}add(e){this.x+=e.x,this.y+=e.y}static SUBTRACT(e,t){return new Le(e.x-t.x,e.y-t.y)}subtract(e){this.x-=e.x,this.y-=e.y}static MULTIPLY(e,t){return typeof t=="number"&&(t=new Le(t,t)),new Le(e.x*t.x,e.y*t.y)}multiply(e){if(typeof e=="number")return this.scaled(e);this.x*=e.x,this.y*=e.y}static DIVIDE(e,t){return typeof t=="number"&&(t=new Le(t,t)),new Le(e.x/t.x,e.y/t.y)}divide(e){if(typeof e=="number")return this.scaled(1/e);this.x/=e.x,this.y/=e.y}static SCALE(e,t){return new Le(e.x*t,e.y*t)}scaleBy(e){this.x*=e,this.y*=e}scaled(e){return new Le(this.x*e,this.y*e)}static MOD(e,t){return new Le(yo(e.x,t.x),yo(e.y,t.y))}mod(e){this.x=yo(this.x,e.x),this.y=yo(this.y,e.y)}static MODBY(e,t){return new Le(yo(e.x,t),yo(e.y,t))}modBy(e){this.x=yo(this.x,e),this.y=yo(this.y,e)}static DOT(e,t){return e.x*t.x+e.y*t.y}static EQUALS(e,t,r=0){let s=r;return e===t?!0:!e||!t?!1:(e==null?void 0:e.x)===(t==null?void 0:t.x)&&(e==null?void 0:e.y)===(t==null?void 0:t.y)||Sc(e.x,s)===Sc(t.x,s)&&Sc(e.y,s)===Sc(t.y,s)||Math.abs((e==null?void 0:e.x)-(t==null?void 0:t.x))<Number.EPSILON&&Math.abs((e==null?void 0:e.y)-(t==null?void 0:t.y))<Number.EPSILON}equals(e,t=0){return Le.EQUALS(this,e,t)}static SortAlgo(e,t){return e.isGreaterThan(t)?1:e.isLesserThan(t)?-1:0}static SortAlgoX(e,t){return e.x>t.x?1:e.x<t.x?-1:0}static SortAlgoY(e,t){return e.y>t.y?1:e.y<t.y?-1:0}static SortAlgoXY(e,t){return e.x>t.x?1:e.x<t.x?-1:e.y>t.y?1:e.y<t.y?-1:0}static SortAlgoYX(e,t){return e.y>t.y?1:e.y<t.y?-1:e.x>t.x?1:e.x<t.x?-1:0}static SortAlgoAvg(e,t){let r,s;e.x>t.x?r=1:e.x<t.x?r=-1:r=0,e.y>t.y?s=1:e.y<t.y?s=-1:s=0;let a=r+s/2;return Math.trunc(a)}abs(){var e=new Le(Math.abs(this.x),Math.abs(this.y));return e}lengthSquared(){var e=Math.pow(this.x,2)+Math.pow(this.y,2);return e}length(){return Math.sqrt(this.lengthSquared())}lerp(e,t){let r=this.x+(e.x-this.x)*t,s=this.y+(e.y-this.y)*t;return new Le(r,s)}sumOfParts(){return this.x+this.y}ratioed(){var e=this.sumOfParts();return new Le(At(this.x,e),At(this.y,e))}isNormalised(){return Math.abs(this.lengthSquared()-1)==0}normalized(){var e=this.length();return new Le(At(this.x,e),At(this.y,e))}normalised(){return this.normalized()}magnitude(){return this.length()}dot(e){return this.x*e.x+this.y*e.y}lineTo(e){return Le.SUBTRACT(e,this)}gradient(){return At(this.y,this.x)}angle(){return Math.atan2(this.y,this.x)}angleTo(e){return Math.atan2(this.y,this.x)-Math.atan2(e.y,e.x)}angleToPoint(e){return this.lineTo(e).angle()}angleBetween(e,t){let r=new Le(this),s=e.y*(r.x-t.x)+r.y*(t.x-e.x)+t.y*(e.x-r.x),a=(e.x-r.x)*(r.x-t.x)+(e.y-r.y)*(r.y-t.y);return Math.atan2(s,a)}distanceSquaredTo(e){return Le.SUBTRACT(e,this).lengthSquared()}distanceTo(e){return Le.SUBTRACT(e,this).length()}directionTo(e){return Le.SUBTRACT(e,this).normalized()}rotateAround(e,t){let r=new Le(this),s=new Le(e),a=Math.sin(t),c=Math.cos(t);r.x-=s.x,r.y-=s.y,this.x=r.x*c-r.y*a+s.x,this.y=r.x*a+r.y*c+s.y}rotated(e,t){let r=new Le(this),s=new Le(e),a=Math.sin(t),c=Math.cos(t);r.x-=s.x,r.y-=s.y;let d=r.x*c-r.y*a+s.x,p=r.x*a+r.y*c+s.y;return new Le(d,p)}skewed(e,t){let r=new Le(this),s=new Le(e);r.x-=s.x,r.y-=s.y;let a=r.x+r.y*t.x+s.x,c=r.x*t.y+r.y+s.y;return new Le(a,c)}skew(e,t){let r=new Le(this),s=new Le(e);r.x-=s.x,r.y-=s.y,this.x=r.x+r.y*t.x+s.x,this.y=r.x*t.y+r.y+s.y}static INVERSE(e){let t=At(1,e.x),r=At(1,e.y);return new Le(t,r)}inverse(){let e=At(1,this.x),t=At(1,this.y);return new Le(e,t)}static FLIPPED(e){return new Le(e.y,e.x)}flipped(){return new Le(this.y,this.x)}static MIDPOINT(e){e instanceof Array||(e=[]);let t=0,r=0;for(let c of e)t+=c.x,r+=c.y;let s=At(t,e.length),a=At(r,e.length);return new Le(s,a)}midPoint(e){let t=[];e instanceof Array?t=t.concat(e):t.push(e);let r=0,s=0;for(let d of t)r+=d.x,s+=d.y;r+=this.x,s+=this.y;let a=At(r,t.length+1),c=At(s,t.length+1);return new Le(a,c)}floor(){return new Le(Math.floor(this.x),Math.floor(this.y))}ceil(){return new Le(Math.ceil(this.x),Math.ceil(this.y))}reflect(e){return Le.SUBTRACT(this,Le.SCALE(e,2*Le.DOT(this,e)))}project(e){let t=Math.pow(this.x,2)+Math.pow(this.y,2);return Le.SCALE(e,this.dot(e)/t)}slide(e){return Le.SUBTRACT(this,Le.SCALE(e,this.dot(e)))}bounce(e){return Le.NEG(this.reflect(e))}closestPoint(e,t=!1){if(!(e!=null&&e.length))return null;let r=null,s=1/0;for(let a of e){if(t&&Le.EQUALS(a,this))continue;let c=Math.abs(this.distanceTo(a));c<s&&(r=a,s=c)}return r}sortPointsByClosest(e){if(!(e!=null&&e.length))return null;let t=e.slice(),r=t.length,s=[];for(let a=0;a<r;a++){let c=this.closestPoint(t);if(!c)continue;s.push(c);let d=t.indexOf(c);t.splice(d,1),a--}return s}toString(){return"( "+String(this.x)+" , "+String(this.y)+" )"}asObject(){return{x:this.x,y:this.y}}asArray(){return[this.x,this.y]}toJSON(){return this.asObject()}isGreaterThan(e){return this.lengthSquared()>e.lengthSquared()}isLesserThan(e){return this.lengthSquared()<e.lengthSquared()}static NEG(e){return new Le(-e.x,-e.y)}neg(){return new Le(-this.x,-this.y)}static quadraticBezier(e,t){let r=[];for(let s=0;s<e.length-1;s++){let a=new Le(e[s]),c=new Le(e[s+1]),d=a.lerp(c,t);r.push(d)}return r.length<2?r[0]:Le.quadraticBezier(r,t)}static quadraticBezierPoints(e,t){let r=[];if(e instanceof Array&&typeof t=="number"&&t>0){let s=0,a=!1;for(;s<=1;)r.push(Le.quadraticBezier(e,s)),s+=t,s>1&&!a&&(s=1,a=!0)}return r}static getSVGAngle(e,t){let r=new Le(e),s=new Le(t),a=Le.DOT(r,s),c=r.length()*s.length();var d=Kv(function(g,_,w){return w=Math.max(_,w),_=Math.min(_,w),Math.min(Math.max(g,_),w)},"clamp");let p=Math.acos(d(a/c,-1,1));return r.x*s.y-r.y*s.x<0&&(p=-p),p}};Kv(Le,"Vector2");let pe=Le;var VA=Object.defineProperty,XA=(i,e)=>VA(i,"name",{value:e,configurable:!0});const pi=class pi{constructor(...e){pn(this,"a",1);pn(this,"b",-1);pn(this,"c",0);if(e[0]instanceof pi){let t=e[0];this.a=t.a,this.b=t.b,this.c=t.c}else if(e[0]instanceof Object&&e[1]instanceof Object){let t=e[0],r=e[1],s,a,c,d=new pe(t.x||t[0]||0,t.y||t[1]||0),p=new pe(r.x||r[0]||0,r.y||r[1]||0),g=pe.SUBTRACT(p,d).gradient(),_,w;rn(g)?(c=-(d.x||p.x),a=0,s=1):g==0?(s=0,a=-1,c=d.y||p.y):(_=d.y-g*d.x,w=At(-_,g),c=-(w*g),a=At(-c,_)||1,s=-(a*g)),this.a=s,this.b=a,this.c=c}else if(e[0]instanceof Object){let t=e[0];if("a"in t&&"b"in t&&"c"in t){let r=t;this.a=r.a,this.b=r.b,this.c=r.c}else if(("gradient"in t||"m"in t)&&("e"in t||"c"in t||"yIntercept"in t)){let r=t,s,a,c,d=r.gradient||r.m||0,p=r.e||r.c||r.yIntercept||0,g;"f"in r||"xIntercept"in r?(g=r.f||r.xIntercept||0,c=-(g*d)):(c=1,g=At(-c,d)),a=At(-c,p),s=-(a*d),this.a=s,this.b=a,this.c=c}else if(("f"in t||"x"in t||"c"in t||"xIntercept"in t)&&("e"in t||"y"in t||"yIntercept"in t)){let r=t,s,a,c,d=r.e||r.c||r.y||r.yIntercept||0,p=r.f||r.x||r.xIntercept||0,g=new pe(0-d,p-0).gradient();c=-(p*g),a=At(-c,d),s=-(a*g),this.a=s,this.b=a,this.c=c}}else if(typeof e[0]=="number"&&typeof e[1]=="number"&&typeof e[2]=="number"){let t=e[0],r=e[1],s=e[2],a,c,d;a=t,c=r,d=s,this.a=a,this.b=c,this.c=d}else if(typeof e[0]=="number"&&typeof e[1]=="number"){let t=e[0],r=e[1],s,a,c,d=r,p=t,g=new pe(0-d,p-0).gradient();c=-(p*g),a=At(-c,d),s=-(a*g),this.a=s,this.b=a,this.c=c}}static get Y_AXIS(){return new pi(1,0,0)}static get X_AXIS(){return new pi(0,-1,0)}static get ONE(){return new pi(1,-1,0)}static get NEG_ONE(){return new pi(1,1,0)}get gradient(){return At(-this.a,this.b)}get m(){return this.gradient}get xIntercept(){return At(-this.c,this.a)}get f(){return this.xIntercept}get yIntercept(){return At(-this.c,this.b)}get e(){return this.yIntercept}getX(e){let t;if(this.b!=0){let r=this.gradient,s=this.yIntercept;t=At(e-s,r)}else{let r=this.c,s=this.a;t=At(-r,s)}return t}getY(e){let t;if(this.a!=0){let r=this.gradient,s=this.yIntercept;t=r*e+s}else{let r=this.c,s=this.b;t=At(-r,s)}return t}equals(e){return this.gradient==e.gradient&&this.yIntercept==e.yIntercept&&this.xIntercept==e.xIntercept}isHorizontal(){return this.a===0}isVertical(){return this.b===0}hasPoint(e){let t=new pe(e),r;if(rn(this.a)&&rn(this.b))this.a==this.b?r=1/0+this.c:r=0+this.c;else{let s=this.a*t.x,a=this.b*t.y,c=this.c;r=s+a+c,r=Number(r)}return r==0}angle(){let e=this.xIntercept,t=this.yIntercept;if(e==1/0)return 0;if(e==-1/0)return Math.PI;if(t==1/0)return Math.PI/2;if(t==-1/0)return-(Math.PI/2);let r=new pe(e,0),s=new pe(0,t);return r.angleToPoint(s)}static INTERSECT(e,t){return e.intersect(t)}static INTERSECTS(e){if(!(e!=null&&e.length))return[];let t=[];for(let r of e)for(let s of e){if(r==s)continue;let a=pi.INTERSECT(r,s);a&&t.push(a)}return t}intersect(e){if(e.gradient==this.gradient)return null;let t=this.a,r=e.a,s=this.b,a=e.b,c=this.c,d=e.c,p=s*d,g=a*c,_=t*a,w=r*s,S=r*c,b=t*d,C,R,A;rn(p)&&rn(g)&&p==g?C=p:C=p-g,rn(_)&&rn(w)&&_==w?R=_:R=_-w,rn(S)&&rn(b)&&S==b?A=S:A=S-b;let k=At(C,R),U=At(A,R);return new pe(k,U)}perpendicular(e){if(e=new pe(e),this.a==0){let t=this.b,r=this.a,s=e.x;return new pi({a:t,b:r,c:s})}else if(this.b==0){let t=this.b,r=this.a,s=e.y;return new pi({a:t,b:r,c:s})}else{let t=At(-1,this.gradient),r=e.y+1/t*e.x,s=At(-r,t);return new pi({gradient:t,xIntercept:s,yIntercept:s})}}normal(){return new pe(this.a,this.b)}mirror(e){if(e=new pe(e),this.hasPoint(e))return new pe(e);let t=this.normal(),r=t.normalized(),s=At(this.c,t.length()),a=r.x*e.x+r.y*e.y+s,c=e.x-2*r.x*a,d=e.y-2*r.y*a;return new pe(c,d)}asObject(){return{a:this.a,b:this.b,c:this.c}}toString(){return`(${this.a}x + ${this.b}y + ${this.c})`}toJSON(){return this.asObject()}};XA(pi,"Vector2Line");let Zv=pi;var YA=Object.defineProperty,qA=(i,e)=>YA(i,"name",{value:e,configurable:!0});const Gr=class Gr{constructor(...e){pn(this,"position");pn(this,"size");let[t,r,s,a]=e;t instanceof Object?"position"in t&&"size"in t?(this.position=new pe(t.position),this.size=new pe(t.size)):"x"in t&&"y"in t&&"w"in t&&"h"in t?(this.position=new pe(t.x,t.y),this.size=new pe(t.w,t.h)):"x"in t&&"y"in t&&"x"in r&&"y"in r?(this.position=new pe(t),this.size=new pe(r)):"top"in t&&"left"in t&&"right"in t&&"bottom"in t?(this.position=new pe(t.left,t.top),this.size=new pe(t.right-t.left,t.bottom-t.top)):"t"in t&&"l"in t&&"r"in t&&"b"in t&&(this.position=new pe(t.l,t.t),this.size=new pe(t.r-t.l,t.b-t.t)):typeof t=="number"&&typeof r=="number"&&typeof s=="number"&&typeof a=="number"?(this.position=new pe(t,r),this.size=new pe(s,a)):(this.position=new pe,this.size=new pe)}static get ORIGIN(){return new Gr(0,0,1,1)}static EQUALS(e,t,r=0){if(e===t)return!0;if(!e||!t)return!1;let s=new Gr(e),a=new Gr(t);return!!(pe.EQUALS(s.position,a.position,r)&&pe.EQUALS(s.size,a.size,r))}static COMBINE(e){let t=[];for(let r of e)r instanceof Gr&&(t=t.concat(r.getCorners()));return Gr.from(t)}static from(e){return Gr.getFromPoints(e)}static getFromPoints(e){if(!(e instanceof Array))return null;let t,r,s,a;r=a=-1/0,t=s=1/0;for(let p of e)p=new pe(p),(t==null||t>p.x)&&(t=p.x),(s==null||s>p.y)&&(s=p.y),(r==null||r<p.x)&&(r=p.x),(a==null||a<p.y)&&(a=p.y);let c=r-t,d=a-s;return new Gr(t,s,c,d)}get start(){return new pe(this.left,this.top)}get end(){return new pe(this.right,this.bottom)}get center(){return pe.MIDPOINT([this.start,this.end])}get extents(){return pe.SUBTRACT(this.center,this.start)}get topLeft(){return new pe(this.left,this.top)}get topRight(){return new pe(this.right,this.top)}get bottomLeft(){return new pe(this.left,this.bottom)}get bottomRight(){return new pe(this.right,this.bottom)}get x(){return this.position.x}set x(e){this.position.x=e}get y(){return this.position.y}set y(e){this.position.y=e}get w(){return this.size.x}set w(e){this.size.x=e}get h(){return this.size.y}set h(e){this.size.y=e}get width(){return this.w}set width(e){this.w=e}get height(){return this.h}set height(e){this.h=e}get left(){return this.x}set left(e){this.w=this.right-e,this.x=e}get top(){return this.y}set top(e){this.h=this.bottom-e,this.y=e}get right(){return this.x+this.w}set right(e){this.w=e-this.left}get bottom(){return this.y+this.h}set bottom(e){this.h=e-this.top}equals(e,t=0){return Gr.EQUALS(this,e,t)}abs(){return new Gr(this.position,this.size.abs())}containsPoint(e){return e=new pe(e),!(e.x<this.left||e.x>this.right||e.y<this.top||e.y>this.bottom)}getIntersectWith(e,t=0){let r=new Gr(e);if(!this.intersectsWith(r,t))return null;let s=this.top>r.top?this.top:r.top,a=this.bottom<r.bottom?this.bottom:r.bottom,c=this.left>r.left?this.left:r.left,d=this.right<r.right?this.right:r.right;return new Gr(new pe(c,s),new pe(d-c,a-s))}intersectsWith(e,t=0){let r=new Gr(e);return!(this.right+t<r.left||this.left-t>r.right||this.bottom+t<r.top||this.top-t>r.bottom)}isTouching(e,t=0){return this.touches(e,t)}touches(e,t=0){let r=new Gr(e);return this.right+t==r.left||this.left-t==r.right||this.bottom+t==r.top||this.top-t==r.bottom}combine(e){return Gr.COMBINE([this,e])}getCorners(){return[this.topLeft,this.topRight,this.bottomRight,this.bottomLeft]}clampPoints(e){let t=this;return e.map(s=>(s=new pe(s),s.y>t.bottom&&(s.y=t.bottom),s.x>t.right&&(s.x=t.right),s.y<t.top&&(s.y=t.top),s.x<t.left&&(s.x=t.left),s))}asObject(){let e={x:this.x,y:this.y,w:this.w,h:this.h};return e=Object.assign(e,{get top(){return e.y},get bottom(){return e.y+e.h},get left(){return e.x},get right(){return e.x+e.w}}),e}asArray(){return[this.x,this.y,this.w,this.h]}toString(){var e=`Rect2( ${this.position} ${this.size})`;return e}toJSON(){var e,t;return{position:((e=this.position)==null?void 0:e.toJSON())||null,size:((t=this.size)==null?void 0:t.toJSON())||null}}};qA(Gr,"Rect2");let Jv=Gr;var QA=Object.defineProperty,KA=(i,e)=>QA(i,"name",{value:e,configurable:!0});const ei=class ei{constructor(...e){pn(this,"_position");pn(this,"_rotation");pn(this,"_scale");pn(this,"_skew");pn(this,"_anchor");pn(this,"_parent",null);pn(this,"_childs",[]);if(e[0]instanceof ei){let t=e[0];this.position=new pe(t.position),this.rotation=t.rotation,this.scale=new pe(t.scale),this.skew=new pe(t.skew),this.anchor=new pe(t.anchor)}else{let[t,r,s,a,c]=e;this.position=new pe(t),this.rotation=r,this.scale=new pe(s),this.skew=new pe(a),this.anchor=new pe(c)}}static get ORIGIN(){return new ei(pe.ZERO,0,pe.ONE,pe.ZERO,pe.ZERO)}static EQUALS(e,t,r=0){return e===t?!0:!t||!t?!1:!!(pe.EQUALS(e.position,t.position,r)&&pe.EQUALS(e.scale,t.scale,r)&&pe.EQUALS(e.skew,t.skew,r)&&pe.EQUALS(e.anchor,t.anchor,r))}static SIMILAR(e,t,r=0){return e===t?!0:!t||!t?!1:!!(pe.EQUALS(e.position,t.position,r)&&pe.EQUALS(e.scale,t.scale,r)&&pe.EQUALS(e.skew,t.skew,r))}static INVERSE(e){let t=pe.NEG(e.position),r=pe.INVERSE(e.scale),s=-e.rotation,a=pe.NEG(e.skew),c=e.anchor;return new ei(t,s,r,a,c)}get parent(){return this._parent}set parent(e){e instanceof ei&&(this._parent=e)}get position(){return this._position}set position(e){e instanceof pe&&(this._position=new pe(e))}get rotation(){return this._rotation}set rotation(e){this._rotation=Number(e)}get scale(){return this._scale}set scale(e){e instanceof pe&&(this._scale=new pe(e))}get skew(){return this._skew}set skew(e){e instanceof pe&&(this._skew=new pe(e))}get anchor(){return this._anchor}set anchor(e){e instanceof pe&&(this._anchor=new pe(e))}get children(){return this._childs}get childs(){return this.children}get a(){return this.scale.x*(Math.cos(this.rotation)-Math.sin(this.rotation)*Math.tan(this.skew.x))}get b(){return this.scale.y*(Math.sin(this.rotation)+Math.cos(this.rotation)*Math.tan(this.skew.y))}get c(){return this.scale.x*(Math.cos(this.rotation)*Math.tan(this.skew.x)-Math.sin(this.rotation))}get d(){return this.scale.y*(Math.sin(this.rotation)*Math.tan(this.skew.y)+Math.cos(this.rotation))}get tx(){return this.position.x}get ty(){return this.position.y}get matrix(){return[[this.a,this.c,this.tx],[this.b,this.d,this.ty],[0,0,1]]}inverted(){return ei.INVERSE(this)}setParent(e){e instanceof ei&&e!=this&&(this.parent&&this.parent.removeChild(this),this.parent=e)}addChild(e){e instanceof ei&&e!=this&&(e.setParent(this),this._childs.push(e))}removeChild(e){if(e==this)return null;let t,r=null;return e instanceof ei?t=this._childs.indexOf(e):typeof e=="number"&&(t=e),t>=0&&t<this._childs.length&&(r=this._childs[t],this._childs.splice(t,1),r._parent=null),r}getGlobalTransform(){var p;let t=((p=this.parent)==null?void 0:p.getGlobalTransform())||new ei,r=pe.ADD(t.position,this.position),s=t.rotation+this.rotation,a=pe.MULTIPLY(t.scale,this.scale),c=new pe(Math.tan(Math.atan(this.skew.x)+Math.atan(t.skew.x)),Math.tan(Math.atan(this.skew.y)+Math.atan(t.skew.y))),d=t.applyTransform(this.anchor,t.anchor);return new ei(r,s,a,c,d)}applyGlobalTransform(e,t=this.anchor,r=["S","K","R","T"]){let s=this.getGlobalTransform(),a=new pe(e);return a=s.applyTransform(e,t,r),a}applyTranslate(e,t=this.anchor){let r=new pe(e);return r=pe.SUBTRACT(r,t),r=pe.ADD(r,this.position),r=pe.ADD(r,t),r}applyRotate(e,t=this.anchor){let r=new pe(e);return r=pe.SUBTRACT(r,t),r=r.rotated(pe.ZERO,this.rotation),r=pe.ADD(r,t),r}applySkew(e,t=this.anchor){let r=new pe(e);return r=pe.SUBTRACT(r,t),r=r.skewed(pe.ZERO,this.skew),r=pe.ADD(r,t),r}applyScale(e,t=this.anchor){let r=new pe(e);return r=pe.SUBTRACT(r,t),r=pe.MULTIPLY(r,this.scale),r=pe.ADD(r,t),r}applyInverseTransform(e,t=this._anchor,r=["T","R","K","S"]){return this.inverted().applyTransform(e,t,r.slice())}applyTransform(e,t=this.anchor,r=["S","K","R","T"]){let s=new pe(e);s=pe.SUBTRACT(s,t);for(let a of r)if(a)switch(a==null?void 0:a.toUpperCase()){case"T":case"TRANSLATE":case"POSITION":s=this.applyTranslate(s,pe.ZERO);break;case"R":case"ROTATE":case"ROTATION":s=this.applyRotate(s,pe.ZERO);break;case"K":case"SKEW":s=this.applySkew(s,pe.ZERO);break;case"S":case"SCALE":case"SIZE":s=this.applyScale(s,pe.ZERO);break;default:s=s;break}return s=pe.ADD(s,t),s}asMatrix(){return this.matrix}asArray(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]}asObject(){var e,t,r,s;return{position:((e=this.position)==null?void 0:e.toJSON())||null,rotation:typeof this.rotation=="number"?this.rotation:null,scale:((t=this.scale)==null?void 0:t.toJSON())||null,skew:((r=this.skew)==null?void 0:r.toJSON())||null,anchor:((s=this.anchor)==null?void 0:s.toJSON())||null}}toString(){return`( Translate: ${this.position} Rotate: (${this.rotation}) Scale: ${this.scale} Skew: ${this.skew} Anchor: ${this.anchor} )`}toJSON(){return this.asObject()}};KA(ei,"Transform2");let e1=ei;function ZA({text:i,width:e,height:t}){const[r,s]=Vt.useState(new pe),a=d=>{console.log(d.touches);const p=d.currentTarget.getBoundingClientRect();s(new pe(d.touches[0].clientX-p.left,d.touches[0].clientY-p.top))},c=d=>{console.log(d.clientX);const p=d.currentTarget.getBoundingClientRect();s(new pe(d.clientX-p.left,d.clientY-p.top))};return Sr.jsx(Sr.Fragment,{children:Sr.jsx(sh.Stage,{options:{background:"black",antialias:!0},width:e,height:t,onMouseMove:c,onTouchMove:a,children:Sr.jsx(JA,{text:i,height:t,width:e,mousePosition:r})})})}function JA({text:i,width:e,height:t,mousePosition:r}){const[s,a]=Vt.useState(!1),[c,d]=Vt.useState(0),[p,g]=Vt.useState(0),[_,w]=Vt.useState(30),[S,b]=Vt.useState(!1),[C,R]=Vt.useState(!1),[A,k]=Vt.useState(0),[U,D]=Vt.useState(!1);Vt.useEffect(()=>{k(C?2:S?1:0)},[S,C]),Vt.useEffect(()=>{switch(A){case 2:document.body.style.cursor="grabbing";break;case 1:document.body.style.cursor="grab";break;default:document.body.style.cursor=""}},[A]),Vt.useEffect(()=>{vc.load("./font/chewy.xml").then(()=>{a(!0),console.log("Loaded font!")}),document.body.onmouseup=()=>{R(!1)},document.body.ontouchend=()=>{R(!1)}},[]),Vt.useEffect(()=>{w(30+i.length*35)},[i]);const $=()=>{const le=new pe(e/2,t/2),xe=new pe(le.x-_/2+35/2,le.y),Y=new pe(le.x+_/2+35/2,le.y);xe.rotateAround(le,c),Y.rotateAround(le,c);const Z=[];for(let ue=0;ue<i.length;ue++){const _e=i[ue],B=ue/i.length,G=xe.lerp(Y,B);Z.push(Sr.jsx(eC,{char:_e,index:ue,position:G}))}return Z},O=le=>{le.clear(),le.beginFill("grey"),le.drawRoundedRect(0,0,_,35,15),le.endFill()},K=()=>{const le=new pe(e/2,t/2);le.subtract(r);const xe=le.normalized(),Y=pe.RIGHT;Y.rotateAround(pe.ZERO,c);const Z=Y.angleTo(xe);return z(Z,0)>3},z=(le,xe)=>{let Y=Math.abs(le-xe)%(2*Math.PI);return Y>Math.PI?2*Math.PI-Y:Y};function te(le,xe){let Y=(xe-le)%(2*Math.PI);return Y>Math.PI&&(Y-=2*Math.PI),Y<-Math.PI&&(Y+=2*Math.PI),Y}function ce(le){const xe=z(le,Math.PI*2)>Math.PI/2?Math.PI:0;return te(le,xe)}return sh.useTick(le=>{let xe=c;if(C){const Y=new pe(e/2,t/2);Y.subtract(r);const Z=Y.normalized(),ue=U?pe.LEFT:pe.RIGHT;ue.rotateAround(pe.ZERO,xe);const _e=ue.angleTo(Z);xe-=_e,xe=Math.abs(xe)%(Math.PI*2)*Math.sign(xe),g(-_e)}else{xe+=p*le,xe=Math.abs(xe)%(Math.PI*2)*Math.sign(xe);const Y=ce(xe);g((p+Y*Math.exp(-le)/4)*Math.exp(-le/10)),Math.abs(Y)<.01&&Math.abs(p)<.001&&g(0)}d(xe)}),Sr.jsxs(Sr.Fragment,{children:[Sr.jsx(sh.Graphics,{draw:O,pivot:[_/2,35/2],eventMode:"dynamic",rotation:c,x:e/2,y:t/2,onmouseenter:()=>b(!0),onmouseleave:()=>b(!1),onmousedown:()=>{D(K()),R(!0)},ontouchstart:()=>{D(K()),R(!0)}}),s&&$()]})}function eC({char:i,position:e}){return Sr.jsx(Sr.Fragment,{children:Sr.jsxs(sh.Container,{x:e.x,y:e.y,children:[Sr.jsx(sh.Graphics,{draw:t=>{t.clear(),t.beginFill("red"),t.drawCircle(0,0,5),t.endFill()}}),Sr.jsx(sh.BitmapText,{text:i,anchor:[.5,.6],fontSize:35,style:{fontName:"Chewy",align:"center"}})]})})}function tC(){const[i,e]=Vt.useState("PALINDROME");return Sr.jsxs(Sr.Fragment,{children:[Sr.jsx(ZA,{text:i,height:500,width:1e3}),Sr.jsx("input",{value:i,onChange:t=>{e(t.target.value.toUpperCase())}})]})}yx.createRoot(document.getElementById("root")).render(Sr.jsx(Vt.StrictMode,{children:Sr.jsx(tC,{})}))});export default rC();
